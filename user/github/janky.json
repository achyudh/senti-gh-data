{"_default": {"1": {"mattr-": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/237", "title": "Support Ruby 2.4", "body": "We should be close to being able to support Ruby 2.4. Here's a list of the following things that I know about needing to be done before we can say we officially support Ruby 2.4:\r\n\r\n- Upgrade activerecord to version 4.2 at the earlier. Using a 5.x version would be better.\r\n- This section of code https://github.com/github/janky/blob/013b416af1307312b313a94ec77c1de2deaf05e8/lib/janky.rb#L56-L60 can be removed\r\n- Upgrade any other gems that are known to have incompatibilities with Ruby 2.4\r\n\r\nI'd also like to deprecate anything less than Ruby 2.4, so a warning similar to https://github.com/github/janky/blob/013b416af1307312b313a94ec77c1de2deaf05e8/lib/janky.rb#L1-L4\r\nfor Ruby 2.3 and below would be great!\r\n\r\ncc: @perlun", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/7239da23b6ed687d8edeedb913bbdee87b53114b", "message": "remove 1.8.7 and use 2.3.5 for CI"}, {"url": "https://api.github.com/repos/github/janky/commits/013b416af1307312b313a94ec77c1de2deaf05e8", "message": "Merge pull request #236 from github/work-with-ruby-2.2\n\nInstall a newer version of test-unit"}, {"url": "https://api.github.com/repos/github/janky/commits/4db887fcf6ade88cb16c36808be23cbaf00e15bd", "message": "Install a newer version of test-unit\n\nAllows developers to upgrade to Ruby 2.2.x instead of being stuck on\nRuby 2.1.x."}, {"url": "https://api.github.com/repos/github/janky/commits/49f792c43eade1a1855040ac488d1fbb273bd9c1", "message": "Merge pull request #235 from github/update-test-runner\n\nUpdate the test runner to work with newer rubies"}, {"url": "https://api.github.com/repos/github/janky/commits/fd4fe2a1f52bef5fcae246449889a5f9f1081adf", "message": "Remove unneeded comment"}, {"url": "https://api.github.com/repos/github/janky/commits/356edc59862d4f926b09a9955d37651e46af0b4b", "message": "Update the test runner to work with newer rubies\n\nRuby versions after 2.1.x remove the `testrb` script that used to shift\nwith Ruby by default. Due to its removal, copy the contents of the\nscript from an older version of Ruby and use it in our `script/test`\nscript so that we can upgrade Ruby without having to switch out the test\nframework and setup."}, {"url": "https://api.github.com/repos/github/janky/commits/e112d2bfef9cafb8dec603ddbfae786184b1c22e", "message": "v0.12.0"}, {"url": "https://api.github.com/repos/github/janky/commits/2a0151a716a82778c6b024b4413c5087f164a870", "message": "Merge pull request #233 from dlackty/ruby24\n\nUpdate ruby-yajl to support Ruby 2.4"}, {"url": "https://api.github.com/repos/github/janky/commits/ce1132391da38423278383004c8140aeb2a26650", "message": "Merge pull request #221 from github/support-newer-mysql2-gem\n\nSupport MySQL 5.7 and newer"}, {"url": "https://api.github.com/repos/github/janky/commits/7e7ade158ba3b7ff04560bc1cc8107e2ef5e01c9", "message": "Merge pull request #223 from ellneal/feature/paths\n\nUse path building methods to prevent errors"}, {"url": "https://api.github.com/repos/github/janky/commits/e0e1e96484c2c640086a93a92fc456c93b35e1b3", "message": "Support MySQL 5.7 and newer"}, {"url": "https://api.github.com/repos/github/janky/commits/7cd23c546c0c8fbd7ee13a4aa81a2626c3781c73", "message": "Always use the room_id from the build\n\nSince builds can have specific room ids, switch to fetching the room\nfrom the build instead of the repository the build is for."}, {"url": "https://api.github.com/repos/github/janky/commits/7a5ec47f8fb0b0cc57625f6748c0f563440b3f87", "message": "Update the Travis configuration for Janky\n\nBuild on 2.1, 2.2, and 2.3. Allow failures on 2.3."}, {"url": "https://api.github.com/repos/github/janky/commits/44b31a1ac0b7429f8edde026b4332f7c033e95d5", "message": "Add a fancy badge for the gem version"}, {"url": "https://api.github.com/repos/github/janky/commits/40b2d32b7b920a74dc05faac88ec5350cff7b4d5", "message": "Merge pull request #217 from mal/patch-1\n\nFix Chat Notifications"}, {"url": "https://api.github.com/repos/github/janky/commits/139923939081c516546554e16e3e023fbd091ae1", "message": "Merge pull request #216 from github/remove-digest-deprecation-warnings\n\nRemove deprecation warnings using OpenSSL::Digest"}, {"url": "https://api.github.com/repos/github/janky/commits/73e5f5cf121b7aed33ae5ba9f4724e670e75210c", "message": "Merge pull request #215 from github/upgrade-mocha\n\nUpgrade Mocha to 0.14.0"}, {"url": "https://api.github.com/repos/github/janky/commits/b9398b510d2318f7846b3d00d5120b9d538b6c74", "message": "Remove deprecation warnings using OpenSSL::Digest"}, {"url": "https://api.github.com/repos/github/janky/commits/0595031ac3f9241db5468bdf8e90b3240bd83686", "message": "Remove deprecation warning after upgrading mocha"}, {"url": "https://api.github.com/repos/github/janky/commits/ab5d5726eb0776a20475c396a2bfd243c52aa11b", "message": "bump the mocha dependency"}, {"url": "https://api.github.com/repos/github/janky/commits/3ee341dcc3a7fb9b55c15521b42d8271bfe5358b", "message": "ignore ctags files"}, {"url": "https://api.github.com/repos/github/janky/commits/30c88532088322d719995ffde7fcd9c3bb451bb8", "message": "Merge pull request #213 from mjrussell/hubot-readme-updates\n\nUpdate README with hubot notifier info"}, {"url": "https://api.github.com/repos/github/janky/commits/e9214e87e6e0f1456a8b130e56a27131c8f1db72", "message": "v0.11.1"}, {"url": "https://api.github.com/repos/github/janky/commits/7d8e58d922f5be056a695c6b218d627e528d6648", "message": "Merge pull request #211 from mjrussell/hubot-gemspec\n\nAdd hubot chat service to gemspec"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mkantor": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/194", "title": "Janky doesn't know how to build tags", "body": "This is true for builds triggered by GitHub webhooks and hubot:\n\n```\nmkantor: hubot ci build janky/v0.10.2\nhubot: Unknown branch \"v0.10.2\". Push again\n```\n\nI was surprised by this since I my git experience tells me that annotated tags are just another kind of named ref and should be treated similarly to branches in general.\n\nThe particular issue that caused me to realize this was that release tags for a project configured with Janky were not being CI'd. If anything needs to be built/tested, it's releases! I'm able to work around this by telling hubot to `hubot ci build project/master` immediately after tagging, but this is kind of silly.\n\n~~Janky also doesn't understand how to build SHAs, which is unfortunate but a bit more understandable.~~ **EDIT:** It looks like #186 fixed this.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Mezzle": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/187", "title": "[Suggestion] Stats per branch", "body": "Allow (for the purpose of some Dashboards, for example) to do something similar to the hubot status request for a branch - but for a project, returning the status of all known branches (or all current branches on Github).\n\nI currently have to poll this via the Github API for each individual branch (grab branches, get sha's request build status for each sha).  Doing this via janky would be preferable (so as to not overload github, and to have it all in a single request)\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "lstoll": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/179", "title": "Setting hook bombs if hook exists.", "body": "If the repo already has a hook in place, you get this\n\n```\nirb(main):008:0> Janky::Repository.setup('libgit2/rugged', 'rugged-continuous')\nJanky::Error: Failed to create hook\n    from /data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-29f5cf09ae91/lib/janky/github.rb:125:in `hook_create'\n    from /data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-29f5cf09ae91/lib/janky/repository.rb:147:in `setup_hook'\n    from /data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-29f5cf09ae91/lib/janky/repository.rb:139:in `setup'\n    from /data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-29f5cf09ae91/lib/janky/repository.rb:37:in `setup'\n    from (irb):8\n    from /usr/share/rbenv/versions/1.9.3-p231-tcs-github/bin/irb:12:in `<main>'\n```\n\nThis should handle removing/updating it properly, or maybe at least a more descriptive error message.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "robrix": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/176", "title": "Fold/filter build output", "body": "Folding/filtering compiles/etc to allow you to see just the compiler/test errors but reveal the rest on demand would be lovely.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "asenchi": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/161", "title": "Database schema not able to handle GIANT WALLS OF TEXT", "body": "I am only reporting this as an `undesired behavior` issue and not necessarily a bug. Wanted to make note though for those debugging later.\n\n@joshaber ping'd today in Ops asking about Janky behavior. Basically Janky wouldn't see builds as actually completed:\n\n![image](https://f.cloud.github.com/assets/1329/808099/7766f2ce-ee5b-11e2-859e-6ad8fa5f350b.png)\n\nAfter looking at the output, Jenkins claimed SUCCESS:\n\n```\n** BUILD SUCCEEDED **\n\nFinished: SUCCESS\n```\n\nLooking further it seems that our `output` column in Janky is set to `mediumtext` which has a character limit of [16,777,215 characters](http://dev.mysql.com/doc/refman/5.0/en/blob.html). The output for these particular tests were much higher:\n\n```\n~ : wc -m ~/Downloads/consoleText.txt\n 24663273 /Users/asenchi/Downloads/consoleText.txt\n```\n\nSomething to keep in mind if we see this again. /cc @github/ops\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "aroben": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/152", "title": "/ci setup fails when a job already exists for the repository", "body": "I have a project I want to build on both Mac and Windows. To do this, I've created two jobs (`project-osx.xml.erb` and `project-win.xml.erb`). Setting up the first one works just fine:\n\n```\n/ci setup owner/repo project-osx\n```\n\nBut setting up the second one fails because the GitHub Hooks API recently changed to disallow duplicate hooks on repositories:\n\n```\n/ci setup owner/repo project-win\n```\n\n``` js\n{\n  \"message\": \"Validation Failed\",\n  \"errors\": [\n    {\n      \"resource\": \"Hook\",\n      \"code\": \"custom\",\n      \"message\": \"Hook already exists on this repository\"\n    }\n  ]\n}\n```\n\n```\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/github.rb:125:in `hook_create'\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/repository.rb:146:in `setup_hook'\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/repository.rb:138:in `setup'\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/repository.rb:36:in `setup'\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/hubot.rb:15:in `block in '\n```\n\n/cc @technoweenie\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/149", "title": "Can't set up repositories where Janky's GitHub user isn't an admin", "body": "I'm trying to add a personal repo ([aroben/libchromiumcontent](https://github.com/aroben/libchromiumcontent)) to an existing Janky instance. But every time I do, it throws an exception in `Repository.hook_create`. We're getting a 404 response from api.github.com when trying to create the service hook. This is happening because the user that Janky is authenticating as is not an admin on the repo. (Of course it isn't; since it's a personal repo, only I am an admin on the repo!)\n\nIt's quite easy for me to set up the service hook manually, of course. But there's no way for Janky to know that I've done so, since only admins can _list_ hooks on repos.\n\nI'd love for there to be a way to get this working. Maybe Janky could say \"Hey, you need to add SOMEURL as service hook to your repo\"?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Iristyle": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/111", "title": "Enabling authentication - infinite OAuth Redirect Loop", "body": "I'm _sure_ I'm missing something obvious here, but I'm seeing a redirect loop when I enable organizational security for my Janky install.\n\nPer the docs\n\n```\nTo restrict access to members of a GitHub organization, register a new OAuth application on GitHub with the callback set to $JANKY_BASE_URL/auth/github/callback then set a few extra settings:\n\nJANKY_SESSION_SECRET: Random session cookie secret. Typically generated by a tool like pwgen.\nJANKY_AUTH_CLIENT_ID: The client ID of the OAuth application.\nJANKY_AUTH_CLIENT_SECRET: The client secret of the OAuth application.\nJANKY_AUTH_ORGANIZATION: The organization name. Example: \"github\".\n```\n\nSo I register the OAuth app for my org, and plug in the the `JANKY_AUTH_CLIENT_ID` and `JANKY_AUTH_CLIENT_SECRET` for the app.  `JANKY_AUTH_ORGANIZATION` is of course my org name (EastPoint) in this case.  I randomly generate 16 characters for `JANKY_SESSION_SECRET`.\n\nIf I try to hit the url of my Janky install, it looks like it's working.  The app immediately redirects to \n\n```\nhttps://github.com/login/oauth/authorize?response_type=code&client_id=JANKY_AUTH_CLIENT_ID&scope=repo&redirect_uri=https%3A%2F%2FMY.JANKY.SITE%2Fauth%2Fgithub%2Fcallback\n```\n\nI click `Allow` to authorize and the OAuth flow continues with a 302 to\n\n```\nhttps://MY.JANKY.SITE/auth/github/callback?code=THECODE\n```\n\nWhen the request goes to my server, I have one `rack.session` and I'm assigned a new one,  and a 302 is sent which redirects me to the root of the site\n\n```\nhttps://MY.JANKY.SITE/\n```\n\nAt this point, a request is sent back to `https://github.com/login/oauth/authorize?` and it loops. As far as I can tell,  it would appear that Janky is either unable to lookup `THECODE` passed back from Github,  or is having some sort of issue properly managing / associating the given `rack.session` with the OAuth flow that just occurred.\n\nThere's nothing in the logs (is there a way to turn on something more verbose?)\n\nIs there some system-level dependency that I might be missing that could be preventing the calls back to GitHub by the Janky server from succeeding?\n\nSome notes about my environment, for completeness - everything here checks out:\n- Not running on Heroku - running on EC2 - Ubuntu 12.04.1 LTS - have the following packages installed - `sudo apt-get -y install curl ssh git-core git build-essential zlib1g zlib1g-dev libyaml-dev libxml2-dev libc6-dev autoconf automake libtool make postgresql postgresql-client postgresql-contrib libpq-dev ruby1.9.3 ruby1.9.1-dev rubygems1.9.1 ruby-bundler`, and I've also done an `install rubygems-update`\n- Ruby 1.9.3 (yes, I have made sure that default Ruby is not 1.8 -- see [here](http://lenni.info/blog/2012/05/installing-ruby-1-9-3-on-ubuntu-12-04-precise-pengolin/))\n- Postgres 9.1 -- I can connect to and see the relevant tables in the database that I've called `janky_production` - I've tested my connection configuration in `irb` and it's fine.\n- Running under Upstart - using [Foreman](https://github.com/ddollar/foreman) to generate the Upstart scripts - `RAILS_ENV` and `RACK_ENV` are both set to `production`\n- I created an authorization for my `JANKY_GITHUB_USER` and have configured `JANKY_GITHUB_STATUS_TOKEN` with the token\n- `JANKY_SESSION_SECRET` is a randomly generated 16 character string from `pwgen` per the docs suggestion.  Similarly `JANKY_GITHUB_HOOK_SECRET` has been generated in the same manner.\n- Hubot is configured properly with `hubot-scripts` and a `HUBOT_JANKY_URL`.  I can verify in HipChat that his part is working.  I can issue Hubot commands like `ci?` and the Janky result is properly parsed from `https://MY.JANKY.SITE/_hubot/help` as an example.  However, if I issue a command like `ci setup github/janky janky` I get the response `Error F7U12: Can't Setup.`\n- The Url configured for `JANKY_BUILDER_DEFAULT` is using basic auth over HTTPS.  This same basic url we've configured as a `WebHook Url` under the `Service Hooks` for the GitHub repo.  The webhook is using the Jenkins token style like `https://JANKY_GITHUB_USER:JENKINS_TOKEN@JENKINS..DOMAINcom/github-webhook/`.  The `JANKY_BUILDER_DEFAULT` looks identical, except that it doesn't have the `github-webhook/` part.\n- I can see the user count increase for the GitHub application assigned to `JANKY_AUTH_CLIENT_ID`, and I can see the application listed as approved under my user account -- so I know that GitHub side has properly handled the OAuth request from Janky ... it's just that Janky seems to be missing something.\n\nI've double and triple checked all my environment variables to make sure they match up, but it's possible I've done something stupid here.  \n\nOn the double-checking front, I've also discovered an undocumented `JANKY_AUTH_TEAM_ID` at https://github.com/github/janky/blob/master/lib/janky.rb#L155  I have configured this to the integer id for the `Developers` team of my organization, and I am a member.  I will add a new issue for updating the docs with a description of this.\n\nA couple other last gory, related details -- again, only mentioned for completeness really.\n- I am running two other apps hosted on EC2 that have GitHub OAuth enabled - Jenkins and ErrBit.  Both of these apps work totally fine, so I'm familiar with the process of setting up OAuth.  All of our users are automatically logged into these apps if they are logged into GitHub.\n- Technically speaking, at the network infrastructure level, these apps (Jenkins, Errbit and Janky) are running behind a reverse proxy setup. NGinx performs SSL termination, then forwards the request to HAProxy, which reverse proxies based on host header and forwards the request to an internal server -- so directly at the Janky instances listening thin app, default port 5000.  I hesitated to mention this, because I don't want to confuse the issue here, as we do have the `proxy_set_header` configurations in place.  I mention this only because maybe, just maybe, there's something different going on in the headers (than all the other apps we reverse proxy that work fine).  This piece of setup in `nginx.conf` has worked fine for years --\n\n```\nlocation / {\n                #proxy to haproxy\n                proxy_pass              http://localhost:80;\n                proxy_set_header        Host $host;\n                proxy_set_header        X-Real-IP $remote_addr;\n                proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;\n                proxy_set_header        X-Forwarded-Proto https;\n\n                proxy_redirect          off;\n        }\n```\n\nI think that covers it... lots of detail here -- hopefully someone can point me to what I'm missing!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/github/janky/pulls/131", "title": "Add support for forks / pull request events", "body": "Accept pull req events / pass JANKY_COMMIT_URL\n- JANKY_COMMIT_URL is now pushed to Jenkins jobs as parameter\n- Hook registration establishes pull_request event\n- Payload parser now speaks pull request event\n- Add API support for repos/#{nwo}/pulls/#{number}/commits\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dlackty": {"issues": [], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/f4cc82ab12cfad3ad1d168e09641d973dc93b180", "message": "Update ruby-yajl to support Ruby 2.4"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "ellneal": {"issues": [], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/4223dcbb8c670610c89dae64091d9076672dbcb1", "message": "Use path building in runners\nRemoves the need to warn about trailing slashes in the JANKY_BUILDER_DEFAULT environment variable"}, {"url": "https://api.github.com/repos/github/janky/commits/8dc819253b1e2642a2b28698ba4c14e7a63e9dbb", "message": "Use path builder for hubot chat service\nPrevents errors occurring related to trailing slashes on the the JANKY_HUBOT_URL environment variable"}, {"url": "https://api.github.com/repos/github/janky/commits/b80fc64a0f95e438ebcd77e09ac41399a56770ad", "message": "Allow tests to be run with custom database URL"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mal": {"issues": [], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/16c491b4c4065645cf4b0c89218d82ee9888f25a", "message": "Fix Chat Notifications\n\nPreviously `room_id` was being passed to `speak` as undefined and the notification send was failing."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mjrussell": {"issues": [], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/ebffff25c2a7137de1816374a99a328d82156721", "message": "Update README with hubot notifier info"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sr": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3219024", "body": "Thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3219024/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3219832", "body": "Woops. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3219832/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3224017", "body": "Thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3224017/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3229138", "body": "Looks like you didn't create the database. Try this:\n\n`heroku run db:migrate`\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3229138/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3229235", "body": "There's a [migration](https://github.com/github/janky/blob/master/lib/janky/database/migrate/1317384619_add_build_room_id.rb) that removes the default value later on. Removing it from the initial one doesn't hurt though. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3229235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3229313", "body": "Great, thanks. I think the [`Builder`](https://github.com/vivek/janky/blob/97208f48741da965549817e1f6f4485955f1946c/lib/janky/builder/http.rb) won't work over SSL either. Same fix should do it.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3229313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3248264", "body": "This is great, I'd really like to have this in 1.0. The APIs just need some work.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3248264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3248279", "body": "Woops, thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3248279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3248285", "body": ":+1:\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3248285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3261148", "body": "Interesting, didn't know about this plugin. Janky only supports Basic Auth right now. See [`Janky::Builder::HTTP`](https://github.com/github/janky/blob/076c5f306636feaa269da3526f0848372694bf73/lib/janky/builder/http.rb) and [`Janky::JobCreator`](https://github.com/github/janky/blob/a9e7a044b943dac97af4a486f0befc94af688725/lib/janky/job_creator.rb).\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3261148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3261186", "body": "For basic auth, set `JANKY_BUILDER_DEFAULT` to `http://user:pass@example.com:8080/`\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3261186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3261425", "body": "Janky master should give you more detailed errors:\n\n```\nERROR: Janky::Error - boomtown\n         url http://127.0.0.1:9393/boomtown\n    referrer\n      method  GET\n  user_agent Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/535.7 (KHTML, like Gecko) Chrome/16.0.912.63 Safari/535.7\n      params   {}\n   remote_ip 127.0.0.1\n     session   {}\n         foo  bar\n         app janky\n\n/Volumes/GitHub/ci/vendor/janky/lib/janky/app.rb:75:in `GET /boomtown'\n/Users/sr/.rbenv/versions/1.8.7-p352/lib/ruby/gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1211:in `call'\n/Users/sr/.rbenv/versions/1.8.7-p352/lib/ruby/gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1211:in `compile!'\n...\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3261425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269054", "body": "It's `script/cibuild`. Also it needs to be executable.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269055", "body": "Is this still a problem?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269055/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269070", "body": "Make sure the `JANKY_GITHUB_USER` user has write access to veevachi/api. Double check `JANKY_GITHUB_PASSWORD` as well.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269070/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269082", "body": "@wajiii db5d652354af61a70b31b3fb839ae71b88699892\n\n@jsmestad I am not sure to be honest. I don't about any other authentication mode.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269082/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269086", "body": "To clarify: this error is happening when trying to create the web hook using the GitHub API. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269086/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/1457920", "body": "I am hoping to spend some time in Janky next week and get a release out yeah. I'll make sure to include this.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1457920/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/3725342", "body": "Can you indent these like bellow and keep lines at 80 columns here please?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/3725342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/3742763", "body": ":sparkling_heart: \n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/3742763/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/github/janky/pulls/comments/311160", "body": "I generally don't like using `const_get` and whatnot. I'd like a more explicit system where chat services are registered. Something like this maybe:\n\n``` ruby\nclass CampfireChat\n  def self.setup(settings)\n  end\nend\n\nJanky.add_chat :campfire, CampfireChat\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311162", "body": "I'd like notifiers to be maintained outside of Janky. I think it's fine for now as we define the various APIs though.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311162/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311165", "body": "I'd change the signature to this instead:\n\n``` ruby\n def self.speak(message, room_id, output={})\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311167", "body": "The various adapters shouldn't need to implement this method.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311168", "body": "Yeah, I don't think we need the duplication here.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311175", "body": "I think this our the API right there:\n\n``` ruby\nclass Hipchat\n  def self.setup(settings)\n    @client = HipChat::Client.new(settings['JANKY_HIPCHAT_TOKEN'])\n  end\n\n  def self.speak(message, room_id, options={})\n    @client.speak(room_id, message)\n  end\n\n  def self.rooms\n    @client.rooms\n  end\nend\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311185", "body": "I am not sold on `ChatService`. Maybe just `Chat`?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313326", "body": "Please leave this out of the diff.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313327", "body": "Same here\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313327/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313329", "body": "What's `output` for?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313330", "body": "This line is super confusing. Please use a normal detect + if construct instead.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313331", "body": "Why duplicate `room_id` and `id` here? Also this should be a normal class or a `Struct`.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313333", "body": "We don't need an adapter at this point\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313333/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313334", "body": "Yeah. This whole class can go.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313335", "body": "What's the `\"CI\"` string for?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313336", "body": "This isn't really an adapter. Name it `@client` maybe?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313339", "body": "The API is already documented in `Janky::Chat`. We can remove the documentation.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313343", "body": "What's this about? It's kind of confusing.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/332764", "body": "Yeah exactly. I am so over separate gems and whatnot. I was going to say it's fine to keep hipchat in there 'cause it's not too crazy but I just realized it depends on more than just net/http. Guess I'll move it out of the core runtime dependencies.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/332764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/390601", "body": "Reverting this,  won't work in Campfire. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/390601/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "atmos": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3227773", "body": "It's not like you can post anyway. :P\n\nI'll let @sr decide.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3227773/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/4842420", "body": "Ugh, yeah. I'm on spotty network until next Monday but I'll cut a working version when I can verify what we're running in prod vs what's available on rubygems.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/4842420/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/4901670", "body": "0.10.2 is out now on rubygems.org.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/4901670/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "calavera": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3227894", "body": "The default room name should be always set here:\n\nhttps://github.com/github/janky/blob/master/lib/janky.rb#L135-139\n\nSo your room id is not actually necessary.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3227894/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3251090", "body": "nice!!! :+1:\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3251090/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/github/janky/pulls/comments/310438", "body": "That case statement is not going to end well. I think something like this can work better:\n\n``` ruby\nJanky::ChatService.setup(settings)\n```\n\n``` ruby\nmodule Janky::ChatService\n  def self.setup(settings)\n    service = Janky::ChatService.contants.detect {|chat| chat.to_s.casecmp(settings[\"JANKY_CHAT_SERVICE\"]) == 0} || :Campfire\n    Janky::ChatService.const_get(service).setup(settings)\n  end\nend\n```\n\n``` ruby\nclass Janky::ChatService::HipChat\n  def self.setup(settings)\n    # get here the ENV variables for HipChat and setup the chat\n  end\nend\n```\n\n``` ruby\nclass Janky::ChatService::Campfire\n  def self.setup(settings)\n    # get here the ENV variables for Campfire and setup the chat\n  end\nend\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/310438/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/310439", "body": "this is really nasty. I'd rather call the adapter each time. Btw, as a good practice, if you override method_missing your should override respond_to? too.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/310439/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "dustineichler": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3229271", "body": "Knew it'd be something obvious. Thanks SR.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3229271/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "schisamo": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3241896", "body": "@calavera thx for the feedback.  will incorporate and push the changes later this evening. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3241896/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3244015", "body": "^^ refactoring complete thx to feedback from @calavera .  Feel much better now that the method_missing magic is gone. :)\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3244015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3251012", "body": "Some additional refactors based on @sr 's feed back.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3251012/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3263871", "body": "@sr ^^ good feedback, take a look when you have a chance.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3263871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3264154", "body": "Two last second commits.  Moved `Janky::Chat::Mock` into it's own file (like the other mock classes).  Wasn't sure if you want the gemspec files value updated with my recent changes, I can easily remove that commit.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3264154/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/933902", "body": "Looks good.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/933902/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/github/janky/pulls/comments/310475", "body": "yeah I didn't like that approach...just took the quick and dirty :)  thanks for the tip.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/310475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/310476", "body": "I can dig it.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/310476/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313393", "body": "The 'room' object returned by the HipChat client use `room_id` instead of `id` for their identifier attribute.  I'm going to just create a Janky::HipChat::Room object to wrap (and normalize this).\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313394", "body": "That is the 'who' the message appears to come from.  I'm going to expose a `JANKY_HIPCHAT_FROM` or something similar and make `CI` the default.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313395", "body": "wasn't sure..that was there before I started my refactors :)\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313400", "body": "See my other comment re: the Room object returned by the HipChat client.  But best solution is to create a `Janky::HipChat::Room` class to normalize the naming differences (`id` vs `room_id`).\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313414", "body": "`output` is a hash for holding message output options...I would prefer a more traditional `opts` naming personally.  In the case of the HipChat client this would be used to [set a color for the message](https://github.com/mojotech/hipchat/blob/master/lib/hipchat.rb#L77-78).\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313414/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "subtleGradient": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3255490", "body": "HipChat support FTW! :+1:\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3255490/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "wajiii": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3263574", "body": "I think it would be useful to document this in the README; I eventually guessed the solution, then found this issue after it didn't work for me (now Janky fails while starting). When I figure out why, I'll share the details as a new issue in hopes of helping someone else.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3263574/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/911633", "body": "Excellent!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/911633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "jsmestad": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3263943", "body": "@sr is this something that is possbile to support? Another idea is if your aware of having jenkins use two modes of authentication (omniauth/warden style)\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3263943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/933883", "body": "interesting...\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/933883/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/1771493", "body": "Does this need a change on the Jenkins build setup side of things?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1771493/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "ethank": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3269059", "body": "Nope, got everything working. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269059/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "mhfs": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/934602", "body": "Thanks for taking care of that. =D\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/934602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "jessedearing": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/1449813", "body": "This breaks Heroku deployments because the syntax is MySQL specific. I am stepping out now, but I'll try and submit a PR later.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1449813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "maletor": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/1605931", "body": "Can we make this `find_each`? We have a lot of builds.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1605931/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "jspahrsummers": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/1771498", "body": "@jsmestad Sort of. Your Janky build jobs will have to be re-set up, or else Jenkins will complain. A quick `hubot ci setup project/repo` should do it.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1771498/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/1815401", "body": "@ejholmes You're absolutely right. Good call.\n\nCC @sr \n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1815401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "ejholmes": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/1815400", "body": "I think the [gist](https://gist.github.com/1497335) needs to be updated to include:\n\n``` xml\n<hudson.model.StringParameterDefinition>\n  <name>JANKY_BRANCH</name>\n  <description></description>\n  <defaultValue></defaultValue>\n</hudson.model.StringParameterDefinition>\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1815400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "parkr": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/4841294", "body": "you pushing this up to rubygems.org?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/4841294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/4846457", "body": ":heart: \n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/4846457/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/4901679", "body": "Thank you :tada: \n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/4901679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "halorgium": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/github/janky/pulls/comments/331799", "body": "Why not require the gem inside the Chat adapter file?\nThen if people are using that specific adapter, they just need to add the dependency to their Gemfile. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/331799/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}}, "2": {"mattr-": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/237", "title": "Support Ruby 2.4", "body": "We should be close to being able to support Ruby 2.4. Here's a list of the following things that I know about needing to be done before we can say we officially support Ruby 2.4:\r\n\r\n- Upgrade activerecord to version 4.2 at the earlier. Using a 5.x version would be better.\r\n- This section of code https://github.com/github/janky/blob/013b416af1307312b313a94ec77c1de2deaf05e8/lib/janky.rb#L56-L60 can be removed\r\n- Upgrade any other gems that are known to have incompatibilities with Ruby 2.4\r\n\r\nI'd also like to deprecate anything less than Ruby 2.4, so a warning similar to https://github.com/github/janky/blob/013b416af1307312b313a94ec77c1de2deaf05e8/lib/janky.rb#L1-L4\r\nfor Ruby 2.3 and below would be great!\r\n\r\ncc: @perlun", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/7239da23b6ed687d8edeedb913bbdee87b53114b", "message": "remove 1.8.7 and use 2.3.5 for CI"}, {"url": "https://api.github.com/repos/github/janky/commits/013b416af1307312b313a94ec77c1de2deaf05e8", "message": "Merge pull request #236 from github/work-with-ruby-2.2\n\nInstall a newer version of test-unit"}, {"url": "https://api.github.com/repos/github/janky/commits/4db887fcf6ade88cb16c36808be23cbaf00e15bd", "message": "Install a newer version of test-unit\n\nAllows developers to upgrade to Ruby 2.2.x instead of being stuck on\nRuby 2.1.x."}, {"url": "https://api.github.com/repos/github/janky/commits/49f792c43eade1a1855040ac488d1fbb273bd9c1", "message": "Merge pull request #235 from github/update-test-runner\n\nUpdate the test runner to work with newer rubies"}, {"url": "https://api.github.com/repos/github/janky/commits/fd4fe2a1f52bef5fcae246449889a5f9f1081adf", "message": "Remove unneeded comment"}, {"url": "https://api.github.com/repos/github/janky/commits/356edc59862d4f926b09a9955d37651e46af0b4b", "message": "Update the test runner to work with newer rubies\n\nRuby versions after 2.1.x remove the `testrb` script that used to shift\nwith Ruby by default. Due to its removal, copy the contents of the\nscript from an older version of Ruby and use it in our `script/test`\nscript so that we can upgrade Ruby without having to switch out the test\nframework and setup."}, {"url": "https://api.github.com/repos/github/janky/commits/e112d2bfef9cafb8dec603ddbfae786184b1c22e", "message": "v0.12.0"}, {"url": "https://api.github.com/repos/github/janky/commits/2a0151a716a82778c6b024b4413c5087f164a870", "message": "Merge pull request #233 from dlackty/ruby24\n\nUpdate ruby-yajl to support Ruby 2.4"}, {"url": "https://api.github.com/repos/github/janky/commits/ce1132391da38423278383004c8140aeb2a26650", "message": "Merge pull request #221 from github/support-newer-mysql2-gem\n\nSupport MySQL 5.7 and newer"}, {"url": "https://api.github.com/repos/github/janky/commits/7e7ade158ba3b7ff04560bc1cc8107e2ef5e01c9", "message": "Merge pull request #223 from ellneal/feature/paths\n\nUse path building methods to prevent errors"}, {"url": "https://api.github.com/repos/github/janky/commits/e0e1e96484c2c640086a93a92fc456c93b35e1b3", "message": "Support MySQL 5.7 and newer"}, {"url": "https://api.github.com/repos/github/janky/commits/7cd23c546c0c8fbd7ee13a4aa81a2626c3781c73", "message": "Always use the room_id from the build\n\nSince builds can have specific room ids, switch to fetching the room\nfrom the build instead of the repository the build is for."}, {"url": "https://api.github.com/repos/github/janky/commits/7a5ec47f8fb0b0cc57625f6748c0f563440b3f87", "message": "Update the Travis configuration for Janky\n\nBuild on 2.1, 2.2, and 2.3. Allow failures on 2.3."}, {"url": "https://api.github.com/repos/github/janky/commits/44b31a1ac0b7429f8edde026b4332f7c033e95d5", "message": "Add a fancy badge for the gem version"}, {"url": "https://api.github.com/repos/github/janky/commits/40b2d32b7b920a74dc05faac88ec5350cff7b4d5", "message": "Merge pull request #217 from mal/patch-1\n\nFix Chat Notifications"}, {"url": "https://api.github.com/repos/github/janky/commits/139923939081c516546554e16e3e023fbd091ae1", "message": "Merge pull request #216 from github/remove-digest-deprecation-warnings\n\nRemove deprecation warnings using OpenSSL::Digest"}, {"url": "https://api.github.com/repos/github/janky/commits/73e5f5cf121b7aed33ae5ba9f4724e670e75210c", "message": "Merge pull request #215 from github/upgrade-mocha\n\nUpgrade Mocha to 0.14.0"}, {"url": "https://api.github.com/repos/github/janky/commits/b9398b510d2318f7846b3d00d5120b9d538b6c74", "message": "Remove deprecation warnings using OpenSSL::Digest"}, {"url": "https://api.github.com/repos/github/janky/commits/0595031ac3f9241db5468bdf8e90b3240bd83686", "message": "Remove deprecation warning after upgrading mocha"}, {"url": "https://api.github.com/repos/github/janky/commits/ab5d5726eb0776a20475c396a2bfd243c52aa11b", "message": "bump the mocha dependency"}, {"url": "https://api.github.com/repos/github/janky/commits/3ee341dcc3a7fb9b55c15521b42d8271bfe5358b", "message": "ignore ctags files"}, {"url": "https://api.github.com/repos/github/janky/commits/30c88532088322d719995ffde7fcd9c3bb451bb8", "message": "Merge pull request #213 from mjrussell/hubot-readme-updates\n\nUpdate README with hubot notifier info"}, {"url": "https://api.github.com/repos/github/janky/commits/e9214e87e6e0f1456a8b130e56a27131c8f1db72", "message": "v0.11.1"}, {"url": "https://api.github.com/repos/github/janky/commits/7d8e58d922f5be056a695c6b218d627e528d6648", "message": "Merge pull request #211 from mjrussell/hubot-gemspec\n\nAdd hubot chat service to gemspec"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mkantor": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/194", "title": "Janky doesn't know how to build tags", "body": "This is true for builds triggered by GitHub webhooks and hubot:\n\n```\nmkantor: hubot ci build janky/v0.10.2\nhubot: Unknown branch \"v0.10.2\". Push again\n```\n\nI was surprised by this since I my git experience tells me that annotated tags are just another kind of named ref and should be treated similarly to branches in general.\n\nThe particular issue that caused me to realize this was that release tags for a project configured with Janky were not being CI'd. If anything needs to be built/tested, it's releases! I'm able to work around this by telling hubot to `hubot ci build project/master` immediately after tagging, but this is kind of silly.\n\n~~Janky also doesn't understand how to build SHAs, which is unfortunate but a bit more understandable.~~ **EDIT:** It looks like #186 fixed this.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Mezzle": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/187", "title": "[Suggestion] Stats per branch", "body": "Allow (for the purpose of some Dashboards, for example) to do something similar to the hubot status request for a branch - but for a project, returning the status of all known branches (or all current branches on Github).\n\nI currently have to poll this via the Github API for each individual branch (grab branches, get sha's request build status for each sha).  Doing this via janky would be preferable (so as to not overload github, and to have it all in a single request)\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "lstoll": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/179", "title": "Setting hook bombs if hook exists.", "body": "If the repo already has a hook in place, you get this\n\n```\nirb(main):008:0> Janky::Repository.setup('libgit2/rugged', 'rugged-continuous')\nJanky::Error: Failed to create hook\n    from /data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-29f5cf09ae91/lib/janky/github.rb:125:in `hook_create'\n    from /data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-29f5cf09ae91/lib/janky/repository.rb:147:in `setup_hook'\n    from /data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-29f5cf09ae91/lib/janky/repository.rb:139:in `setup'\n    from /data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-29f5cf09ae91/lib/janky/repository.rb:37:in `setup'\n    from (irb):8\n    from /usr/share/rbenv/versions/1.9.3-p231-tcs-github/bin/irb:12:in `<main>'\n```\n\nThis should handle removing/updating it properly, or maybe at least a more descriptive error message.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "robrix": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/176", "title": "Fold/filter build output", "body": "Folding/filtering compiles/etc to allow you to see just the compiler/test errors but reveal the rest on demand would be lovely.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "asenchi": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/161", "title": "Database schema not able to handle GIANT WALLS OF TEXT", "body": "I am only reporting this as an `undesired behavior` issue and not necessarily a bug. Wanted to make note though for those debugging later.\n\n@joshaber ping'd today in Ops asking about Janky behavior. Basically Janky wouldn't see builds as actually completed:\n\n![image](https://f.cloud.github.com/assets/1329/808099/7766f2ce-ee5b-11e2-859e-6ad8fa5f350b.png)\n\nAfter looking at the output, Jenkins claimed SUCCESS:\n\n```\n** BUILD SUCCEEDED **\n\nFinished: SUCCESS\n```\n\nLooking further it seems that our `output` column in Janky is set to `mediumtext` which has a character limit of [16,777,215 characters](http://dev.mysql.com/doc/refman/5.0/en/blob.html). The output for these particular tests were much higher:\n\n```\n~ : wc -m ~/Downloads/consoleText.txt\n 24663273 /Users/asenchi/Downloads/consoleText.txt\n```\n\nSomething to keep in mind if we see this again. /cc @github/ops\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "aroben": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/152", "title": "/ci setup fails when a job already exists for the repository", "body": "I have a project I want to build on both Mac and Windows. To do this, I've created two jobs (`project-osx.xml.erb` and `project-win.xml.erb`). Setting up the first one works just fine:\n\n```\n/ci setup owner/repo project-osx\n```\n\nBut setting up the second one fails because the GitHub Hooks API recently changed to disallow duplicate hooks on repositories:\n\n```\n/ci setup owner/repo project-win\n```\n\n``` js\n{\n  \"message\": \"Validation Failed\",\n  \"errors\": [\n    {\n      \"resource\": \"Hook\",\n      \"code\": \"custom\",\n      \"message\": \"Hook already exists on this repository\"\n    }\n  ]\n}\n```\n\n```\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/github.rb:125:in `hook_create'\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/repository.rb:146:in `setup_hook'\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/repository.rb:138:in `setup'\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/repository.rb:36:in `setup'\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/hubot.rb:15:in `block in '\n```\n\n/cc @technoweenie\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/149", "title": "Can't set up repositories where Janky's GitHub user isn't an admin", "body": "I'm trying to add a personal repo ([aroben/libchromiumcontent](https://github.com/aroben/libchromiumcontent)) to an existing Janky instance. But every time I do, it throws an exception in `Repository.hook_create`. We're getting a 404 response from api.github.com when trying to create the service hook. This is happening because the user that Janky is authenticating as is not an admin on the repo. (Of course it isn't; since it's a personal repo, only I am an admin on the repo!)\n\nIt's quite easy for me to set up the service hook manually, of course. But there's no way for Janky to know that I've done so, since only admins can _list_ hooks on repos.\n\nI'd love for there to be a way to get this working. Maybe Janky could say \"Hey, you need to add SOMEURL as service hook to your repo\"?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Iristyle": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/111", "title": "Enabling authentication - infinite OAuth Redirect Loop", "body": "I'm _sure_ I'm missing something obvious here, but I'm seeing a redirect loop when I enable organizational security for my Janky install.\n\nPer the docs\n\n```\nTo restrict access to members of a GitHub organization, register a new OAuth application on GitHub with the callback set to $JANKY_BASE_URL/auth/github/callback then set a few extra settings:\n\nJANKY_SESSION_SECRET: Random session cookie secret. Typically generated by a tool like pwgen.\nJANKY_AUTH_CLIENT_ID: The client ID of the OAuth application.\nJANKY_AUTH_CLIENT_SECRET: The client secret of the OAuth application.\nJANKY_AUTH_ORGANIZATION: The organization name. Example: \"github\".\n```\n\nSo I register the OAuth app for my org, and plug in the the `JANKY_AUTH_CLIENT_ID` and `JANKY_AUTH_CLIENT_SECRET` for the app.  `JANKY_AUTH_ORGANIZATION` is of course my org name (EastPoint) in this case.  I randomly generate 16 characters for `JANKY_SESSION_SECRET`.\n\nIf I try to hit the url of my Janky install, it looks like it's working.  The app immediately redirects to \n\n```\nhttps://github.com/login/oauth/authorize?response_type=code&client_id=JANKY_AUTH_CLIENT_ID&scope=repo&redirect_uri=https%3A%2F%2FMY.JANKY.SITE%2Fauth%2Fgithub%2Fcallback\n```\n\nI click `Allow` to authorize and the OAuth flow continues with a 302 to\n\n```\nhttps://MY.JANKY.SITE/auth/github/callback?code=THECODE\n```\n\nWhen the request goes to my server, I have one `rack.session` and I'm assigned a new one,  and a 302 is sent which redirects me to the root of the site\n\n```\nhttps://MY.JANKY.SITE/\n```\n\nAt this point, a request is sent back to `https://github.com/login/oauth/authorize?` and it loops. As far as I can tell,  it would appear that Janky is either unable to lookup `THECODE` passed back from Github,  or is having some sort of issue properly managing / associating the given `rack.session` with the OAuth flow that just occurred.\n\nThere's nothing in the logs (is there a way to turn on something more verbose?)\n\nIs there some system-level dependency that I might be missing that could be preventing the calls back to GitHub by the Janky server from succeeding?\n\nSome notes about my environment, for completeness - everything here checks out:\n- Not running on Heroku - running on EC2 - Ubuntu 12.04.1 LTS - have the following packages installed - `sudo apt-get -y install curl ssh git-core git build-essential zlib1g zlib1g-dev libyaml-dev libxml2-dev libc6-dev autoconf automake libtool make postgresql postgresql-client postgresql-contrib libpq-dev ruby1.9.3 ruby1.9.1-dev rubygems1.9.1 ruby-bundler`, and I've also done an `install rubygems-update`\n- Ruby 1.9.3 (yes, I have made sure that default Ruby is not 1.8 -- see [here](http://lenni.info/blog/2012/05/installing-ruby-1-9-3-on-ubuntu-12-04-precise-pengolin/))\n- Postgres 9.1 -- I can connect to and see the relevant tables in the database that I've called `janky_production` - I've tested my connection configuration in `irb` and it's fine.\n- Running under Upstart - using [Foreman](https://github.com/ddollar/foreman) to generate the Upstart scripts - `RAILS_ENV` and `RACK_ENV` are both set to `production`\n- I created an authorization for my `JANKY_GITHUB_USER` and have configured `JANKY_GITHUB_STATUS_TOKEN` with the token\n- `JANKY_SESSION_SECRET` is a randomly generated 16 character string from `pwgen` per the docs suggestion.  Similarly `JANKY_GITHUB_HOOK_SECRET` has been generated in the same manner.\n- Hubot is configured properly with `hubot-scripts` and a `HUBOT_JANKY_URL`.  I can verify in HipChat that his part is working.  I can issue Hubot commands like `ci?` and the Janky result is properly parsed from `https://MY.JANKY.SITE/_hubot/help` as an example.  However, if I issue a command like `ci setup github/janky janky` I get the response `Error F7U12: Can't Setup.`\n- The Url configured for `JANKY_BUILDER_DEFAULT` is using basic auth over HTTPS.  This same basic url we've configured as a `WebHook Url` under the `Service Hooks` for the GitHub repo.  The webhook is using the Jenkins token style like `https://JANKY_GITHUB_USER:JENKINS_TOKEN@JENKINS..DOMAINcom/github-webhook/`.  The `JANKY_BUILDER_DEFAULT` looks identical, except that it doesn't have the `github-webhook/` part.\n- I can see the user count increase for the GitHub application assigned to `JANKY_AUTH_CLIENT_ID`, and I can see the application listed as approved under my user account -- so I know that GitHub side has properly handled the OAuth request from Janky ... it's just that Janky seems to be missing something.\n\nI've double and triple checked all my environment variables to make sure they match up, but it's possible I've done something stupid here.  \n\nOn the double-checking front, I've also discovered an undocumented `JANKY_AUTH_TEAM_ID` at https://github.com/github/janky/blob/master/lib/janky.rb#L155  I have configured this to the integer id for the `Developers` team of my organization, and I am a member.  I will add a new issue for updating the docs with a description of this.\n\nA couple other last gory, related details -- again, only mentioned for completeness really.\n- I am running two other apps hosted on EC2 that have GitHub OAuth enabled - Jenkins and ErrBit.  Both of these apps work totally fine, so I'm familiar with the process of setting up OAuth.  All of our users are automatically logged into these apps if they are logged into GitHub.\n- Technically speaking, at the network infrastructure level, these apps (Jenkins, Errbit and Janky) are running behind a reverse proxy setup. NGinx performs SSL termination, then forwards the request to HAProxy, which reverse proxies based on host header and forwards the request to an internal server -- so directly at the Janky instances listening thin app, default port 5000.  I hesitated to mention this, because I don't want to confuse the issue here, as we do have the `proxy_set_header` configurations in place.  I mention this only because maybe, just maybe, there's something different going on in the headers (than all the other apps we reverse proxy that work fine).  This piece of setup in `nginx.conf` has worked fine for years --\n\n```\nlocation / {\n                #proxy to haproxy\n                proxy_pass              http://localhost:80;\n                proxy_set_header        Host $host;\n                proxy_set_header        X-Real-IP $remote_addr;\n                proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;\n                proxy_set_header        X-Forwarded-Proto https;\n\n                proxy_redirect          off;\n        }\n```\n\nI think that covers it... lots of detail here -- hopefully someone can point me to what I'm missing!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/github/janky/pulls/131", "title": "Add support for forks / pull request events", "body": "Accept pull req events / pass JANKY_COMMIT_URL\n- JANKY_COMMIT_URL is now pushed to Jenkins jobs as parameter\n- Hook registration establishes pull_request event\n- Payload parser now speaks pull request event\n- Add API support for repos/#{nwo}/pulls/#{number}/commits\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dlackty": {"issues": [], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/f4cc82ab12cfad3ad1d168e09641d973dc93b180", "message": "Update ruby-yajl to support Ruby 2.4"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "ellneal": {"issues": [], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/4223dcbb8c670610c89dae64091d9076672dbcb1", "message": "Use path building in runners\nRemoves the need to warn about trailing slashes in the JANKY_BUILDER_DEFAULT environment variable"}, {"url": "https://api.github.com/repos/github/janky/commits/8dc819253b1e2642a2b28698ba4c14e7a63e9dbb", "message": "Use path builder for hubot chat service\nPrevents errors occurring related to trailing slashes on the the JANKY_HUBOT_URL environment variable"}, {"url": "https://api.github.com/repos/github/janky/commits/b80fc64a0f95e438ebcd77e09ac41399a56770ad", "message": "Allow tests to be run with custom database URL"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mal": {"issues": [], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/16c491b4c4065645cf4b0c89218d82ee9888f25a", "message": "Fix Chat Notifications\n\nPreviously `room_id` was being passed to `speak` as undefined and the notification send was failing."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mjrussell": {"issues": [], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/ebffff25c2a7137de1816374a99a328d82156721", "message": "Update README with hubot notifier info"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sr": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3219024", "body": "Thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3219024/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3219832", "body": "Woops. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3219832/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3224017", "body": "Thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3224017/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3229138", "body": "Looks like you didn't create the database. Try this:\n\n`heroku run db:migrate`\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3229138/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3229235", "body": "There's a [migration](https://github.com/github/janky/blob/master/lib/janky/database/migrate/1317384619_add_build_room_id.rb) that removes the default value later on. Removing it from the initial one doesn't hurt though. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3229235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3229313", "body": "Great, thanks. I think the [`Builder`](https://github.com/vivek/janky/blob/97208f48741da965549817e1f6f4485955f1946c/lib/janky/builder/http.rb) won't work over SSL either. Same fix should do it.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3229313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3248264", "body": "This is great, I'd really like to have this in 1.0. The APIs just need some work.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3248264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3248279", "body": "Woops, thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3248279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3248285", "body": ":+1:\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3248285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3261148", "body": "Interesting, didn't know about this plugin. Janky only supports Basic Auth right now. See [`Janky::Builder::HTTP`](https://github.com/github/janky/blob/076c5f306636feaa269da3526f0848372694bf73/lib/janky/builder/http.rb) and [`Janky::JobCreator`](https://github.com/github/janky/blob/a9e7a044b943dac97af4a486f0befc94af688725/lib/janky/job_creator.rb).\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3261148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3261186", "body": "For basic auth, set `JANKY_BUILDER_DEFAULT` to `http://user:pass@example.com:8080/`\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3261186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3261425", "body": "Janky master should give you more detailed errors:\n\n```\nERROR: Janky::Error - boomtown\n         url http://127.0.0.1:9393/boomtown\n    referrer\n      method  GET\n  user_agent Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/535.7 (KHTML, like Gecko) Chrome/16.0.912.63 Safari/535.7\n      params   {}\n   remote_ip 127.0.0.1\n     session   {}\n         foo  bar\n         app janky\n\n/Volumes/GitHub/ci/vendor/janky/lib/janky/app.rb:75:in `GET /boomtown'\n/Users/sr/.rbenv/versions/1.8.7-p352/lib/ruby/gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1211:in `call'\n/Users/sr/.rbenv/versions/1.8.7-p352/lib/ruby/gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1211:in `compile!'\n...\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3261425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269054", "body": "It's `script/cibuild`. Also it needs to be executable.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269055", "body": "Is this still a problem?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269055/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269070", "body": "Make sure the `JANKY_GITHUB_USER` user has write access to veevachi/api. Double check `JANKY_GITHUB_PASSWORD` as well.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269070/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269082", "body": "@wajiii db5d652354af61a70b31b3fb839ae71b88699892\n\n@jsmestad I am not sure to be honest. I don't about any other authentication mode.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269082/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269086", "body": "To clarify: this error is happening when trying to create the web hook using the GitHub API. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269086/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/1457920", "body": "I am hoping to spend some time in Janky next week and get a release out yeah. I'll make sure to include this.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1457920/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/3725342", "body": "Can you indent these like bellow and keep lines at 80 columns here please?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/3725342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/3742763", "body": ":sparkling_heart: \n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/3742763/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/github/janky/pulls/comments/311160", "body": "I generally don't like using `const_get` and whatnot. I'd like a more explicit system where chat services are registered. Something like this maybe:\n\n``` ruby\nclass CampfireChat\n  def self.setup(settings)\n  end\nend\n\nJanky.add_chat :campfire, CampfireChat\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311162", "body": "I'd like notifiers to be maintained outside of Janky. I think it's fine for now as we define the various APIs though.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311162/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311165", "body": "I'd change the signature to this instead:\n\n``` ruby\n def self.speak(message, room_id, output={})\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311167", "body": "The various adapters shouldn't need to implement this method.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311168", "body": "Yeah, I don't think we need the duplication here.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311175", "body": "I think this our the API right there:\n\n``` ruby\nclass Hipchat\n  def self.setup(settings)\n    @client = HipChat::Client.new(settings['JANKY_HIPCHAT_TOKEN'])\n  end\n\n  def self.speak(message, room_id, options={})\n    @client.speak(room_id, message)\n  end\n\n  def self.rooms\n    @client.rooms\n  end\nend\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311185", "body": "I am not sold on `ChatService`. Maybe just `Chat`?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313326", "body": "Please leave this out of the diff.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313327", "body": "Same here\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313327/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313329", "body": "What's `output` for?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313330", "body": "This line is super confusing. Please use a normal detect + if construct instead.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313331", "body": "Why duplicate `room_id` and `id` here? Also this should be a normal class or a `Struct`.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313333", "body": "We don't need an adapter at this point\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313333/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313334", "body": "Yeah. This whole class can go.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313335", "body": "What's the `\"CI\"` string for?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313336", "body": "This isn't really an adapter. Name it `@client` maybe?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313339", "body": "The API is already documented in `Janky::Chat`. We can remove the documentation.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313343", "body": "What's this about? It's kind of confusing.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/332764", "body": "Yeah exactly. I am so over separate gems and whatnot. I was going to say it's fine to keep hipchat in there 'cause it's not too crazy but I just realized it depends on more than just net/http. Guess I'll move it out of the core runtime dependencies.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/332764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/390601", "body": "Reverting this,  won't work in Campfire. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/390601/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "atmos": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3227773", "body": "It's not like you can post anyway. :P\n\nI'll let @sr decide.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3227773/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/4842420", "body": "Ugh, yeah. I'm on spotty network until next Monday but I'll cut a working version when I can verify what we're running in prod vs what's available on rubygems.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/4842420/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/4901670", "body": "0.10.2 is out now on rubygems.org.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/4901670/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "calavera": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3227894", "body": "The default room name should be always set here:\n\nhttps://github.com/github/janky/blob/master/lib/janky.rb#L135-139\n\nSo your room id is not actually necessary.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3227894/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3251090", "body": "nice!!! :+1:\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3251090/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/github/janky/pulls/comments/310438", "body": "That case statement is not going to end well. I think something like this can work better:\n\n``` ruby\nJanky::ChatService.setup(settings)\n```\n\n``` ruby\nmodule Janky::ChatService\n  def self.setup(settings)\n    service = Janky::ChatService.contants.detect {|chat| chat.to_s.casecmp(settings[\"JANKY_CHAT_SERVICE\"]) == 0} || :Campfire\n    Janky::ChatService.const_get(service).setup(settings)\n  end\nend\n```\n\n``` ruby\nclass Janky::ChatService::HipChat\n  def self.setup(settings)\n    # get here the ENV variables for HipChat and setup the chat\n  end\nend\n```\n\n``` ruby\nclass Janky::ChatService::Campfire\n  def self.setup(settings)\n    # get here the ENV variables for Campfire and setup the chat\n  end\nend\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/310438/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/310439", "body": "this is really nasty. I'd rather call the adapter each time. Btw, as a good practice, if you override method_missing your should override respond_to? too.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/310439/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "dustineichler": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3229271", "body": "Knew it'd be something obvious. Thanks SR.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3229271/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "schisamo": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3241896", "body": "@calavera thx for the feedback.  will incorporate and push the changes later this evening. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3241896/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3244015", "body": "^^ refactoring complete thx to feedback from @calavera .  Feel much better now that the method_missing magic is gone. :)\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3244015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3251012", "body": "Some additional refactors based on @sr 's feed back.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3251012/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3263871", "body": "@sr ^^ good feedback, take a look when you have a chance.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3263871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3264154", "body": "Two last second commits.  Moved `Janky::Chat::Mock` into it's own file (like the other mock classes).  Wasn't sure if you want the gemspec files value updated with my recent changes, I can easily remove that commit.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3264154/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/933902", "body": "Looks good.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/933902/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/github/janky/pulls/comments/310475", "body": "yeah I didn't like that approach...just took the quick and dirty :)  thanks for the tip.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/310475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/310476", "body": "I can dig it.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/310476/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313393", "body": "The 'room' object returned by the HipChat client use `room_id` instead of `id` for their identifier attribute.  I'm going to just create a Janky::HipChat::Room object to wrap (and normalize this).\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313394", "body": "That is the 'who' the message appears to come from.  I'm going to expose a `JANKY_HIPCHAT_FROM` or something similar and make `CI` the default.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313395", "body": "wasn't sure..that was there before I started my refactors :)\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313400", "body": "See my other comment re: the Room object returned by the HipChat client.  But best solution is to create a `Janky::HipChat::Room` class to normalize the naming differences (`id` vs `room_id`).\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313414", "body": "`output` is a hash for holding message output options...I would prefer a more traditional `opts` naming personally.  In the case of the HipChat client this would be used to [set a color for the message](https://github.com/mojotech/hipchat/blob/master/lib/hipchat.rb#L77-78).\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313414/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "subtleGradient": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3255490", "body": "HipChat support FTW! :+1:\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3255490/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "wajiii": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3263574", "body": "I think it would be useful to document this in the README; I eventually guessed the solution, then found this issue after it didn't work for me (now Janky fails while starting). When I figure out why, I'll share the details as a new issue in hopes of helping someone else.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3263574/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/911633", "body": "Excellent!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/911633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "jsmestad": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3263943", "body": "@sr is this something that is possbile to support? Another idea is if your aware of having jenkins use two modes of authentication (omniauth/warden style)\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3263943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/933883", "body": "interesting...\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/933883/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/1771493", "body": "Does this need a change on the Jenkins build setup side of things?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1771493/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "ethank": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3269059", "body": "Nope, got everything working. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269059/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "mhfs": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/934602", "body": "Thanks for taking care of that. =D\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/934602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "jessedearing": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/1449813", "body": "This breaks Heroku deployments because the syntax is MySQL specific. I am stepping out now, but I'll try and submit a PR later.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1449813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "maletor": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/1605931", "body": "Can we make this `find_each`? We have a lot of builds.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1605931/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "jspahrsummers": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/1771498", "body": "@jsmestad Sort of. Your Janky build jobs will have to be re-set up, or else Jenkins will complain. A quick `hubot ci setup project/repo` should do it.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1771498/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/1815401", "body": "@ejholmes You're absolutely right. Good call.\n\nCC @sr \n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1815401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "ejholmes": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/1815400", "body": "I think the [gist](https://gist.github.com/1497335) needs to be updated to include:\n\n``` xml\n<hudson.model.StringParameterDefinition>\n  <name>JANKY_BRANCH</name>\n  <description></description>\n  <defaultValue></defaultValue>\n</hudson.model.StringParameterDefinition>\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1815400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "parkr": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/4841294", "body": "you pushing this up to rubygems.org?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/4841294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/4846457", "body": ":heart: \n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/4846457/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/4901679", "body": "Thank you :tada: \n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/4901679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "halorgium": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/github/janky/pulls/comments/331799", "body": "Why not require the gem inside the Chat adapter file?\nThen if people are using that specific adapter, they just need to add the dependency to their Gemfile. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/331799/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}}, "3": {"mattr-": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/237", "title": "Support Ruby 2.4", "body": "We should be close to being able to support Ruby 2.4. Here's a list of the following things that I know about needing to be done before we can say we officially support Ruby 2.4:\r\n\r\n- Upgrade activerecord to version 4.2 at the earlier. Using a 5.x version would be better.\r\n- This section of code https://github.com/github/janky/blob/013b416af1307312b313a94ec77c1de2deaf05e8/lib/janky.rb#L56-L60 can be removed\r\n- Upgrade any other gems that are known to have incompatibilities with Ruby 2.4\r\n\r\nI'd also like to deprecate anything less than Ruby 2.4, so a warning similar to https://github.com/github/janky/blob/013b416af1307312b313a94ec77c1de2deaf05e8/lib/janky.rb#L1-L4\r\nfor Ruby 2.3 and below would be great!\r\n\r\ncc: @perlun", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/7239da23b6ed687d8edeedb913bbdee87b53114b", "message": "remove 1.8.7 and use 2.3.5 for CI"}, {"url": "https://api.github.com/repos/github/janky/commits/013b416af1307312b313a94ec77c1de2deaf05e8", "message": "Merge pull request #236 from github/work-with-ruby-2.2\n\nInstall a newer version of test-unit"}, {"url": "https://api.github.com/repos/github/janky/commits/4db887fcf6ade88cb16c36808be23cbaf00e15bd", "message": "Install a newer version of test-unit\n\nAllows developers to upgrade to Ruby 2.2.x instead of being stuck on\nRuby 2.1.x."}, {"url": "https://api.github.com/repos/github/janky/commits/49f792c43eade1a1855040ac488d1fbb273bd9c1", "message": "Merge pull request #235 from github/update-test-runner\n\nUpdate the test runner to work with newer rubies"}, {"url": "https://api.github.com/repos/github/janky/commits/fd4fe2a1f52bef5fcae246449889a5f9f1081adf", "message": "Remove unneeded comment"}, {"url": "https://api.github.com/repos/github/janky/commits/356edc59862d4f926b09a9955d37651e46af0b4b", "message": "Update the test runner to work with newer rubies\n\nRuby versions after 2.1.x remove the `testrb` script that used to shift\nwith Ruby by default. Due to its removal, copy the contents of the\nscript from an older version of Ruby and use it in our `script/test`\nscript so that we can upgrade Ruby without having to switch out the test\nframework and setup."}, {"url": "https://api.github.com/repos/github/janky/commits/e112d2bfef9cafb8dec603ddbfae786184b1c22e", "message": "v0.12.0"}, {"url": "https://api.github.com/repos/github/janky/commits/2a0151a716a82778c6b024b4413c5087f164a870", "message": "Merge pull request #233 from dlackty/ruby24\n\nUpdate ruby-yajl to support Ruby 2.4"}, {"url": "https://api.github.com/repos/github/janky/commits/ce1132391da38423278383004c8140aeb2a26650", "message": "Merge pull request #221 from github/support-newer-mysql2-gem\n\nSupport MySQL 5.7 and newer"}, {"url": "https://api.github.com/repos/github/janky/commits/7e7ade158ba3b7ff04560bc1cc8107e2ef5e01c9", "message": "Merge pull request #223 from ellneal/feature/paths\n\nUse path building methods to prevent errors"}, {"url": "https://api.github.com/repos/github/janky/commits/e0e1e96484c2c640086a93a92fc456c93b35e1b3", "message": "Support MySQL 5.7 and newer"}, {"url": "https://api.github.com/repos/github/janky/commits/7cd23c546c0c8fbd7ee13a4aa81a2626c3781c73", "message": "Always use the room_id from the build\n\nSince builds can have specific room ids, switch to fetching the room\nfrom the build instead of the repository the build is for."}, {"url": "https://api.github.com/repos/github/janky/commits/7a5ec47f8fb0b0cc57625f6748c0f563440b3f87", "message": "Update the Travis configuration for Janky\n\nBuild on 2.1, 2.2, and 2.3. Allow failures on 2.3."}, {"url": "https://api.github.com/repos/github/janky/commits/44b31a1ac0b7429f8edde026b4332f7c033e95d5", "message": "Add a fancy badge for the gem version"}, {"url": "https://api.github.com/repos/github/janky/commits/40b2d32b7b920a74dc05faac88ec5350cff7b4d5", "message": "Merge pull request #217 from mal/patch-1\n\nFix Chat Notifications"}, {"url": "https://api.github.com/repos/github/janky/commits/139923939081c516546554e16e3e023fbd091ae1", "message": "Merge pull request #216 from github/remove-digest-deprecation-warnings\n\nRemove deprecation warnings using OpenSSL::Digest"}, {"url": "https://api.github.com/repos/github/janky/commits/73e5f5cf121b7aed33ae5ba9f4724e670e75210c", "message": "Merge pull request #215 from github/upgrade-mocha\n\nUpgrade Mocha to 0.14.0"}, {"url": "https://api.github.com/repos/github/janky/commits/b9398b510d2318f7846b3d00d5120b9d538b6c74", "message": "Remove deprecation warnings using OpenSSL::Digest"}, {"url": "https://api.github.com/repos/github/janky/commits/0595031ac3f9241db5468bdf8e90b3240bd83686", "message": "Remove deprecation warning after upgrading mocha"}, {"url": "https://api.github.com/repos/github/janky/commits/ab5d5726eb0776a20475c396a2bfd243c52aa11b", "message": "bump the mocha dependency"}, {"url": "https://api.github.com/repos/github/janky/commits/3ee341dcc3a7fb9b55c15521b42d8271bfe5358b", "message": "ignore ctags files"}, {"url": "https://api.github.com/repos/github/janky/commits/30c88532088322d719995ffde7fcd9c3bb451bb8", "message": "Merge pull request #213 from mjrussell/hubot-readme-updates\n\nUpdate README with hubot notifier info"}, {"url": "https://api.github.com/repos/github/janky/commits/e9214e87e6e0f1456a8b130e56a27131c8f1db72", "message": "v0.11.1"}, {"url": "https://api.github.com/repos/github/janky/commits/7d8e58d922f5be056a695c6b218d627e528d6648", "message": "Merge pull request #211 from mjrussell/hubot-gemspec\n\nAdd hubot chat service to gemspec"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mkantor": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/194", "title": "Janky doesn't know how to build tags", "body": "This is true for builds triggered by GitHub webhooks and hubot:\n\n```\nmkantor: hubot ci build janky/v0.10.2\nhubot: Unknown branch \"v0.10.2\". Push again\n```\n\nI was surprised by this since I my git experience tells me that annotated tags are just another kind of named ref and should be treated similarly to branches in general.\n\nThe particular issue that caused me to realize this was that release tags for a project configured with Janky were not being CI'd. If anything needs to be built/tested, it's releases! I'm able to work around this by telling hubot to `hubot ci build project/master` immediately after tagging, but this is kind of silly.\n\n~~Janky also doesn't understand how to build SHAs, which is unfortunate but a bit more understandable.~~ **EDIT:** It looks like #186 fixed this.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Mezzle": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/187", "title": "[Suggestion] Stats per branch", "body": "Allow (for the purpose of some Dashboards, for example) to do something similar to the hubot status request for a branch - but for a project, returning the status of all known branches (or all current branches on Github).\n\nI currently have to poll this via the Github API for each individual branch (grab branches, get sha's request build status for each sha).  Doing this via janky would be preferable (so as to not overload github, and to have it all in a single request)\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "lstoll": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/179", "title": "Setting hook bombs if hook exists.", "body": "If the repo already has a hook in place, you get this\n\n```\nirb(main):008:0> Janky::Repository.setup('libgit2/rugged', 'rugged-continuous')\nJanky::Error: Failed to create hook\n    from /data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-29f5cf09ae91/lib/janky/github.rb:125:in `hook_create'\n    from /data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-29f5cf09ae91/lib/janky/repository.rb:147:in `setup_hook'\n    from /data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-29f5cf09ae91/lib/janky/repository.rb:139:in `setup'\n    from /data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-29f5cf09ae91/lib/janky/repository.rb:37:in `setup'\n    from (irb):8\n    from /usr/share/rbenv/versions/1.9.3-p231-tcs-github/bin/irb:12:in `<main>'\n```\n\nThis should handle removing/updating it properly, or maybe at least a more descriptive error message.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "robrix": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/176", "title": "Fold/filter build output", "body": "Folding/filtering compiles/etc to allow you to see just the compiler/test errors but reveal the rest on demand would be lovely.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "asenchi": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/161", "title": "Database schema not able to handle GIANT WALLS OF TEXT", "body": "I am only reporting this as an `undesired behavior` issue and not necessarily a bug. Wanted to make note though for those debugging later.\n\n@joshaber ping'd today in Ops asking about Janky behavior. Basically Janky wouldn't see builds as actually completed:\n\n![image](https://f.cloud.github.com/assets/1329/808099/7766f2ce-ee5b-11e2-859e-6ad8fa5f350b.png)\n\nAfter looking at the output, Jenkins claimed SUCCESS:\n\n```\n** BUILD SUCCEEDED **\n\nFinished: SUCCESS\n```\n\nLooking further it seems that our `output` column in Janky is set to `mediumtext` which has a character limit of [16,777,215 characters](http://dev.mysql.com/doc/refman/5.0/en/blob.html). The output for these particular tests were much higher:\n\n```\n~ : wc -m ~/Downloads/consoleText.txt\n 24663273 /Users/asenchi/Downloads/consoleText.txt\n```\n\nSomething to keep in mind if we see this again. /cc @github/ops\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "aroben": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/152", "title": "/ci setup fails when a job already exists for the repository", "body": "I have a project I want to build on both Mac and Windows. To do this, I've created two jobs (`project-osx.xml.erb` and `project-win.xml.erb`). Setting up the first one works just fine:\n\n```\n/ci setup owner/repo project-osx\n```\n\nBut setting up the second one fails because the GitHub Hooks API recently changed to disallow duplicate hooks on repositories:\n\n```\n/ci setup owner/repo project-win\n```\n\n``` js\n{\n  \"message\": \"Validation Failed\",\n  \"errors\": [\n    {\n      \"resource\": \"Hook\",\n      \"code\": \"custom\",\n      \"message\": \"Hook already exists on this repository\"\n    }\n  ]\n}\n```\n\n```\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/github.rb:125:in `hook_create'\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/repository.rb:146:in `setup_hook'\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/repository.rb:138:in `setup'\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/repository.rb:36:in `setup'\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/hubot.rb:15:in `block in '\n```\n\n/cc @technoweenie\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/149", "title": "Can't set up repositories where Janky's GitHub user isn't an admin", "body": "I'm trying to add a personal repo ([aroben/libchromiumcontent](https://github.com/aroben/libchromiumcontent)) to an existing Janky instance. But every time I do, it throws an exception in `Repository.hook_create`. We're getting a 404 response from api.github.com when trying to create the service hook. This is happening because the user that Janky is authenticating as is not an admin on the repo. (Of course it isn't; since it's a personal repo, only I am an admin on the repo!)\n\nIt's quite easy for me to set up the service hook manually, of course. But there's no way for Janky to know that I've done so, since only admins can _list_ hooks on repos.\n\nI'd love for there to be a way to get this working. Maybe Janky could say \"Hey, you need to add SOMEURL as service hook to your repo\"?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Iristyle": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/111", "title": "Enabling authentication - infinite OAuth Redirect Loop", "body": "I'm _sure_ I'm missing something obvious here, but I'm seeing a redirect loop when I enable organizational security for my Janky install.\n\nPer the docs\n\n```\nTo restrict access to members of a GitHub organization, register a new OAuth application on GitHub with the callback set to $JANKY_BASE_URL/auth/github/callback then set a few extra settings:\n\nJANKY_SESSION_SECRET: Random session cookie secret. Typically generated by a tool like pwgen.\nJANKY_AUTH_CLIENT_ID: The client ID of the OAuth application.\nJANKY_AUTH_CLIENT_SECRET: The client secret of the OAuth application.\nJANKY_AUTH_ORGANIZATION: The organization name. Example: \"github\".\n```\n\nSo I register the OAuth app for my org, and plug in the the `JANKY_AUTH_CLIENT_ID` and `JANKY_AUTH_CLIENT_SECRET` for the app.  `JANKY_AUTH_ORGANIZATION` is of course my org name (EastPoint) in this case.  I randomly generate 16 characters for `JANKY_SESSION_SECRET`.\n\nIf I try to hit the url of my Janky install, it looks like it's working.  The app immediately redirects to \n\n```\nhttps://github.com/login/oauth/authorize?response_type=code&client_id=JANKY_AUTH_CLIENT_ID&scope=repo&redirect_uri=https%3A%2F%2FMY.JANKY.SITE%2Fauth%2Fgithub%2Fcallback\n```\n\nI click `Allow` to authorize and the OAuth flow continues with a 302 to\n\n```\nhttps://MY.JANKY.SITE/auth/github/callback?code=THECODE\n```\n\nWhen the request goes to my server, I have one `rack.session` and I'm assigned a new one,  and a 302 is sent which redirects me to the root of the site\n\n```\nhttps://MY.JANKY.SITE/\n```\n\nAt this point, a request is sent back to `https://github.com/login/oauth/authorize?` and it loops. As far as I can tell,  it would appear that Janky is either unable to lookup `THECODE` passed back from Github,  or is having some sort of issue properly managing / associating the given `rack.session` with the OAuth flow that just occurred.\n\nThere's nothing in the logs (is there a way to turn on something more verbose?)\n\nIs there some system-level dependency that I might be missing that could be preventing the calls back to GitHub by the Janky server from succeeding?\n\nSome notes about my environment, for completeness - everything here checks out:\n- Not running on Heroku - running on EC2 - Ubuntu 12.04.1 LTS - have the following packages installed - `sudo apt-get -y install curl ssh git-core git build-essential zlib1g zlib1g-dev libyaml-dev libxml2-dev libc6-dev autoconf automake libtool make postgresql postgresql-client postgresql-contrib libpq-dev ruby1.9.3 ruby1.9.1-dev rubygems1.9.1 ruby-bundler`, and I've also done an `install rubygems-update`\n- Ruby 1.9.3 (yes, I have made sure that default Ruby is not 1.8 -- see [here](http://lenni.info/blog/2012/05/installing-ruby-1-9-3-on-ubuntu-12-04-precise-pengolin/))\n- Postgres 9.1 -- I can connect to and see the relevant tables in the database that I've called `janky_production` - I've tested my connection configuration in `irb` and it's fine.\n- Running under Upstart - using [Foreman](https://github.com/ddollar/foreman) to generate the Upstart scripts - `RAILS_ENV` and `RACK_ENV` are both set to `production`\n- I created an authorization for my `JANKY_GITHUB_USER` and have configured `JANKY_GITHUB_STATUS_TOKEN` with the token\n- `JANKY_SESSION_SECRET` is a randomly generated 16 character string from `pwgen` per the docs suggestion.  Similarly `JANKY_GITHUB_HOOK_SECRET` has been generated in the same manner.\n- Hubot is configured properly with `hubot-scripts` and a `HUBOT_JANKY_URL`.  I can verify in HipChat that his part is working.  I can issue Hubot commands like `ci?` and the Janky result is properly parsed from `https://MY.JANKY.SITE/_hubot/help` as an example.  However, if I issue a command like `ci setup github/janky janky` I get the response `Error F7U12: Can't Setup.`\n- The Url configured for `JANKY_BUILDER_DEFAULT` is using basic auth over HTTPS.  This same basic url we've configured as a `WebHook Url` under the `Service Hooks` for the GitHub repo.  The webhook is using the Jenkins token style like `https://JANKY_GITHUB_USER:JENKINS_TOKEN@JENKINS..DOMAINcom/github-webhook/`.  The `JANKY_BUILDER_DEFAULT` looks identical, except that it doesn't have the `github-webhook/` part.\n- I can see the user count increase for the GitHub application assigned to `JANKY_AUTH_CLIENT_ID`, and I can see the application listed as approved under my user account -- so I know that GitHub side has properly handled the OAuth request from Janky ... it's just that Janky seems to be missing something.\n\nI've double and triple checked all my environment variables to make sure they match up, but it's possible I've done something stupid here.  \n\nOn the double-checking front, I've also discovered an undocumented `JANKY_AUTH_TEAM_ID` at https://github.com/github/janky/blob/master/lib/janky.rb#L155  I have configured this to the integer id for the `Developers` team of my organization, and I am a member.  I will add a new issue for updating the docs with a description of this.\n\nA couple other last gory, related details -- again, only mentioned for completeness really.\n- I am running two other apps hosted on EC2 that have GitHub OAuth enabled - Jenkins and ErrBit.  Both of these apps work totally fine, so I'm familiar with the process of setting up OAuth.  All of our users are automatically logged into these apps if they are logged into GitHub.\n- Technically speaking, at the network infrastructure level, these apps (Jenkins, Errbit and Janky) are running behind a reverse proxy setup. NGinx performs SSL termination, then forwards the request to HAProxy, which reverse proxies based on host header and forwards the request to an internal server -- so directly at the Janky instances listening thin app, default port 5000.  I hesitated to mention this, because I don't want to confuse the issue here, as we do have the `proxy_set_header` configurations in place.  I mention this only because maybe, just maybe, there's something different going on in the headers (than all the other apps we reverse proxy that work fine).  This piece of setup in `nginx.conf` has worked fine for years --\n\n```\nlocation / {\n                #proxy to haproxy\n                proxy_pass              http://localhost:80;\n                proxy_set_header        Host $host;\n                proxy_set_header        X-Real-IP $remote_addr;\n                proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;\n                proxy_set_header        X-Forwarded-Proto https;\n\n                proxy_redirect          off;\n        }\n```\n\nI think that covers it... lots of detail here -- hopefully someone can point me to what I'm missing!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/github/janky/pulls/131", "title": "Add support for forks / pull request events", "body": "Accept pull req events / pass JANKY_COMMIT_URL\n- JANKY_COMMIT_URL is now pushed to Jenkins jobs as parameter\n- Hook registration establishes pull_request event\n- Payload parser now speaks pull request event\n- Add API support for repos/#{nwo}/pulls/#{number}/commits\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dlackty": {"issues": [], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/f4cc82ab12cfad3ad1d168e09641d973dc93b180", "message": "Update ruby-yajl to support Ruby 2.4"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "ellneal": {"issues": [], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/4223dcbb8c670610c89dae64091d9076672dbcb1", "message": "Use path building in runners\nRemoves the need to warn about trailing slashes in the JANKY_BUILDER_DEFAULT environment variable"}, {"url": "https://api.github.com/repos/github/janky/commits/8dc819253b1e2642a2b28698ba4c14e7a63e9dbb", "message": "Use path builder for hubot chat service\nPrevents errors occurring related to trailing slashes on the the JANKY_HUBOT_URL environment variable"}, {"url": "https://api.github.com/repos/github/janky/commits/b80fc64a0f95e438ebcd77e09ac41399a56770ad", "message": "Allow tests to be run with custom database URL"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mal": {"issues": [], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/16c491b4c4065645cf4b0c89218d82ee9888f25a", "message": "Fix Chat Notifications\n\nPreviously `room_id` was being passed to `speak` as undefined and the notification send was failing."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mjrussell": {"issues": [], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/ebffff25c2a7137de1816374a99a328d82156721", "message": "Update README with hubot notifier info"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sr": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3219024", "body": "Thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3219024/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3219832", "body": "Woops. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3219832/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3224017", "body": "Thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3224017/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3229138", "body": "Looks like you didn't create the database. Try this:\n\n`heroku run db:migrate`\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3229138/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3229235", "body": "There's a [migration](https://github.com/github/janky/blob/master/lib/janky/database/migrate/1317384619_add_build_room_id.rb) that removes the default value later on. Removing it from the initial one doesn't hurt though. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3229235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3229313", "body": "Great, thanks. I think the [`Builder`](https://github.com/vivek/janky/blob/97208f48741da965549817e1f6f4485955f1946c/lib/janky/builder/http.rb) won't work over SSL either. Same fix should do it.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3229313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3248264", "body": "This is great, I'd really like to have this in 1.0. The APIs just need some work.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3248264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3248279", "body": "Woops, thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3248279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3248285", "body": ":+1:\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3248285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3261148", "body": "Interesting, didn't know about this plugin. Janky only supports Basic Auth right now. See [`Janky::Builder::HTTP`](https://github.com/github/janky/blob/076c5f306636feaa269da3526f0848372694bf73/lib/janky/builder/http.rb) and [`Janky::JobCreator`](https://github.com/github/janky/blob/a9e7a044b943dac97af4a486f0befc94af688725/lib/janky/job_creator.rb).\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3261148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3261186", "body": "For basic auth, set `JANKY_BUILDER_DEFAULT` to `http://user:pass@example.com:8080/`\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3261186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3261425", "body": "Janky master should give you more detailed errors:\n\n```\nERROR: Janky::Error - boomtown\n         url http://127.0.0.1:9393/boomtown\n    referrer\n      method  GET\n  user_agent Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/535.7 (KHTML, like Gecko) Chrome/16.0.912.63 Safari/535.7\n      params   {}\n   remote_ip 127.0.0.1\n     session   {}\n         foo  bar\n         app janky\n\n/Volumes/GitHub/ci/vendor/janky/lib/janky/app.rb:75:in `GET /boomtown'\n/Users/sr/.rbenv/versions/1.8.7-p352/lib/ruby/gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1211:in `call'\n/Users/sr/.rbenv/versions/1.8.7-p352/lib/ruby/gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1211:in `compile!'\n...\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3261425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269054", "body": "It's `script/cibuild`. Also it needs to be executable.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269055", "body": "Is this still a problem?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269055/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269070", "body": "Make sure the `JANKY_GITHUB_USER` user has write access to veevachi/api. Double check `JANKY_GITHUB_PASSWORD` as well.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269070/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269082", "body": "@wajiii db5d652354af61a70b31b3fb839ae71b88699892\n\n@jsmestad I am not sure to be honest. I don't about any other authentication mode.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269082/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269086", "body": "To clarify: this error is happening when trying to create the web hook using the GitHub API. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269086/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/github/janky/pulls/comments/311160", "body": "I generally don't like using `const_get` and whatnot. I'd like a more explicit system where chat services are registered. Something like this maybe:\n\n``` ruby\nclass CampfireChat\n  def self.setup(settings)\n  end\nend\n\nJanky.add_chat :campfire, CampfireChat\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311162", "body": "I'd like notifiers to be maintained outside of Janky. I think it's fine for now as we define the various APIs though.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311162/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311165", "body": "I'd change the signature to this instead:\n\n``` ruby\n def self.speak(message, room_id, output={})\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311167", "body": "The various adapters shouldn't need to implement this method.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311168", "body": "Yeah, I don't think we need the duplication here.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311175", "body": "I think this our the API right there:\n\n``` ruby\nclass Hipchat\n  def self.setup(settings)\n    @client = HipChat::Client.new(settings['JANKY_HIPCHAT_TOKEN'])\n  end\n\n  def self.speak(message, room_id, options={})\n    @client.speak(room_id, message)\n  end\n\n  def self.rooms\n    @client.rooms\n  end\nend\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311185", "body": "I am not sold on `ChatService`. Maybe just `Chat`?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313326", "body": "Please leave this out of the diff.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313327", "body": "Same here\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313327/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313329", "body": "What's `output` for?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313330", "body": "This line is super confusing. Please use a normal detect + if construct instead.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313331", "body": "Why duplicate `room_id` and `id` here? Also this should be a normal class or a `Struct`.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313333", "body": "We don't need an adapter at this point\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313333/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313334", "body": "Yeah. This whole class can go.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313335", "body": "What's the `\"CI\"` string for?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313336", "body": "This isn't really an adapter. Name it `@client` maybe?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313339", "body": "The API is already documented in `Janky::Chat`. We can remove the documentation.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313343", "body": "What's this about? It's kind of confusing.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/332764", "body": "Yeah exactly. I am so over separate gems and whatnot. I was going to say it's fine to keep hipchat in there 'cause it's not too crazy but I just realized it depends on more than just net/http. Guess I'll move it out of the core runtime dependencies.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/332764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/390601", "body": "Reverting this,  won't work in Campfire. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/390601/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "atmos": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3227773", "body": "It's not like you can post anyway. :P\n\nI'll let @sr decide.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3227773/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "calavera": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3227894", "body": "The default room name should be always set here:\n\nhttps://github.com/github/janky/blob/master/lib/janky.rb#L135-139\n\nSo your room id is not actually necessary.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3227894/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3251090", "body": "nice!!! :+1:\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3251090/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/github/janky/pulls/comments/310438", "body": "That case statement is not going to end well. I think something like this can work better:\n\n``` ruby\nJanky::ChatService.setup(settings)\n```\n\n``` ruby\nmodule Janky::ChatService\n  def self.setup(settings)\n    service = Janky::ChatService.contants.detect {|chat| chat.to_s.casecmp(settings[\"JANKY_CHAT_SERVICE\"]) == 0} || :Campfire\n    Janky::ChatService.const_get(service).setup(settings)\n  end\nend\n```\n\n``` ruby\nclass Janky::ChatService::HipChat\n  def self.setup(settings)\n    # get here the ENV variables for HipChat and setup the chat\n  end\nend\n```\n\n``` ruby\nclass Janky::ChatService::Campfire\n  def self.setup(settings)\n    # get here the ENV variables for Campfire and setup the chat\n  end\nend\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/310438/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/310439", "body": "this is really nasty. I'd rather call the adapter each time. Btw, as a good practice, if you override method_missing your should override respond_to? too.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/310439/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "dustineichler": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3229271", "body": "Knew it'd be something obvious. Thanks SR.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3229271/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "schisamo": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3241896", "body": "@calavera thx for the feedback.  will incorporate and push the changes later this evening. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3241896/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3244015", "body": "^^ refactoring complete thx to feedback from @calavera .  Feel much better now that the method_missing magic is gone. :)\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3244015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3251012", "body": "Some additional refactors based on @sr 's feed back.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3251012/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3263871", "body": "@sr ^^ good feedback, take a look when you have a chance.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3263871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3264154", "body": "Two last second commits.  Moved `Janky::Chat::Mock` into it's own file (like the other mock classes).  Wasn't sure if you want the gemspec files value updated with my recent changes, I can easily remove that commit.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3264154/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/github/janky/pulls/comments/310475", "body": "yeah I didn't like that approach...just took the quick and dirty :)  thanks for the tip.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/310475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/310476", "body": "I can dig it.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/310476/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313393", "body": "The 'room' object returned by the HipChat client use `room_id` instead of `id` for their identifier attribute.  I'm going to just create a Janky::HipChat::Room object to wrap (and normalize this).\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313394", "body": "That is the 'who' the message appears to come from.  I'm going to expose a `JANKY_HIPCHAT_FROM` or something similar and make `CI` the default.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313395", "body": "wasn't sure..that was there before I started my refactors :)\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313400", "body": "See my other comment re: the Room object returned by the HipChat client.  But best solution is to create a `Janky::HipChat::Room` class to normalize the naming differences (`id` vs `room_id`).\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313414", "body": "`output` is a hash for holding message output options...I would prefer a more traditional `opts` naming personally.  In the case of the HipChat client this would be used to [set a color for the message](https://github.com/mojotech/hipchat/blob/master/lib/hipchat.rb#L77-78).\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313414/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "subtleGradient": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3255490", "body": "HipChat support FTW! :+1:\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3255490/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "wajiii": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3263574", "body": "I think it would be useful to document this in the README; I eventually guessed the solution, then found this issue after it didn't work for me (now Janky fails while starting). When I figure out why, I'll share the details as a new issue in hopes of helping someone else.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3263574/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "jsmestad": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3263943", "body": "@sr is this something that is possbile to support? Another idea is if your aware of having jenkins use two modes of authentication (omniauth/warden style)\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3263943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "ethank": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3269059", "body": "Nope, got everything working. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269059/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "halorgium": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/github/janky/pulls/comments/331799", "body": "Why not require the gem inside the Chat adapter file?\nThen if people are using that specific adapter, they just need to add the dependency to their Gemfile. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/331799/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}}, "4": {"mattr-": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/237", "title": "Support Ruby 2.4", "body": "We should be close to being able to support Ruby 2.4. Here's a list of the following things that I know about needing to be done before we can say we officially support Ruby 2.4:\r\n\r\n- Upgrade activerecord to version 4.2 at the earlier. Using a 5.x version would be better.\r\n- This section of code https://github.com/github/janky/blob/013b416af1307312b313a94ec77c1de2deaf05e8/lib/janky.rb#L56-L60 can be removed\r\n- Upgrade any other gems that are known to have incompatibilities with Ruby 2.4\r\n\r\nI'd also like to deprecate anything less than Ruby 2.4, so a warning similar to https://github.com/github/janky/blob/013b416af1307312b313a94ec77c1de2deaf05e8/lib/janky.rb#L1-L4\r\nfor Ruby 2.3 and below would be great!\r\n\r\ncc: @perlun", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/7239da23b6ed687d8edeedb913bbdee87b53114b", "message": "remove 1.8.7 and use 2.3.5 for CI"}, {"url": "https://api.github.com/repos/github/janky/commits/013b416af1307312b313a94ec77c1de2deaf05e8", "message": "Merge pull request #236 from github/work-with-ruby-2.2\n\nInstall a newer version of test-unit"}, {"url": "https://api.github.com/repos/github/janky/commits/4db887fcf6ade88cb16c36808be23cbaf00e15bd", "message": "Install a newer version of test-unit\n\nAllows developers to upgrade to Ruby 2.2.x instead of being stuck on\nRuby 2.1.x."}, {"url": "https://api.github.com/repos/github/janky/commits/49f792c43eade1a1855040ac488d1fbb273bd9c1", "message": "Merge pull request #235 from github/update-test-runner\n\nUpdate the test runner to work with newer rubies"}, {"url": "https://api.github.com/repos/github/janky/commits/fd4fe2a1f52bef5fcae246449889a5f9f1081adf", "message": "Remove unneeded comment"}, {"url": "https://api.github.com/repos/github/janky/commits/356edc59862d4f926b09a9955d37651e46af0b4b", "message": "Update the test runner to work with newer rubies\n\nRuby versions after 2.1.x remove the `testrb` script that used to shift\nwith Ruby by default. Due to its removal, copy the contents of the\nscript from an older version of Ruby and use it in our `script/test`\nscript so that we can upgrade Ruby without having to switch out the test\nframework and setup."}, {"url": "https://api.github.com/repos/github/janky/commits/e112d2bfef9cafb8dec603ddbfae786184b1c22e", "message": "v0.12.0"}, {"url": "https://api.github.com/repos/github/janky/commits/2a0151a716a82778c6b024b4413c5087f164a870", "message": "Merge pull request #233 from dlackty/ruby24\n\nUpdate ruby-yajl to support Ruby 2.4"}, {"url": "https://api.github.com/repos/github/janky/commits/ce1132391da38423278383004c8140aeb2a26650", "message": "Merge pull request #221 from github/support-newer-mysql2-gem\n\nSupport MySQL 5.7 and newer"}, {"url": "https://api.github.com/repos/github/janky/commits/7e7ade158ba3b7ff04560bc1cc8107e2ef5e01c9", "message": "Merge pull request #223 from ellneal/feature/paths\n\nUse path building methods to prevent errors"}, {"url": "https://api.github.com/repos/github/janky/commits/e0e1e96484c2c640086a93a92fc456c93b35e1b3", "message": "Support MySQL 5.7 and newer"}, {"url": "https://api.github.com/repos/github/janky/commits/7cd23c546c0c8fbd7ee13a4aa81a2626c3781c73", "message": "Always use the room_id from the build\n\nSince builds can have specific room ids, switch to fetching the room\nfrom the build instead of the repository the build is for."}, {"url": "https://api.github.com/repos/github/janky/commits/7a5ec47f8fb0b0cc57625f6748c0f563440b3f87", "message": "Update the Travis configuration for Janky\n\nBuild on 2.1, 2.2, and 2.3. Allow failures on 2.3."}, {"url": "https://api.github.com/repos/github/janky/commits/44b31a1ac0b7429f8edde026b4332f7c033e95d5", "message": "Add a fancy badge for the gem version"}, {"url": "https://api.github.com/repos/github/janky/commits/40b2d32b7b920a74dc05faac88ec5350cff7b4d5", "message": "Merge pull request #217 from mal/patch-1\n\nFix Chat Notifications"}, {"url": "https://api.github.com/repos/github/janky/commits/139923939081c516546554e16e3e023fbd091ae1", "message": "Merge pull request #216 from github/remove-digest-deprecation-warnings\n\nRemove deprecation warnings using OpenSSL::Digest"}, {"url": "https://api.github.com/repos/github/janky/commits/73e5f5cf121b7aed33ae5ba9f4724e670e75210c", "message": "Merge pull request #215 from github/upgrade-mocha\n\nUpgrade Mocha to 0.14.0"}, {"url": "https://api.github.com/repos/github/janky/commits/b9398b510d2318f7846b3d00d5120b9d538b6c74", "message": "Remove deprecation warnings using OpenSSL::Digest"}, {"url": "https://api.github.com/repos/github/janky/commits/0595031ac3f9241db5468bdf8e90b3240bd83686", "message": "Remove deprecation warning after upgrading mocha"}, {"url": "https://api.github.com/repos/github/janky/commits/ab5d5726eb0776a20475c396a2bfd243c52aa11b", "message": "bump the mocha dependency"}, {"url": "https://api.github.com/repos/github/janky/commits/3ee341dcc3a7fb9b55c15521b42d8271bfe5358b", "message": "ignore ctags files"}, {"url": "https://api.github.com/repos/github/janky/commits/30c88532088322d719995ffde7fcd9c3bb451bb8", "message": "Merge pull request #213 from mjrussell/hubot-readme-updates\n\nUpdate README with hubot notifier info"}, {"url": "https://api.github.com/repos/github/janky/commits/e9214e87e6e0f1456a8b130e56a27131c8f1db72", "message": "v0.11.1"}, {"url": "https://api.github.com/repos/github/janky/commits/7d8e58d922f5be056a695c6b218d627e528d6648", "message": "Merge pull request #211 from mjrussell/hubot-gemspec\n\nAdd hubot chat service to gemspec"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mkantor": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/194", "title": "Janky doesn't know how to build tags", "body": "This is true for builds triggered by GitHub webhooks and hubot:\n\n```\nmkantor: hubot ci build janky/v0.10.2\nhubot: Unknown branch \"v0.10.2\". Push again\n```\n\nI was surprised by this since I my git experience tells me that annotated tags are just another kind of named ref and should be treated similarly to branches in general.\n\nThe particular issue that caused me to realize this was that release tags for a project configured with Janky were not being CI'd. If anything needs to be built/tested, it's releases! I'm able to work around this by telling hubot to `hubot ci build project/master` immediately after tagging, but this is kind of silly.\n\n~~Janky also doesn't understand how to build SHAs, which is unfortunate but a bit more understandable.~~ **EDIT:** It looks like #186 fixed this.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Mezzle": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/187", "title": "[Suggestion] Stats per branch", "body": "Allow (for the purpose of some Dashboards, for example) to do something similar to the hubot status request for a branch - but for a project, returning the status of all known branches (or all current branches on Github).\n\nI currently have to poll this via the Github API for each individual branch (grab branches, get sha's request build status for each sha).  Doing this via janky would be preferable (so as to not overload github, and to have it all in a single request)\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "lstoll": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/179", "title": "Setting hook bombs if hook exists.", "body": "If the repo already has a hook in place, you get this\n\n```\nirb(main):008:0> Janky::Repository.setup('libgit2/rugged', 'rugged-continuous')\nJanky::Error: Failed to create hook\n    from /data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-29f5cf09ae91/lib/janky/github.rb:125:in `hook_create'\n    from /data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-29f5cf09ae91/lib/janky/repository.rb:147:in `setup_hook'\n    from /data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-29f5cf09ae91/lib/janky/repository.rb:139:in `setup'\n    from /data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-29f5cf09ae91/lib/janky/repository.rb:37:in `setup'\n    from (irb):8\n    from /usr/share/rbenv/versions/1.9.3-p231-tcs-github/bin/irb:12:in `<main>'\n```\n\nThis should handle removing/updating it properly, or maybe at least a more descriptive error message.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "robrix": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/176", "title": "Fold/filter build output", "body": "Folding/filtering compiles/etc to allow you to see just the compiler/test errors but reveal the rest on demand would be lovely.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "asenchi": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/161", "title": "Database schema not able to handle GIANT WALLS OF TEXT", "body": "I am only reporting this as an `undesired behavior` issue and not necessarily a bug. Wanted to make note though for those debugging later.\n\n@joshaber ping'd today in Ops asking about Janky behavior. Basically Janky wouldn't see builds as actually completed:\n\n![image](https://f.cloud.github.com/assets/1329/808099/7766f2ce-ee5b-11e2-859e-6ad8fa5f350b.png)\n\nAfter looking at the output, Jenkins claimed SUCCESS:\n\n```\n** BUILD SUCCEEDED **\n\nFinished: SUCCESS\n```\n\nLooking further it seems that our `output` column in Janky is set to `mediumtext` which has a character limit of [16,777,215 characters](http://dev.mysql.com/doc/refman/5.0/en/blob.html). The output for these particular tests were much higher:\n\n```\n~ : wc -m ~/Downloads/consoleText.txt\n 24663273 /Users/asenchi/Downloads/consoleText.txt\n```\n\nSomething to keep in mind if we see this again. /cc @github/ops\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "aroben": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/152", "title": "/ci setup fails when a job already exists for the repository", "body": "I have a project I want to build on both Mac and Windows. To do this, I've created two jobs (`project-osx.xml.erb` and `project-win.xml.erb`). Setting up the first one works just fine:\n\n```\n/ci setup owner/repo project-osx\n```\n\nBut setting up the second one fails because the GitHub Hooks API recently changed to disallow duplicate hooks on repositories:\n\n```\n/ci setup owner/repo project-win\n```\n\n``` js\n{\n  \"message\": \"Validation Failed\",\n  \"errors\": [\n    {\n      \"resource\": \"Hook\",\n      \"code\": \"custom\",\n      \"message\": \"Hook already exists on this repository\"\n    }\n  ]\n}\n```\n\n```\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/github.rb:125:in `hook_create'\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/repository.rb:146:in `setup_hook'\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/repository.rb:138:in `setup'\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/repository.rb:36:in `setup'\n/data/janky/vendor/gems/ruby/1.9.1/bundler/gems/janky-8329fb2e67e2/lib/janky/hubot.rb:15:in `block in '\n```\n\n/cc @technoweenie\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/149", "title": "Can't set up repositories where Janky's GitHub user isn't an admin", "body": "I'm trying to add a personal repo ([aroben/libchromiumcontent](https://github.com/aroben/libchromiumcontent)) to an existing Janky instance. But every time I do, it throws an exception in `Repository.hook_create`. We're getting a 404 response from api.github.com when trying to create the service hook. This is happening because the user that Janky is authenticating as is not an admin on the repo. (Of course it isn't; since it's a personal repo, only I am an admin on the repo!)\n\nIt's quite easy for me to set up the service hook manually, of course. But there's no way for Janky to know that I've done so, since only admins can _list_ hooks on repos.\n\nI'd love for there to be a way to get this working. Maybe Janky could say \"Hey, you need to add SOMEURL as service hook to your repo\"?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Iristyle": {"issues": [{"url": "https://api.github.com/repos/github/janky/issues/111", "title": "Enabling authentication - infinite OAuth Redirect Loop", "body": "I'm _sure_ I'm missing something obvious here, but I'm seeing a redirect loop when I enable organizational security for my Janky install.\n\nPer the docs\n\n```\nTo restrict access to members of a GitHub organization, register a new OAuth application on GitHub with the callback set to $JANKY_BASE_URL/auth/github/callback then set a few extra settings:\n\nJANKY_SESSION_SECRET: Random session cookie secret. Typically generated by a tool like pwgen.\nJANKY_AUTH_CLIENT_ID: The client ID of the OAuth application.\nJANKY_AUTH_CLIENT_SECRET: The client secret of the OAuth application.\nJANKY_AUTH_ORGANIZATION: The organization name. Example: \"github\".\n```\n\nSo I register the OAuth app for my org, and plug in the the `JANKY_AUTH_CLIENT_ID` and `JANKY_AUTH_CLIENT_SECRET` for the app.  `JANKY_AUTH_ORGANIZATION` is of course my org name (EastPoint) in this case.  I randomly generate 16 characters for `JANKY_SESSION_SECRET`.\n\nIf I try to hit the url of my Janky install, it looks like it's working.  The app immediately redirects to \n\n```\nhttps://github.com/login/oauth/authorize?response_type=code&client_id=JANKY_AUTH_CLIENT_ID&scope=repo&redirect_uri=https%3A%2F%2FMY.JANKY.SITE%2Fauth%2Fgithub%2Fcallback\n```\n\nI click `Allow` to authorize and the OAuth flow continues with a 302 to\n\n```\nhttps://MY.JANKY.SITE/auth/github/callback?code=THECODE\n```\n\nWhen the request goes to my server, I have one `rack.session` and I'm assigned a new one,  and a 302 is sent which redirects me to the root of the site\n\n```\nhttps://MY.JANKY.SITE/\n```\n\nAt this point, a request is sent back to `https://github.com/login/oauth/authorize?` and it loops. As far as I can tell,  it would appear that Janky is either unable to lookup `THECODE` passed back from Github,  or is having some sort of issue properly managing / associating the given `rack.session` with the OAuth flow that just occurred.\n\nThere's nothing in the logs (is there a way to turn on something more verbose?)\n\nIs there some system-level dependency that I might be missing that could be preventing the calls back to GitHub by the Janky server from succeeding?\n\nSome notes about my environment, for completeness - everything here checks out:\n- Not running on Heroku - running on EC2 - Ubuntu 12.04.1 LTS - have the following packages installed - `sudo apt-get -y install curl ssh git-core git build-essential zlib1g zlib1g-dev libyaml-dev libxml2-dev libc6-dev autoconf automake libtool make postgresql postgresql-client postgresql-contrib libpq-dev ruby1.9.3 ruby1.9.1-dev rubygems1.9.1 ruby-bundler`, and I've also done an `install rubygems-update`\n- Ruby 1.9.3 (yes, I have made sure that default Ruby is not 1.8 -- see [here](http://lenni.info/blog/2012/05/installing-ruby-1-9-3-on-ubuntu-12-04-precise-pengolin/))\n- Postgres 9.1 -- I can connect to and see the relevant tables in the database that I've called `janky_production` - I've tested my connection configuration in `irb` and it's fine.\n- Running under Upstart - using [Foreman](https://github.com/ddollar/foreman) to generate the Upstart scripts - `RAILS_ENV` and `RACK_ENV` are both set to `production`\n- I created an authorization for my `JANKY_GITHUB_USER` and have configured `JANKY_GITHUB_STATUS_TOKEN` with the token\n- `JANKY_SESSION_SECRET` is a randomly generated 16 character string from `pwgen` per the docs suggestion.  Similarly `JANKY_GITHUB_HOOK_SECRET` has been generated in the same manner.\n- Hubot is configured properly with `hubot-scripts` and a `HUBOT_JANKY_URL`.  I can verify in HipChat that his part is working.  I can issue Hubot commands like `ci?` and the Janky result is properly parsed from `https://MY.JANKY.SITE/_hubot/help` as an example.  However, if I issue a command like `ci setup github/janky janky` I get the response `Error F7U12: Can't Setup.`\n- The Url configured for `JANKY_BUILDER_DEFAULT` is using basic auth over HTTPS.  This same basic url we've configured as a `WebHook Url` under the `Service Hooks` for the GitHub repo.  The webhook is using the Jenkins token style like `https://JANKY_GITHUB_USER:JENKINS_TOKEN@JENKINS..DOMAINcom/github-webhook/`.  The `JANKY_BUILDER_DEFAULT` looks identical, except that it doesn't have the `github-webhook/` part.\n- I can see the user count increase for the GitHub application assigned to `JANKY_AUTH_CLIENT_ID`, and I can see the application listed as approved under my user account -- so I know that GitHub side has properly handled the OAuth request from Janky ... it's just that Janky seems to be missing something.\n\nI've double and triple checked all my environment variables to make sure they match up, but it's possible I've done something stupid here.  \n\nOn the double-checking front, I've also discovered an undocumented `JANKY_AUTH_TEAM_ID` at https://github.com/github/janky/blob/master/lib/janky.rb#L155  I have configured this to the integer id for the `Developers` team of my organization, and I am a member.  I will add a new issue for updating the docs with a description of this.\n\nA couple other last gory, related details -- again, only mentioned for completeness really.\n- I am running two other apps hosted on EC2 that have GitHub OAuth enabled - Jenkins and ErrBit.  Both of these apps work totally fine, so I'm familiar with the process of setting up OAuth.  All of our users are automatically logged into these apps if they are logged into GitHub.\n- Technically speaking, at the network infrastructure level, these apps (Jenkins, Errbit and Janky) are running behind a reverse proxy setup. NGinx performs SSL termination, then forwards the request to HAProxy, which reverse proxies based on host header and forwards the request to an internal server -- so directly at the Janky instances listening thin app, default port 5000.  I hesitated to mention this, because I don't want to confuse the issue here, as we do have the `proxy_set_header` configurations in place.  I mention this only because maybe, just maybe, there's something different going on in the headers (than all the other apps we reverse proxy that work fine).  This piece of setup in `nginx.conf` has worked fine for years --\n\n```\nlocation / {\n                #proxy to haproxy\n                proxy_pass              http://localhost:80;\n                proxy_set_header        Host $host;\n                proxy_set_header        X-Real-IP $remote_addr;\n                proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;\n                proxy_set_header        X-Forwarded-Proto https;\n\n                proxy_redirect          off;\n        }\n```\n\nI think that covers it... lots of detail here -- hopefully someone can point me to what I'm missing!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/github/janky/pulls/131", "title": "Add support for forks / pull request events", "body": "Accept pull req events / pass JANKY_COMMIT_URL\n- JANKY_COMMIT_URL is now pushed to Jenkins jobs as parameter\n- Hook registration establishes pull_request event\n- Payload parser now speaks pull request event\n- Add API support for repos/#{nwo}/pulls/#{number}/commits\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dlackty": {"issues": [], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/f4cc82ab12cfad3ad1d168e09641d973dc93b180", "message": "Update ruby-yajl to support Ruby 2.4"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "ellneal": {"issues": [], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/4223dcbb8c670610c89dae64091d9076672dbcb1", "message": "Use path building in runners\nRemoves the need to warn about trailing slashes in the JANKY_BUILDER_DEFAULT environment variable"}, {"url": "https://api.github.com/repos/github/janky/commits/8dc819253b1e2642a2b28698ba4c14e7a63e9dbb", "message": "Use path builder for hubot chat service\nPrevents errors occurring related to trailing slashes on the the JANKY_HUBOT_URL environment variable"}, {"url": "https://api.github.com/repos/github/janky/commits/b80fc64a0f95e438ebcd77e09ac41399a56770ad", "message": "Allow tests to be run with custom database URL"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mal": {"issues": [], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/16c491b4c4065645cf4b0c89218d82ee9888f25a", "message": "Fix Chat Notifications\n\nPreviously `room_id` was being passed to `speak` as undefined and the notification send was failing."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mjrussell": {"issues": [], "commits": [{"url": "https://api.github.com/repos/github/janky/commits/ebffff25c2a7137de1816374a99a328d82156721", "message": "Update README with hubot notifier info"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sr": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3219024", "body": "Thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3219024/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3219832", "body": "Woops. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3219832/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3224017", "body": "Thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3224017/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3229138", "body": "Looks like you didn't create the database. Try this:\n\n`heroku run db:migrate`\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3229138/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3229235", "body": "There's a [migration](https://github.com/github/janky/blob/master/lib/janky/database/migrate/1317384619_add_build_room_id.rb) that removes the default value later on. Removing it from the initial one doesn't hurt though. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3229235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3229313", "body": "Great, thanks. I think the [`Builder`](https://github.com/vivek/janky/blob/97208f48741da965549817e1f6f4485955f1946c/lib/janky/builder/http.rb) won't work over SSL either. Same fix should do it.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3229313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3248264", "body": "This is great, I'd really like to have this in 1.0. The APIs just need some work.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3248264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3248279", "body": "Woops, thanks!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3248279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3248285", "body": ":+1:\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3248285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3261148", "body": "Interesting, didn't know about this plugin. Janky only supports Basic Auth right now. See [`Janky::Builder::HTTP`](https://github.com/github/janky/blob/076c5f306636feaa269da3526f0848372694bf73/lib/janky/builder/http.rb) and [`Janky::JobCreator`](https://github.com/github/janky/blob/a9e7a044b943dac97af4a486f0befc94af688725/lib/janky/job_creator.rb).\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3261148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3261186", "body": "For basic auth, set `JANKY_BUILDER_DEFAULT` to `http://user:pass@example.com:8080/`\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3261186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3261425", "body": "Janky master should give you more detailed errors:\n\n```\nERROR: Janky::Error - boomtown\n         url http://127.0.0.1:9393/boomtown\n    referrer\n      method  GET\n  user_agent Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/535.7 (KHTML, like Gecko) Chrome/16.0.912.63 Safari/535.7\n      params   {}\n   remote_ip 127.0.0.1\n     session   {}\n         foo  bar\n         app janky\n\n/Volumes/GitHub/ci/vendor/janky/lib/janky/app.rb:75:in `GET /boomtown'\n/Users/sr/.rbenv/versions/1.8.7-p352/lib/ruby/gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1211:in `call'\n/Users/sr/.rbenv/versions/1.8.7-p352/lib/ruby/gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1211:in `compile!'\n...\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3261425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269054", "body": "It's `script/cibuild`. Also it needs to be executable.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269055", "body": "Is this still a problem?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269055/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269070", "body": "Make sure the `JANKY_GITHUB_USER` user has write access to veevachi/api. Double check `JANKY_GITHUB_PASSWORD` as well.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269070/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269082", "body": "@wajiii db5d652354af61a70b31b3fb839ae71b88699892\n\n@jsmestad I am not sure to be honest. I don't about any other authentication mode.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269082/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3269086", "body": "To clarify: this error is happening when trying to create the web hook using the GitHub API. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269086/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/1457920", "body": "I am hoping to spend some time in Janky next week and get a release out yeah. I'll make sure to include this.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1457920/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/3725342", "body": "Can you indent these like bellow and keep lines at 80 columns here please?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/3725342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/3742763", "body": ":sparkling_heart: \n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/3742763/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/github/janky/pulls/comments/311160", "body": "I generally don't like using `const_get` and whatnot. I'd like a more explicit system where chat services are registered. Something like this maybe:\n\n``` ruby\nclass CampfireChat\n  def self.setup(settings)\n  end\nend\n\nJanky.add_chat :campfire, CampfireChat\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311162", "body": "I'd like notifiers to be maintained outside of Janky. I think it's fine for now as we define the various APIs though.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311162/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311165", "body": "I'd change the signature to this instead:\n\n``` ruby\n def self.speak(message, room_id, output={})\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311167", "body": "The various adapters shouldn't need to implement this method.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311168", "body": "Yeah, I don't think we need the duplication here.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311175", "body": "I think this our the API right there:\n\n``` ruby\nclass Hipchat\n  def self.setup(settings)\n    @client = HipChat::Client.new(settings['JANKY_HIPCHAT_TOKEN'])\n  end\n\n  def self.speak(message, room_id, options={})\n    @client.speak(room_id, message)\n  end\n\n  def self.rooms\n    @client.rooms\n  end\nend\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/311185", "body": "I am not sold on `ChatService`. Maybe just `Chat`?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/311185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313326", "body": "Please leave this out of the diff.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313327", "body": "Same here\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313327/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313329", "body": "What's `output` for?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313330", "body": "This line is super confusing. Please use a normal detect + if construct instead.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313331", "body": "Why duplicate `room_id` and `id` here? Also this should be a normal class or a `Struct`.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313333", "body": "We don't need an adapter at this point\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313333/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313334", "body": "Yeah. This whole class can go.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313335", "body": "What's the `\"CI\"` string for?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313336", "body": "This isn't really an adapter. Name it `@client` maybe?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313339", "body": "The API is already documented in `Janky::Chat`. We can remove the documentation.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313343", "body": "What's this about? It's kind of confusing.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/332764", "body": "Yeah exactly. I am so over separate gems and whatnot. I was going to say it's fine to keep hipchat in there 'cause it's not too crazy but I just realized it depends on more than just net/http. Guess I'll move it out of the core runtime dependencies.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/332764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/390601", "body": "Reverting this,  won't work in Campfire. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/390601/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "atmos": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3227773", "body": "It's not like you can post anyway. :P\n\nI'll let @sr decide.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3227773/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/4842420", "body": "Ugh, yeah. I'm on spotty network until next Monday but I'll cut a working version when I can verify what we're running in prod vs what's available on rubygems.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/4842420/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/4901670", "body": "0.10.2 is out now on rubygems.org.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/4901670/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "calavera": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3227894", "body": "The default room name should be always set here:\n\nhttps://github.com/github/janky/blob/master/lib/janky.rb#L135-139\n\nSo your room id is not actually necessary.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3227894/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3251090", "body": "nice!!! :+1:\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3251090/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/github/janky/pulls/comments/310438", "body": "That case statement is not going to end well. I think something like this can work better:\n\n``` ruby\nJanky::ChatService.setup(settings)\n```\n\n``` ruby\nmodule Janky::ChatService\n  def self.setup(settings)\n    service = Janky::ChatService.contants.detect {|chat| chat.to_s.casecmp(settings[\"JANKY_CHAT_SERVICE\"]) == 0} || :Campfire\n    Janky::ChatService.const_get(service).setup(settings)\n  end\nend\n```\n\n``` ruby\nclass Janky::ChatService::HipChat\n  def self.setup(settings)\n    # get here the ENV variables for HipChat and setup the chat\n  end\nend\n```\n\n``` ruby\nclass Janky::ChatService::Campfire\n  def self.setup(settings)\n    # get here the ENV variables for Campfire and setup the chat\n  end\nend\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/310438/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/310439", "body": "this is really nasty. I'd rather call the adapter each time. Btw, as a good practice, if you override method_missing your should override respond_to? too.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/310439/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "dustineichler": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3229271", "body": "Knew it'd be something obvious. Thanks SR.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3229271/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "schisamo": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3241896", "body": "@calavera thx for the feedback.  will incorporate and push the changes later this evening. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3241896/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3244015", "body": "^^ refactoring complete thx to feedback from @calavera .  Feel much better now that the method_missing magic is gone. :)\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3244015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3251012", "body": "Some additional refactors based on @sr 's feed back.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3251012/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3263871", "body": "@sr ^^ good feedback, take a look when you have a chance.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3263871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/issues/comments/3264154", "body": "Two last second commits.  Moved `Janky::Chat::Mock` into it's own file (like the other mock classes).  Wasn't sure if you want the gemspec files value updated with my recent changes, I can easily remove that commit.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3264154/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/933902", "body": "Looks good.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/933902/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/github/janky/pulls/comments/310475", "body": "yeah I didn't like that approach...just took the quick and dirty :)  thanks for the tip.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/310475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/310476", "body": "I can dig it.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/310476/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313393", "body": "The 'room' object returned by the HipChat client use `room_id` instead of `id` for their identifier attribute.  I'm going to just create a Janky::HipChat::Room object to wrap (and normalize this).\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313394", "body": "That is the 'who' the message appears to come from.  I'm going to expose a `JANKY_HIPCHAT_FROM` or something similar and make `CI` the default.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313395", "body": "wasn't sure..that was there before I started my refactors :)\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313400", "body": "See my other comment re: the Room object returned by the HipChat client.  But best solution is to create a `Janky::HipChat::Room` class to normalize the naming differences (`id` vs `room_id`).\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/pulls/comments/313414", "body": "`output` is a hash for holding message output options...I would prefer a more traditional `opts` naming personally.  In the case of the HipChat client this would be used to [set a color for the message](https://github.com/mojotech/hipchat/blob/master/lib/hipchat.rb#L77-78).\n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/313414/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "subtleGradient": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3255490", "body": "HipChat support FTW! :+1:\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3255490/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "wajiii": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3263574", "body": "I think it would be useful to document this in the README; I eventually guessed the solution, then found this issue after it didn't work for me (now Janky fails while starting). When I figure out why, I'll share the details as a new issue in hopes of helping someone else.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3263574/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/911633", "body": "Excellent!\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/911633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "jsmestad": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3263943", "body": "@sr is this something that is possbile to support? Another idea is if your aware of having jenkins use two modes of authentication (omniauth/warden style)\n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3263943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/933883", "body": "interesting...\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/933883/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/1771493", "body": "Does this need a change on the Jenkins build setup side of things?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1771493/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "ethank": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/github/janky/issues/comments/3269059", "body": "Nope, got everything working. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/issues/comments/3269059/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "mhfs": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/934602", "body": "Thanks for taking care of that. =D\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/934602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "jessedearing": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/1449813", "body": "This breaks Heroku deployments because the syntax is MySQL specific. I am stepping out now, but I'll try and submit a PR later.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1449813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "maletor": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/1605931", "body": "Can we make this `find_each`? We have a lot of builds.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1605931/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "jspahrsummers": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/1771498", "body": "@jsmestad Sort of. Your Janky build jobs will have to be re-set up, or else Jenkins will complain. A quick `hubot ci setup project/repo` should do it.\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1771498/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/1815401", "body": "@ejholmes You're absolutely right. Good call.\n\nCC @sr \n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1815401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "ejholmes": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/1815400", "body": "I think the [gist](https://gist.github.com/1497335) needs to be updated to include:\n\n``` xml\n<hudson.model.StringParameterDefinition>\n  <name>JANKY_BRANCH</name>\n  <description></description>\n  <defaultValue></defaultValue>\n</hudson.model.StringParameterDefinition>\n```\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/1815400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "parkr": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/github/janky/comments/4841294", "body": "you pushing this up to rubygems.org?\n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/4841294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/4846457", "body": ":heart: \n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/4846457/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/github/janky/comments/4901679", "body": "Thank you :tada: \n", "reactions": {"url": "https://api.github.com/repos/github/janky/comments/4901679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "halorgium": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/github/janky/pulls/comments/331799", "body": "Why not require the gem inside the Chat adapter file?\nThen if people are using that specific adapter, they just need to add the dependency to their Gemfile. \n", "reactions": {"url": "https://api.github.com/repos/github/janky/pulls/comments/331799/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}}}}