{"_default": {"1": {"hamon-e": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4669", "title": "Tab Completion", "body": "Hello,\r\n\r\nSeems that last update (2.7.1) broke circular tab completions\r\n\r\nSee this example,\r\n(first command pressing lot of TAB)\r\n(second command pressiong lot of SHIFT-TAB)\r\nhttps://asciinema.org/a/bShqIYrla3TCMwILAyAZShYRs\r\n\r\nAs we can see the first completion doesn't return to the beginning", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Kamik423": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4666", "title": "iTerm window launches twice", "body": "fish, version 2.7.1\r\n\r\nI am using iTerm2 on MacOS.\r\nI had a working Automator AppleScript program for opening an iTerm window at the current finder window on Mac. Worked fine for bash.\r\n\r\n```\r\non run {input, parameters}\r\n\ttell application \"Finder\"\r\n\t\tif exists Finder window 1 then\r\n\t\t\tset dir_path to target of Finder window 1 as alias\r\n\t\telse\r\n\t\t\tset dir_path to desktop as alias\r\n\t\tend if\r\n\tend tell\r\n\tCD_to(quoted form of (POSIX path of (dir_path)))\r\nend run\r\n\r\non CD_to(theDir)\r\n\ttell application \"iTerm\"\r\n\t\ttry\r\n\t\t\tset newWindow to current window\r\n\t\t\t\r\n\t\t\tset sesh to current session\r\n\t\t\ttell newWindow\r\n\t\t\t\tcreate tab with default profile\r\n\t\t\t\tset sesh to current session\r\n\t\t\tend tell\r\n\t\ton error\r\n\t\t\tset newWindow to (create window with default profile)\r\n\t\t\ttell newWindow\r\n\t\t\t\tset sesh to current session\r\n\t\t\tend tell\r\n\t\tend try\r\n\t\t\r\n\t\ttell sesh\r\n\t\t\twrite text \"cd \" & theDir & \"&& clear\"\r\n\t\tend tell\r\n\tend tell\r\nend CD_to\r\n```\r\n\r\nWhen I switched to `fish` this broke, I replaced the `&&` with a `;`. This works, if there already is an iTerm window, but if there is none it opens one which still displays my greeting (so no command was run) and one which correctly changed to the directory and cleared. What is going on\u203d \r\n\r\n(EDITED) Sometimes if I launch iTerm by clicking the icon I can (sometimes) see a second window appear and then vanish immediately. It then gives me a popup `Session #1 just terminated`. I think this is also related.\r\n\r\nThis might also be related to [this](https://github.com/oh-my-fish/oh-my-fish/issues/258) omf issue.\r\n\r\nNot sure if I was supposed to report it here, or to iTerm, but I think this is the right place, because it worked with bash, and seems to be a fish initiation issue.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4666/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dieggsy": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4656", "title": "Using block cursor only for normal state?", "body": "|             |          | \r\n|-----------------|---------|\r\n|fish version | `2.7.0`|\r\n|uname -a | `Linux Ragnarok 4.14.12-1-ARCH #1 SMP PREEMPT Fri Jan 5 18:19:34 UTC 2018 x86_64 GNU/Linux`|\r\n| TERM |   `xterm-termite` or `xterm-256color` (happens with both) | \r\n| `sh -c 'env HOME=$(mktemp -d) fish'` | behavior persists |\r\n\r\nBasically, I use `fish_vi_key_bindings` along with:\r\n```fish\r\nset -U fish_cursor_insert line\r\nset -U fish_cursor_replace_one underscore\r\n```\r\nHowever, when running a repl program like `python` (or really anything else where my cursor is visible, like `pacman -S` and other password prompting programs), the cursor I get is a block (normal mode) cursor. Is there a way for the default cursor in all instances/programs to be a line cursor, and only switch to a bar cursor when explicitly switching to normal mode?", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "zx8": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4650", "title": "Improve $history lookup times", "body": "Since the solution in https://github.com/fish-shell/fish-shell/pull/4461 was rejected, it would be great to have an alternative/performant way of referencing history items, at the least for the \"most recent history item\" (which is certainly the most common use case).\r\n\r\nFor example, I have the following setup (to mimic [bash's `!!` functionality](https://stackoverflow.com/a/15137462)):\r\n\r\n```fish\r\nfunction bind_bang\r\n  switch (commandline -t)\r\n  case \"!\"\r\n    commandline -t $history[1]; commandline -f repaint\r\n  case \"*\"\r\n    commandline -i !\r\n  end\r\nend\r\n\r\nbind ! bind_bang\r\n```\r\n\r\nAnd it's noticeably slower than @krader1961's alternative (i.e. using `history item 1` rather than `$history[1]`), to the point it actually interrupts my thought process while I wait for it to complete the previous command.\r\n  ", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4650/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "italomaia": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4635", "title": "Problems with fish and docker", "body": "fish, version 2.6.0\r\n\r\nWhen I attach to a docker container with fish, I get the message below:\r\n\r\n```\r\nWelcome to fish, the friendly interactive shell\r\n<W> fish: Current terminal parameters have rows and/or columns set to zero.\r\n<W> fish: The stty command can be used to correct this (e.g., stty rows 80 columns 24).\r\n```\r\n\r\nWhen using the console under this circunstance, the text breaks quite badly. To reproduce, run a ubuntu docker, install fish and, from another terminal, docker exec -it into it running the fish command. ", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4635/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "faho": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4633", "title": "cmake/ninja build does not update test files", "body": "When the test files (in tests/) are updated, the cmake build does not get them, so another `ninja test` run will still run the old tests.\r\n\r\nThis just bit me again in #4632.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/56604f598e02daefb38e9702121fc4019d3ee9ef", "message": "[Tests] Add more slack to the bind tests\n\nSome of these were failing on Travis quite often, and this is probably\nthe result of too tight a window.\n\nE.g. one emacs test (transpose words, default timeout, short delay)\nwaited 250ms to enter something else, with a timeout of 300ms. That\nmeant a window of 50ms."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/d67b4d6ca71ada3c5cf92f62fe1e8de3730efa09", "message": "Fix {,,,} tests\n\nThere was an additional line in the output"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/aa58cae6014582e19a6b52db8d0865ae81771b3b", "message": "Don't count successive \",\" as literal in brace expansion\n\nThis was highly surprising.\n\nFixes #3002."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/55ebf4430f19207f24bcee55249bfabc5c46c7de", "message": "Make literal \"{}\" expand to itself\n\nThis caused major annoyances with e.g. `find -exec`, and it's utterly\nuseless - \"{}\" expands to nothing, so why have it at all?\n\nFixes #1109."}], "pull_requests": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4653", "title": "Don't start keepalive process if the first or last process is internal", "body": "## Description\r\n\r\nCurrently, fish spawns a keepalive process when a non-external\r\nprocess (a block/builtin/function) is inside a pipeline.\r\n\r\nThis keepalive process is then made the process group leader, which\r\ntheoretically stops the process group from being coopted by PID\r\nreuse (which I'm still not sure can actually happen).\r\n\r\nBut if a non-external process is first or last in the pipeline, then\r\nfish itself needs to read/write to the terminal, so it should remain\r\npgroup leader, and therefore the keepalive process is not needed.\r\n\r\nFixes #4540.\r\n\r\n## TODOs:\r\n<!-- Just check off what what we know been done so far. We can help you with this stuff. -->\r\n- [N/A] Changes to fish usage are reflected in user documentation/manpages.\r\n- [ ] Tests have been added for regressions fixed\r\n- [ ] User-visible changes noted in CHANGELOG.md\r\n", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4624", "title": "Split command substitutions on NUL if one is found", "body": "## Description:\r\n\r\nCurrently, there is no easy way to use e.g. `find -print0` in command substitutions.\r\n\r\nWhat this does is check if a NUL is in the comsub output and then split on that instead of newline,\r\nwhich makes `something (find -print0)` just work.\r\n\r\nThe one fly in the ointment is if there is a command that uses NULs to separate its output,\r\nbut doesn't print a trailing NUL if there is just one \"thing\" to print.\r\nThat would cause us to fall back to splitting on newlines, which might do the wrong thing.\r\n\r\nSo far, everything I've tested (`find`, `git config -z`) seemed to print a trailing NUL.\r\n\r\nThis implements a proposal by @cben.\r\n\r\nFixes #3164.\r\n\r\n## TODOs:\r\n<!-- Just check off what what we know been done so far. We can help you with this stuff. -->\r\n- [ ] Changes to fish usage are reflected in user documentation/manpages.\r\n- [x] Tests have been added for regressions fixed\r\n- [ ] User-visible changes noted in CHANGELOG.md\r\n\r\n\r\n----\r\n\r\nThis does one extra `memchr` per command substitution, which is probably not significant. But maybe there's an easy way to use that result if there is a NUL?", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4554", "title": "Disable HAVE_BROKEN_WCWIDTH", "body": "## Description\r\n\r\nAs talked about in #4539, this disables HAVE_BROKEN_WCWIDTH.\r\n\r\nIt does not remove fish_wcwidth because I'm assuming that we need to reenable it in a bunch of cases, but I'm assuming the default should be to rely on the OSs implementation\r\n\r\nFixes issue #4539 (and possibly a bunch of others, e.g. #4306).\r\n\r\nThis is probably not something to merge, it's just to allow testing on common ground.\r\n\r\n## TODOs:\r\n<!-- Just check off what what we know been done so far. We can help you with this stuff. -->\r\n- [N/A] Changes to fish usage are reflected in user documentation/manpages.\r\n- [N/A] Tests have been added for regressions fixed\r\n- [ ] User-visible changes noted in CHANGELOG.md\r\n", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "wilhelmy": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4630", "title": "Add dedicated section about array variables, generated commands and argv handling to documentation", "body": "Any opinions?\r\n\r\nPersonally, I think the documentation could be more extensive in this area and it's something I fumble around with clumsily.\r\n\r\nI might write one given positive resonance (if I write it, I want to know I'm not wasting my time and see it merged and I will keep working on it until it meets the demands of any possible criticism) and enough time in the weeks to come.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4543", "title": "Add support for recovery of stale mount-points to cd.fish", "body": "I propose the following change for cd.fish:\r\n\r\n```\r\n--- /usr/share/fish/functions/cd.fish\t2017-10-12 08:34:42.000000000 +0200\r\n+++ .config/fish/functions/cd.fish\t2017-11-19 02:08:40.773047643 +0100\r\n@@ -27,6 +25,12 @@\r\n         return $status\r\n     end\r\n \r\n+    # allow explicit \"cd .\" if the mount-point became stale in the meantime\r\n+    if test \"$argv\" = \".\"\r\n+\tcd \"$PWD\"\r\n+\treturn $status\r\n+    end\r\n+\r\n     builtin cd $argv\r\n     set -l cd_status $status\r\n```\r\n\r\nwhich can help recycling windows where the mountpoint has disappeared and reappeared since. (e.g. stale sshfs mountpoint, which becomes unreachable in case you suspend your machine, which you can recover by rerunning sshfs and then doing another \"cd .\" in all affected fish shells.)", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4543/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dwt": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4627", "title": "Allow to wrap argparse call", "body": "## Environment\r\n```\r\n(virtualfish) dwt@crest ~/C/P/fish> fish --version\r\nfish, version 2.7.0\r\n(virtualfish) dwt@crest ~/C/P/fish>   echo $version\r\n2.7.0\r\n(virtualfish) dwt@crest ~/C/P/fish> uname -a\r\nDarwin crest.fritz.box 17.3.0 Darwin Kernel Version 17.3.0: Thu Nov  9 18:09:22 PST 2017; root:xnu-4570.31.3~1/RELEASE_X86_64 x86_64\r\n(virtualfish) dwt@crest ~/C/P/fish> echo $TERM\r\nxterm-256color\r\n```\r\n# Problem\r\n\r\nI want to wrap a function call, which does it's own argument parsing via `argparse`. My problem is, that there seems to be no way, to tell `argparse` that I only care for my additional argument, and that it shouldn't raise an error for all the other arguments that I don't care for.\r\n\r\nSo, what I'm searching for is a way to tell `argparse` that it should ignore all other arguments, except the one I'm specifying, and especially shall not consume them, but only what was specified.\r\n\r\nThis seems not to be possible.\r\n\r\n# Workaround\r\nI'm currently using this technique to work around the problem\r\n\r\n```fish\r\nfunctions --copy __vf_new __vf__new_projects_original\r\nfunction __vf_new --wraps=__vf_new\r\n    set -l options (fish_opt --short a --required)\r\n    argparse --name 'vf new' $options -- $argv ^/dev/null\r\n    if __vf__new_projects_original $argv; and test -n $_flag_a\r\n        cd $_flag_a\r\n        and pwd >?$VIRTUAL_ENV/.project\r\n    end\r\nend\r\n```\r\n\r\nThis seems to work, but only at the price, that I don't see any error messages from argparse anymore. So I'm searching for a better way.\r\n\r\nIs there an extension of the c-implemented argparse possible, or is there a better workaround? I think that being able to wrap shell commands or fish functions with another function by enhancing the supported arguments is n important and very powerful use case.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4627/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "LandonSchropp": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4620", "title": "Add support for && and ||", "body": "Thanks for creating such an awesome shell! I've been enjoying using it, especially when scripting.\r\n\r\nI'm using Fish 2.7.0 on macOS 10.13.2 inside of a [custom tmux terminal profile](https://github.com/LandonSchropp/dotfiles/blob/master/tmux-256color-italic.terminfo).\r\n\r\nI'd like to request you guys add support for the `&&` and `||` operators. I know fish supports `and` and `or`, but using them feels a bit awkward, especially with the required semicolon.\r\n\r\nGoing off of the [Fish Design Document](https://fishshell.com/docs/current/design.html):\r\n\r\n* *The law of orthogonality*: My suggestion is a violation of this rule. There's no way around that other than the idea that it's syntactic sugar.\r\n* *The law of user focus*: I don't know about anyone else, but I expected these operators to exist when I first used Fish. They're almost universal across other languages and shells, and they're the first thing I reached for. I realized that's a sample size of one, but I wonder if other people expect the same thing. The use of `;` also requires the user to understand that `and` is a command, which adds a bit of cognitive load.\r\n* *The law of discoverability*: When I type `&&` in a command, Fish prints out an error message telling me what I should have used `and` instead. However, I wish would just do what I wanted instead. This feels like when I type `brew update <app>`, and it tells me I should have typed in `brew upgrade <app>`.\r\n\r\nI realize this is a small thing, but it's something I've missed from zsh.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4620/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "cben": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4605", "title": "string escape drops NUL and following text", "body": "fish, version 2.7.0-513-g81dd4a45\r\nLinux, Fedora 27, gnome-terminal (TERM=xterm-256cotor).\r\nConfirmed without customization (`sh -c 'env HOME=$(mktemp -d) fish'`).\r\n\r\nActual behavior: `string escape` doesn't handle NUL:\r\n```\r\n/h/b/fish-shell> printf 'foo\\0bar' | cat -A\r\nfoo^@bar\u23ce\r\n/h/b/fish-shell> printf 'foo\\0bar' | string escape\r\nfoo\r\n```\r\nand `string unescape` has similar problem:\r\n```\r\n/h/b/fish-shell> printf 'escaped\\\\0text' | string unescape\r\nescaped\r\n```\r\n\r\nExpected behavior:\r\n```\r\n/h/b/fish-shell> printf 'foo\\0bar' | string escape\r\nfoo\\0bar\r\n/h/b/fish-shell> printf 'escaped\\\\0text' | string unescape | cat -A\r\nescaped^@text\u23ce\r\n```\r\n\r\nGenerally, it should be possible to round-trip any binary data through `| string escape | string unescape |`.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4605/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sanjibukai": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4603", "title": "Description of command in suggestion list not showing", "body": "Hello,\r\n\r\nI made some custom aliases (using `function` not `alias`) and I tried the complete feature that fish shell provide.\r\nAnd I noticed two problems:\r\n- Command description is not displayed at all in autocomplete suggestions list\r\n- Argument description is displayed sometimes in autocomplete suggestions list\r\n\r\nAs suggested I recorded the behavior https://asciinema.org/a/ykzBJHPSnKlYv1Z0g7QV4JJyx\r\n\r\nHere you can see (at the beginning) that the description of my commands (for example **`g`** and **`ga`** in the first screen) are not showing.\r\nThen you can see (from 0:26) that some arguments descriptions is displayed but not all.\r\nBut in the end (from 0:52) those descriptions are displayed.\r\n\r\nIn order to have some descriptions, I \"tricked\" my aliases so that I defined a main alias (for example here **`g`** for git) and I defined all the aliases (related with git) as argument for this pseudo-command:\r\n\r\nHere is my `g.fish` file including all the `complete` commands:\r\n\r\n    function g\r\n      eval $argv[1]\r\n    end\r\n\r\n    complete -xc g -d \"Git Main Alias file\"\r\n    complete -xc g -a \"gst glg ga ga. gau gco gci gcim gac gacm grls grao gpush\"\r\n    complete -xc g -a gst -d \"Status Short\"\r\n    complete -xc g -a glg -d \"Log Graph Short\"\r\n    complete -xc g -a ga -d \"Add\"\r\n    complete -xc g -a ga. -d \"Add ALL\"\r\n    complete -xc g -a gau -d \"Add Untracked\"\r\n    complete -xc g -a gco -d \"Git checkout\"\r\n    complete -xc g -a gci -d \"Commit Verbose\"\r\n    complete -xc g -a gcim -d \"Commit with CLI Message\"\r\n    complete -xc g -a gac -d \"Add ALL AND Commit Verbose\"\r\n    complete -xc g -a gacm -d \"Add ALL AND Commit with CLI Message\"\r\n    complete -xc g -a grls -d \"List remotes\"\r\n    complete -xc g -a grao -d \"Remote Add Origin\"\r\n    complete -xc g -a gpush -d \"Push Master to Origin\"\r\n\r\nCan anyone confirm if this is a bug or if I misused the `complete` feature?\r\n\r\nFish Version: fish, version 2.6.0\r\nOS: Linux manjaro-vm 4.13.2-1-MANJARO\r\nTerminal: xterm-256color\r\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4603/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sarum9in": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4582", "title": "Bracketed paste mode causes fish to hang on WSL if started as PID=2", "body": "## Environment\r\n$ fish --version\r\nfish, version 2.7.0\r\n$ uname -a\r\n// Note: this is [WSL Ubuntu](https://docs.microsoft.com/en-us/windows/wsl/reference)\r\nLinux XXX 4.4.0-43-Microsoft #1-Microsoft Wed Dec 31 14:42:53 PST 2014 x86_64 x86_64 x86_64 GNU/Linux\r\nTested on terminal emulators:\r\ncmder.exe\r\ncmd.exe\r\n\r\n## strace output (this is infinite loop)\r\n```\r\nwrite(1, \"\\33[?2004l\", 8)               = 8\r\ntime(NULL)                              = 1512877281\r\ntime(NULL)                              = 1512877281\r\nwrite(1, \"\\33[?2004l\", 8)               = 8\r\ntime(NULL)                              = 1512877281\r\ntime(NULL)                              = 1512877281\r\nwrite(1, \"\\33[?2004l\", 8)               = 8\r\n```\r\n## Issue\r\nIf fish is started with pid=2 on WSL it gets stuck inside `__fish_config_interactive`. Printf debugging suggests that stuckness happens on `if not type -q __fish_command_not_found_handler` line, inside `__fish_disable_bracketed_paste` handler. Commenting-out `printf` inside that handler mitigates the issue.\r\n\r\n## Steps to reproduce\r\n\r\n### Naive way in line how issue was noticed\r\n1. From cmd.exe run bash\r\n2. Verify that pid=2 via `echo $$`\r\n3. From bash run `exec fish`\r\n4. At this point fish hangs and terminal is unresponsive.\r\n5. Start another terminal emulator and perform steps 1 and 2.\r\n6. In 2nd terminal emulator you have working fish instance.\r\n7. Run `pkill fish` to kill all running fish instances. Go to step 1 to reproduce again.\r\n\r\n### Another way to reproduce proving that it is related to pid=2\r\n1. From cmd.exe run `bash`\r\n2. From another cmd.exe run `bash`\r\n3. Run `echo $$` in both terminals\r\n4. Run `exec fish` in a terminal where pid!=2, this starts fish just fine\r\n5. Run `exec fish` in a terminal where pid==2, this instance hangs\r\n\r\n4 and 5 can be reordered.\r\n\r\n## Further actions\r\nI am open to debug this further but I am not sure what to look for.\r\n\r\n## Use case\r\nThis is useful if you want to run fish as your main shell in WSL. fish can replace bash on startup via ~/.bashrc. Bash normally starts as pid=2 so as I would expect any other default shell to:\r\n![image](https://user-images.githubusercontent.com/1058248/33801875-258125ac-dd61-11e7-991a-39a75bc3d799.png)\r\n\r\n\r\n## Possible mitigations\r\nMake it possible to disable [bracketed paste mode](https://github.com/fish-shell/fish-shell/pull/3871#issuecomment-321034918). Currently this can be done by either overriding __fish_config_interactive or setting FISH_UNIT_TESTS_RUNNING.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4582/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "erszk": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4578", "title": "Easier access to the directory stack", "body": "In bash, `~-` expands to the last directory you were in (essentially the same as `$OLDPWD`), and `~n` expands to the nth directory in the stack as referenced by the output of `dirs -v`, where 0 is the top of stack, i.e. the current working directory. So, in `fish` terms, `~1` is the same as `$dirstack[1]`.\r\n\r\nThis is one of the most little-known but killer features of bash's `pushd`/`popd`, and in my eyes one of the major reasons they are currently superior to fish's implementation.\r\n\r\nThis allows you, for instance, to quickly look at the output of `dirs -v` if necessary, and then do things like `cp foo.txt ~1/bar` or `mv foo.txt ~-`, with tab completion working etc.\r\n\r\n```fish\r\n$ echo $FISH_VERSION\r\n2.7.0\r\n$ uname -a | sed \"s/\"(hostname)\"/hostname/\"\r\nDarwin hostname 17.2.0 Darwin Kernel Version 17.2.0: Fri Sep 29 18:27:05 PDT 2017; root:xnu-4570.20.62~3/RELEASE_X86_64 x86_64\r\n$ echo $TERM\r\nxterm-256color\r\n```", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4578/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pfgithub": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4572", "title": "ctrl-c does not clear blank lines", "body": "<!--\r\nPlease tell us which fish version you are using by executing the following:\r\n\r\n  fish --version\r\n  echo $version\r\n\r\nPlease tell us which operating system and terminal you are using. The output of `uname -a` and `echo $TERM` may be helpful in this regard although other commands might be relevant in your specific situation.\r\n\r\nPlease tell us if you tried fish without third-party customizations by executing this command and whether it affected the behavior you are reporting:\r\n\r\n  sh -c 'env HOME=$(mktemp -d) fish'\r\n\r\nTell us how to reproduce the problem. Including an asciinema.org recording is useful for problems that involve the visual display of fish output such as its prompt.\r\n-->\r\n\r\n> `fish --version`\r\nfish, version 2.7.0\r\n> `echo $version`\r\n2.7.0\r\n> `uname -a`\r\nDarwin pfgs-MacBook-Pro.local 17.2.0 Darwin Kernel Version 17.2.0: Fri Sep 29 18:27:05 PDT 2017; root:xnu-4570.20.62~3/RELEASE_X86_64 x86_64\r\n> `echo $TERM`\r\nxterm-256color\r\n\r\nProblem still occurs with `sh -c 'env HOME=$(mktemp -d) fish'`\r\n\r\n**Steps to reproduce:**\r\nOpen a terminal window\r\nType nothing\r\nPress control-c\r\n\r\n**What I expected**\r\nSimilar to the functionality of bash and zsh, the current line would be cleared and a new terminal line would appear\r\n\r\n    pfg@pfgs-MacBook-Pro /U/p/D/N/clipass> ^C\r\n    pfg@pfgs-MacBook-Pro /U/p/D/N/clipass> \r\n    \r\n**What Happened**\r\nNothing happened, nothing was outputted, and no new line appeared", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4572/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "msteed": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4570", "title": "tilde characters in cdh tab completions are escaped (sometimes)", "body": "```sh\r\nmsteed@bones:~> fish --version\r\nfish, version 2.7.0\r\nmsteed@bones:~> echo $version\r\n2.7.0\r\nmsteed@bones:~> uname -a\r\nLinux bones 4.13.12-1-ARCH #1 SMP PREEMPT Wed Nov 8 11:54:06 CET 2017 x86_64 GNU/Linux\r\nmsteed@bones:~> echo $TERM\r\ntmux-256color\r\nmsteed@bones:~>\r\n\r\n```\r\n\r\nThe problem:\r\n```sh\r\nmsteed@bones:~> sh -c 'env HOME=$(mktemp -d) fish'\r\nWelcome to fish, the friendly interactive shell\r\nmsteed@bones /h/msteed> cd\r\nmsteed@bones ~> mkdir -p a/b\r\nmsteed@bones ~> cd a/b\r\nmsteed@bones ~/a/b> cd\r\nmsteed@bones ~> cdh a<TAB>\r\n```\r\nWhen I hit <kbd>Tab</kbd>, fish supplies this completion:\r\n```sh\r\nmsteed@bones ~> cdh \\~/a/b\r\n```\r\nIf I accept that, fish (correctly) complains:\r\n```sh\r\ncd: The directory \u201c~/a/b\u201d does not exist\r\n```\r\n\r\nIf I hit <kbd>Tab</kbd> with an empty directory name, i.e., `cdh <TAB>`, fish lists the completions with the `~` characters escaped, but selecting a completion un-escapes the string so the command line is formatted correctly.\r\n\r\nEdit: this may be the problem reported in https://github.com/fish-shell/fish-shell/issues/4566", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Estirp": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4566", "title": "fail to change to a directory setted with read", "body": "fish, version 2.7.0\r\n\r\nFish fail to change to a directory setted with read.\r\n\r\n```\r\nbug> ls\r\n' b'/\r\nbug> read --shell dir\r\nread> \\ b/ (tab pressed)\r\nbug> cd $dir\r\ncd: La fonction '\\ b/' n'existe pas (function '\\b/' does not exists)\r\nbug> echo $dir\r\n\\ b/\r\nbug> cd \\ b/\r\nb/ b> \r\n```\r\n\r\nIt seems about the escape char :\r\n```\r\nbug> read  dir\r\nread>  b\r\nbug> cd $dir\r\nb/ b> \r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "rltbennett": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4555", "title": "In fish_config, allow choosing any color for syntax highlighting", "body": "Fish version: 2.7.0\r\n\r\nIt would be ideal if the fish_config portal allowed choosing arbitrary colors (by RGB, HSB, CMYK etc) for syntax highlighting. Currently it limits the choices to a fairly limited color palette.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "seagreen": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4542", "title": "Allow disabling universal variables", "body": "First, I apologize for opening such a large issue as my first issue. I just read the Design Principles document today and that alone convinced me to switch to Fish. The switch has gone swimmingly so far -- Fish is completely living up to its \"Configurability is the root of all evil\" principle.\r\n\r\nI have run into one moderate problem. I already have a way to manage configuration state between machines (I use version controlled dotfiles, but the particulars of my solution aren't important here -- lots of other people use different ways). This makes Universal Variables a \"Law of Orthogonality\" violation for me. I'd like for my `~/.config/fish/config.fish` file to describe the entire state of Fish configuration on my machine, but now I also have to think about a second mechanism that also has its own way of storing state.\r\n\r\nThe few problems I've had so far have had to do with this issue, for instance not realizing I was setting a Universal Variables in my `config.fish` file, so when I removed it the setting still persisted. Persistent, mutable state on a machine is an easy way to create user confusion, and if we can get away without it (and the `config.fish` file already provides a great way of doing so) I think it's worth considering.\r\n\r\nAlso, thanks for Fish!", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4542/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "JohnMH": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4540", "title": "`read | cat` crashes fish", "body": "fish 2.3.1\r\noperating system: Irrelevant, running under Linux kernel (Also tested on FreeBSD with unknown fish version)\r\nterm: xterm-256color", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4540/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "paulswartz": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4539", "title": "OS X High Sierra: unicode in `fish_prompt` gets wrong length calculated", "body": "fish version: 2.6.0 and fa57565\r\nOS: OS X High Sierra, 10.13.1\r\n\r\nAfter upgrading, having a unicode character in my prompt (along with a right prompt) has the size calculated incorrectly.\r\n\r\n<img width=\"374\" alt=\"screenshot 2017-11-15 15 29 48\" src=\"https://user-images.githubusercontent.com/214921/32858656-31e45652-ca1a-11e7-9f76-d9944e4a382a.png\">\r\n\r\nIn the above screenshot, everything is normal when I have a fully ASCII prompt. When I source my `fish_prompt` to re-add the Unicode character, the cursor is positioned on the next line.\r\n\r\nEverything was working normally before the update to High Sierra. It's not working in either iTerm or Terminal.\r\n\r\nHappy to get any other debugging information.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "PenegalECI": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4537", "title": "Take into account variables when trying to automatically add fuzzy translations", "body": "Hello, there.\r\n\r\nWorking on PR #4470, there is something that bothers me a lot: when using `make po/$LANG.po`, for any language, `make` tries to create fuzzy translations for untranslated items, by searching close ones in the existing translations. Currently, it does not take into account the number of variables, but, this way, you get many translations with different number of variables compared to the original string, and Travis does not like that. Could the Makefile be corrected to prevent auto-translating with variable number mismatches?\r\n\r\nRegards.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4537/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4520", "title": "Reconsider removing '?' wildcard", "body": "Hello, there.\r\n\r\nUsing fish 2.4.0 as packaged by Debian Stretch, I noticed that `zpool`'s `-?` makes fish prompt an error message:\r\n```\r\nroot@Alioth ~ {\u23170/\u2b1354}[1]\uaa5c# zpool -?\r\nNo matches for wildcard '-?'.  (Tip: empty matches are allowed in 'set', 'count', 'for'.)\r\nfish: zpool -?\r\n            ^\r\n```\r\n\r\nIt looks like fish tries to interpret the interrogation mark, whereas it's a legitimate switch of `zpool`:\r\n```\r\nzpool -?                    \r\n                            \r\n    Displays a help message.\r\n```\r\n\r\nSuch a bug seems beyond my development knowledge, so I opened this issue.\r\n\r\n```\r\nroot@Alioth ~ {\u23170/\u2b1354}[0]\uaa5c# fish --version\r\nfish, version 2.4.0\r\nroot@Alioth ~ {\u23170/\u2b1354}[0]\uaa5c# uname -a\r\nLinux Alioth 4.9.0-4-amd64 #1 SMP Debian 4.9.51-1 (2017-09-28) x86_64 GNU/Linux\r\nroot@Alioth ~ {\u23170/\u2b1354}[0]\uaa5c# echo $TERM\r\nscreen\r\n```\r\n\r\nFWIW, fish executes in a tmux session, though I don't think it matters. If you need more data, feel free to ask it.\r\n\r\nRegards.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4520/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "timofonic": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4531", "title": "(ncurses-git? related error when compiling fish-git from Archlinux AUR", "body": "*  fish --version: fish, version 2.6.0-750-ged0a57ff\r\n\r\nPlease tell us which operating system and terminal you are using. The output of \r\n* `uname -a` : Linux timolaptop 4.13.0-1035f22af3e97 #1 SMP PREEMPT Fri Sep 1 06:05:09 CEST 2017 x86_64 GNU/Linux\r\n* `echo $TERM` : xterm-256color (I use Terminology)\r\n\r\nI installed fish-git successfully, but this error appeared while compiling it. I use ncurses-git.\r\n\r\n```\r\nrm -f lib/libmuparser.a\r\nar rcu lib/libmuparser.a muParser_lib_muParser.o muParser_lib_muParserBase.o muP\r\narser_lib_muParserBytecode.o muParser_lib_muParserCallback.o muParser_lib_muPars\r\nerDLL.o muParser_lib_muParserError.o muParser_lib_muParserInt.o muParser_lib_muP\r\narserTest.o muParser_lib_muParserTokenReader.o\r\nar: `u' modifier ignored since `D' is the default (see `U')\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib lib/libmuparser.a\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n```", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4531/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "rocketraman": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4519", "title": "COLUMNS seems incorrect for powerline-go", "body": "# Meta-data:\r\n\r\n```\r\n# fish --version\r\nfish, version 2.3.1\r\n\r\n# uname -a\r\nLinux edison 4.13.5-200.fc26.x86_64 #1 SMP Thu Oct 5 16:53:13 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n# echo $TERM\r\nxterm-256color\r\n```\r\n\r\nTried without third-party customizations and still have the same issue.\r\n\r\n# Problem:\r\n\r\nI am attempting to use powerline-go. For some reason, my prompt is truncated. In discussion in a powerline-go issue, the claim by the author is that fish is not reporting COLUMNS correctly, which is causing the prompt truncation. See https://github.com/justjanne/powerline-go/issues/46#issuecomment-341641769 and the previous few comments.\r\n\r\nIs it possible to confirm somehow whether the problem is definitely in `fish` or in `powerline-go`?", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4519/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "MindTooth": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/fde647214d0cb8e9f3fcdcd7437fad47f57f7d32", "message": "brew.fish: added cask completion & tweaks"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/721df61f4b21a96aeed9a65e1b59ee05833ea813", "message": "brew.fish: add the leaves option (#4645)"}], "pull_requests": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4670", "title": "[RFC] diskutil.fish: added apfs completion", "body": "## Description\r\n\r\nAdded APFS completion to the diskutil.fish file.\r\n\r\nPlease take a look, am I on the right track?\r\n\r\n## TODOs:\r\n<!-- Just check off what what we know been done so far. We can help you with this stuff. -->\r\n- [ ] Changes to fish usage are reflected in user documentation/manpages.\r\n- [ ] Tests have been added for regressions fixed\r\n- [x] User-visible changes noted in CHANGELOG.md\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "thomcc": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/7b88187310f2e9204a07724d3456c6c58e1923c6", "message": "Add ability to autosave functions at the end of funced"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/42fa8415736d8a7108f59e791085f99831402b1a", "message": "Fix #4480 by using a temporary file with a redirect to the correct location."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/7dae40a240f1fbf284ac97adf933de3b3798be18", "message": "Revert \"Work around OS X issue with dropped #fragment in launched URLs\"\n\nThis reverts commit 80b658e2474a96e92eccc510506818a197fc9fa1."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "zanchey": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/b6202c3c86a0bf9cf73e010533993bff31d3a198", "message": "[cmake] actually use libintil headers/libraries if detected\n\nCloses #4663."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/38c4437d79e9a6b4e2b77cdec320b7caac3affa1", "message": "travis: add a CMake build\n\nUses an out-of-tree build; in-tree builds do not work.\n\nNo make uninstall test (CMake does not support this)."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8875f0ad7663a25b51d41ae556bb88320ab70d0c", "message": "[cmake] make building documentation optional\n\nAdd a BUILD_DOCS option which is contingent on Doxygen being present,\nand only build the documentation if this is enabled."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8eb0608b00fd35e0aa882f1fdf6767ecb9f4cbd3", "message": "[cmake] make build_lexicon_filter part of DocTargets only"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/088fc6003b7940a09fe5bda688a86eefbc730484", "message": "[cmake] use appropriate configure policies where possible"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/85131452fafb2827c4dee2cb06cbc474ef417171", "message": "apt: add completions for policy\n\nCloses #4652."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/af5869886b544d2e4a84c03941d75ebc125b2b8d", "message": "travis: use default OS X image"}], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3240469", "body": "Incidentally - the Makefile in the tarball depends on build_tools/make_documentation.sh\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3240469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3240945", "body": "(if you run make distclean and then make.)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3240945/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3865466", "body": "Also needs completions updated\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3865466/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "review_comments": []}, "raichoo": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/069e4fdd8d5a8596961be7b6ba1b20b8c49208e9", "message": "do not depend on bash being installed in /bin (#4661)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "lourkeur": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8b530839971e48c6f93ef4666bda8288daf987fb", "message": "[PO][FR] translation fixes (#4655)\n\n* [PO][FR]fix translation\r\n\r\n\"key\" was being translated to \"fonction\". (\"function\")\r\nBased the new wording on the above translation.\r\n\r\n* [PO][FR]fix translation\r\n\r\n\"directory\" was being translated to \"fonction\". (\"function\")\r\n\r\n* [PO][FR]fix translation\r\n\r\n\"Permission denied\" was being translated to \"Nom de fonction ill\u00e9gal\". (\"Illegal function name\")\r\nI took the new translation from strerror.\r\n\r\n* [PO][FR]fix translation\r\n\r\n\"Introduction\" was being translated to \"Instruction ill\u00e9gale\". (\"illegal instruction\")\r\n\r\n* $ make po/fr.po\r\n\r\n* #4655: changes requested by @PenegalECI\r\n\r\n* fix some automatically generated translations\r\n\r\nuniformly translate \"logging\" to \"journalisation\"."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "ridiculousfish": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8a78dca26fbd6dd17d857f2e21a0ba2c475fadb2", "message": "Remove PRE_BUILD from tests_dir target\n\nIt doesn't seem necessary and I can't justify what it's there for."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8a67a113d850fc6f43ff019ad38f40f5c968dd47", "message": "Revert \"Work around cmake/ninja bug that leads to installation failure\"\n\nThis reverts commit 36a2f2cc01c2a04b240819884f41174cf56f79a6.\n\nThis attempted to modify RPATH when building with Ninja, but the CMake if\nstatement wasn't actually valid so this wasn't doing anything. This check\ncouldn't really be tested - let's make sure not to accumulate build system\nrules that we don't understand."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/de8ccf1751cdd55ef2ba37125bc23c4f7dd404a7", "message": "Stop warning on invalid PATHs and CDPATHs if any element is valid\n\nSome dotfile users like to add directories to PATH that point at\nnon-existent directories (because those directories exist on other\nmachines). Stop warning in that case, unless those directories contain\na colon, in which case it's probably a user error."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/96d524304d4c5096cbccef794227c0ae25264bc2", "message": "Add #4649 to changelog"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/46db0dd5eb59bc62f1b735b97ecbdece8c87f389", "message": "Stop checking EXPAND_SPECIAL_FOR_CD if ..._AUTOSUGGEST is set\n\nIf EXPAND_SPECIAL_FOR_CD_AUTOSUGGEST is set, EXPAND_SPECIAL_FOR_CD\nis necessarily also set; simplify things by only checking for the\nlatter."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/faa17ec849758b96878974791f37e7ef98a500e4", "message": "Correct a comment in git_version_gen.sh"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/d09210c08bc8e36ac32727ef12bf3ce35f5374ee", "message": "[cmake] Untangle the CMake versioning\n\nThis untangles the CMake versioning issues (I hope) as discussed in #4626.\nNote most of the advice found on the Internet about how to inject git\nversions into CMake is just wrong.\n\nThe behavior we want is to unconditionally run the script\nbuild_tools/git_version_gen.sh at build time (i.e. when you invoke ninja or\nmake, and not when you invoke cmake, which is build system generation time).\nThis script is careful to only update the FISH-BUILD-VERSION-FILE if the\ncontents have changed, to avoid spurious rebuilding dependencies of\nFISH-BUILD-VERSION-FILE. Assuming the git version hasn't changed, the script\nwill run, but not update FISH-BUILD-VERSION-FILE, and therefore\nfish_version.o will not have to be rebuilt.\n\nThis might normally rebuild more than is necessary even if the timestamp is\nnot updated, because ninja computes the dependency chain ahead of time. But\nNinja also supports the 'restat' option for just this case, and CMake is rad\nand exposes this via BYPRODUCTS. So mark FISH-BUILD-VERSION-FILE as a\nbyproduct and make the script always update a dummy file\n(fish-build-version-witness.txt). Note this is the use case for which\nBYPRODUCTS is designed.\n\nWe also have fish_version.cpp #include \"FISH-BUILD-VERSION-FILE\", and do a\nsemi-silly thing and make FISH-BUILD-VERSION-FILE valid C++ (so there's just\none version file). This means we have to filter out the quotes in other\ncases.."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/21cfdf04bd584bd89689e7507296472fc57321c1", "message": "Revert \"[cmake] Remove build_fish_pc target\"\n\nThis reverts commit 585321181d1f7573813ed8083a06118ab1d6a6a2.\n\nWith the build_fish_pc target, a command like this fails:\n  env DESTDIR=/tmp/fish-install ninja install"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/da8db7f6f01c91866d22934cba207299acc59fde", "message": "Revert \"Generate FISH_BUILD_VERSION info for cmake builds\"\n\nThis reverts commit 25839b8c361e1dcd5f96a5e05bb48616c5531061.\n\nThis was an attempt to simplify the version generation, but it\ncomputed the version at build sytem generation time rather than\nat build time, requiring another run of CMake to update it."}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/5664464", "body": "Fixed as c15975113ab80241c71dc6dfa41a470b232de4ce\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/5664464/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/5682025", "body": "It's supposed to work that way, it was just busted in certain cases. Now there's some tests.\nFixed in fish_fish branch:\n=> Syncing Gitorious... [OK]\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   c159751..129525a  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/5682025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6029479", "body": "Siteshwar is nearly finished with this\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6029479/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051198", "body": "Thank you, I've merged the fix.\n\nWhile that fixes the immediate issue, I will keep this bug open to track getting off of which entirely. which is not the correct way to determine if a command exists.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051202", "body": "Thanks, you rock! I've merged this.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051230", "body": "I will leave this bug open to track the issue of other Python scripts, such as share/tools/web_config/webconfig.py .\n\nKeeping these scripts compatible with Python2 and Python3 seems like it would be a lot of maintenance work. I would like to find a way to portable request Python2 (or 3) for all such scripts.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051230/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051252", "body": "Cool, I never knew about 'funded' or 'funcsave'\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051252/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051256", "body": "s/funded/funced\n\nDarn you autocomplete.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6070803", "body": "Hopefully addressed by this commit:\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   377d93d..9255f62  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6070803/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6070805", "body": "Hopefully addressed by this commit:\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   377d93d..9255f62  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6070805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6071087", "body": "Nope, the problem is that fish_indent is busted\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6071087/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6071385", "body": "Fixed by this commit:\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   9255f62..ae12e1b  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6071385/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6107387", "body": "The issue turned out to be that path_make_canonical() mishandles the path \"/\", returning an empty string instead. Fixed and added a test in this commit:\n\n=> Syncing Gitorious... [OK]\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   457e6a5..cc90f9c  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6107387/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6107398", "body": "Thank you etu for your investigation.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6107398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3105598", "body": "Glad someone is watching!\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3105598/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3990030", "body": "Indentation fixed as df0aaa1ebe6d0ca520a866be2f402d41bcad280c\nThanks.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3990030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "review_comments": []}, "mtbrock": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/bf63e061c9abecf8b44c2b1b00b1b4badeb7ba48", "message": "Fix overzealous cd tab completion\n\nChanged cd completion to differentiate between cd autosuggest and cd tab\ncompletion. cd autosuggest will find deepest unique hierarchy and cd tab\ncompletion will not.\n\nIssue #4402"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pinage404": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/1af4acbd0e67c4a493d4ce88d99af36d5d954c21", "message": "Add: `ngrok` completions (#4642)\n\nCompletions are based on the help messages of [ngrok](https://ngrok.com/)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "yursan9": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4662", "title": "Update Eopkg support", "body": "Refactor __fish_eopkg_option and __fish_eopkg_option_with_shortcut to use function argument.\r\n\r\nAdd new options for some subcommand:\r\n\r\n- list-available\r\n- list-components\r\n- list-upgrades\r\n- list-installed", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "maxfl": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031291", "body": "default completions are also can not be overridden. \n\nfish_default_keybindings as well can not be overridden. There is no way to set user bindings for now. \nconfig.fish is loaded before bindings are reset.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6040265", "body": "Fish loads bindings after reading config.fish, and just before doing it, it resets existing bindings.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6040265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4019029", "body": "I think it should be noted that eval is not a sufficient replacement, because it breaks the quoting.\nIn other case the behavior for the user can be unexpected.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4019029/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4032836", "body": "Wow, didn't know about this, thanks.\nBut naive expectation is that \neval $command arg1 \"arg2 with spaces\"\nwill work correctly. I think it worth noting that one should use eval 'correctly'.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4032836/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "adisbladis": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031927", "body": "https://gitorious.org/~ridiculousfish/fish-shell/fishfish/merge_requests/1\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031927/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031948", "body": "I have a fix in: https://gitorious.org/~ridiculousfish/fish-shell/fishfish/merge_requests/2#377d93d1cf56080d345611fe0faedae1e9ded1fe-377d93d1cf56080d345611fe0faedae1e9ded1fe@1\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031948/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031985", "body": "I might add that this fix makes the scripts compatible with both python 2 and 3, so no matter which python \"#!/usr/bin/env python\" invokes this will work.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031985/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6034813", "body": "Isn't this something that you should place in your config.fish instead?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6034813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6065057", "body": "On my system ^W removes the text and adds it to the kill ring.\nWith ^K however the text is killed, added to the kill ring but not removed from the prompt until I type something else, so this is only an estethical issue for me, my build is from git.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6065057/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6079487", "body": "We could use the fish-function type instead:\ntype -P command-not-found > /dev/null\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6079487/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6080034", "body": "I think the effort should be to make the scripts python3 only.\nSure, python2 will be around for some considerable time to come but some GNU/Linux distributions (Arch Linux and Gentoo for example) are now shipped without python2.\n\nI would like some external input on this so my efforts are not wasted.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6080034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "etu": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6053562", "body": "`funced` is cool couse it opens an already existing function to edit it, and then you can save functions with `funcsave`. Very usefull.\n\nAt least in fish and not fishfish ;)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6053562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075591", "body": "yep, works.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075591/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075738", "body": "Uh, this also seems to work after your fixes on `~/.config/fish/functions/` or something?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075738/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6076352", "body": "One idea of soution might be to look into `$PWD` and the fish-function `prompt_pwd`\n\nfish & fishfish:\n\n```\n$ cd /\n$ echo $PWD\n\n$\n```\n\nfish:\n\n```\n$ cd /\n$ pwd\n\n$\n```\n\nfishfish:\n\n```\n$ cd /\n$ pwd\n/\n$\n```\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6076352/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6076434", "body": "this one is also fixed yes, someone can close it? :)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6076434/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6083169", "body": "Got time to research more now...\n\nIt's the empty `$PWD` that couses everything.\n\nIf I change the function `__fish_complete_cd` to do `set -l wd (pwd)` instead of `set -l wd $PWD`, things will work. But things would probably be slower too...\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6083169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1466068", "body": "Protip, if you had written `Fixes #61` as commit-message, the ticket would close itself and get a link to this commit. You can also use `Refs #61` if a commit doesn't fix, but reffers.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1466068/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3105379", "body": "When I read this in my RSS-Feed, I really thought that it would cause an access violation in portage sandbox, but we are in luck this time! Reading from the outside of the sandbox seems ok! :)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3105379/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3233093", "body": "What about running `make uninstall` in the directory the user made `make install` from since it got the correct prefix. This ofc depends on the user saving the source directory.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3233093/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "twm": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075200", "body": "I regularly use implicit cd, but I have set CDPATH to . because I found the results of combining the two confusing.  I'd suggest either (1), with changing CDPATH a sufficient degree of configurability, or (2).\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "martinklepsch": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1667077", "body": "This is awesome, thanks so much!\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1667077/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348535", "body": "I dont know exactly what `set upstream '@{upstream}'` does but this does not seem to work here.\n`$upstream` needs to be something like `origin/master` here. \n\nI'm willing to fix this but I've no idea about what `set upstream '@{upstream}'` is meant to be...\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348535/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348566", "body": "Like that: `git rev-list --count --left-right '@{upstream}'...HEAD` ?\n\nI tried that with `upstream` and `origin` (I only have `origin`) and I keep getting this:\n\n```\nfatal: ambiguous argument '@{origin}...HEAD': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions\n```\n\n(I also tried with and without quotes)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348679", "body": "```\n>> git rev-list --count --left-right '@{upstream}'...HEAD\nerror: No upstream configured for branch 'master'\nerror: No upstream configured for branch 'master'\nerror: No upstream configured for branch 'master'\nfatal: ambiguous argument '@{upstream}...HEAD': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions\n```\n\nPassing `-u` to `git push` solved the problem! Thanks\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}, "kballard": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1819874", "body": "This flag doesn't seem to be documented anywhere.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1819874/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348544", "body": "No, that's correct. '@{upstream}' is a syntax that git understands to be the upstream of the current branch. Perhaps you don't have an upstream set?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348544/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348630", "body": "Was that all you get? In a fresh repo with no upstream I get\n\n```\n> git rev-list --count --left-right '@{upstream}'...HEAD\nerror: No upstream branch found for ''\nerror: No upstream branch found for ''\nerror: No upstream branch found for ''\nfatal: ambiguous argument '@{upstream}...HEAD': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions\n```\n\n(the quotes are required or fish will strip the curly braces).\n\nThis is not surprising. You have no upstream. The end result of this command is that `count` will contain the empty string, which you see on line 182 is treated as no upstream.\n\nIn order to set an upstream you need to pass the `-u` flag to `git push` or the `--set-upstream`/`--track` flags to git branch (see the manpages).\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348642", "body": "Incidentally, adding a `--` to the end of the `git rev-list` command alters the output to be\n\n```\nerror: No upstream branch found for ''\nerror: No upstream branch found for ''\nfatal: bad revision '@{upstream}...HEAD'\n```\n\nNot that this makes any difference, since we're throwing away the error messages anyway, only the success case matters.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348642/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "kjell": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1871222", "body": "Removing this line breaks multiline prompts. My prompt looks something like:\n\n``` fish\nfunction fish_prompt -d \"Write out the prompt\"\n  printf \"%s\\n%s\" (__prompt_top_line) (__prompt_bottom_line)\nend\n```\n\nwithout this the two segments of my prompt are joined on the same line.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1871222/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "siteshwar": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1877845", "body": "I restored it, thanks! :)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1877845/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2198443", "body": "There's a script called create_manpage_completions.py which is installed in /usr/local/share/fish/tools. You can parse a single man page following way :\n\n/usr/local/share/fish/tools/create_manpage_completions.py /usr/share/man/man1/bash.1.gz --progress\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2198443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2904324", "body": "May be it's a bug in GNU coreutils printf but this line prints `a\\cb` in bash.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2904324/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3258707", "body": "I am not sure if it's a portable way to convet wide characters to numbers.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3258707/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3258742", "body": "This calls exit(0) in GNU coreutils version of printf, but I can't directly exit in a builtin.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3258742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4035024", "body": "Probably replace 'methods' with 'channels'\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4035024/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}]}, "donkeybonks": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1880991", "body": "^ bit of whitespace.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1880991/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "lledey": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1881013", "body": "In almost every file. The worst is complete.cpp I think.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1881013/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "terlar": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1970295", "body": "Thanks for this fix. I was just about to make an issue about rails console not working properly but this fix seems to have addressed that problem.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1970295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5987323", "body": "This method seems like a bunch of junk to me. I suggest only returning the branch name here without all the magic. The variable `__fish_git_prompt_describe_style` is not referred anywhere else. Also the branch `GIT_DIR~` seems a bit lame.\n\nFrom the research I have done, the fastest way to get the git branch is:\n`git symbolic-ref --short --quiet HEAD ^/dev/null`\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5987323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5987631", "body": "I wonder about this part also. It is to make things more dynamic so when the prompt is updated it is repainted. But usually this is accompanied by a new prompt print anyways. I'm not sure this is worth the extra complexity? Not sure this is a performance hit though.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5987631/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5988180", "body": "I'm not familiar with the git-svn, but this logic seems a bit crazy with a lot of special cases and the string manipulation piped out to `/bin/sh`. Maybe could be moved out to a separate function to isolate?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5988180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030966", "body": "These parenthesis needs to be removed. Breaks for me otherwise.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030966/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6044654", "body": "this line is wrong, should be `set nr_of_untracked_files`...\n\nTook a while of debugging until I realized. Didn't know what to expect from this prompt. So wasn't sure about all the numbers and stuff.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6044654/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "nagisa": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2027343", "body": ":star: \n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2027343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "SanskritFritz": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2177341", "body": "It is called \"Hungarian notation\" (http://en.wikipedia.org/wiki/Hungarian_notation)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2177341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2196749", "body": "Is there a way to parse only one man page like in legacy fish?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2196749/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2198486", "body": "Great, thank you.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2198486/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "alisnic": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3234515", "body": "Is there any way to map this to tab?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3234515/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3235058", "body": "Yes, you are probably right, I did a `bind` to \\t to autocomplete suggestion, and it totally messed up my autocompletion for commands.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3235058/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "dag": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3234936", "body": "Yes, but then which should take priority: autosuggest or complete?  Either order will very likely get in the way of the other.  More likely what you're actually after is unifying the two, such that suggestions _are_ completions, perhaps the first completion, which would be more sane but I imagine would still get in the way.  I wish we could bind CTRL-ENTER to \"complete and execute suggestion\", but alas, can't bind CTRL-ENTER in the terminal.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3234936/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4305195", "body": "The rest of the file is using tabs, so this ends up misaligned.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4305195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4380409", "body": "I think you need to quote that command substitution for it to run each time: `-a '(__fish_git_modified_files)'`.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4380409/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "tmaone": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3879502", "body": "This test does not work on Darwin, as there is no '-o' argument available. The following error is appended on every fish-shell launch and eval (on a mac ofc). \n\n```\nuname: illegal option -- o\nusage: uname [-amnprsv]\ntest: Missing argument at index 2\n```\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3879502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3882483", "body": "Can confirm that this commit fixes previous platform test error on Mac OS X. I also use switch statements for platform identification in my scripts. Thanks for the fix. :+1: \n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3882483/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "xfix": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4032207", "body": "@maxfl:\n\nWhen `eval` is used correctly, there is no problem. Correct use is like that.\n\n``` sh\nset -l arguments a b c\neval $command \\$arguments\n```\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4032207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4033410", "body": "@maxfl\n\nI just made error message more consistent. Previously, only something like `a$b` suggested using `eval`, now it's always suggested. It would be good idea to have generic `run` built-in that can take variables, but too lazy to implement it (pull requests are welcome, as always).\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4033410/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6722528", "body": "This sounds wrong. First, quotes aren't quoted, and second, my username is not `romaia`.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6722528/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}]}, "nvie": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3076304", "body": "Couldn't this just be a `builtin cd $i` here (i.e. no `eval` statement)?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3076304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "crishoj": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4306173", "body": "> The rest of the file is using tabs, so this ends up misaligned.\n\nThank you. I've fixed this.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4306173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "ptbrowne": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4380742", "body": "you are right, i have made the modification, sorry for the error :S\n\nOn Fri, May 24, 2013 at 3:02 PM, Dag Odenhall notifications@github.comwrote:\n\n> In share/completions/git.fish:\n> \n> > @@ -93,6 +97,9 @@ complete -f -c git -n '__fish_git_using_command show-branch' -a '(__fish_git_hea\n> > \n> >  ### add\n> >  complete -c git -n '__fish_git_needs_command'    -a add -d 'Add file contents to the index'\n> > +complete -f -c git -n '__fish_git_using_command add; and __fish_contains_opt -s p patch' -a (__fish_git_modified_files)\n> \n> I think you need to quote that command substitution for it to run each\n> time: -a '(__fish_git_modified_files)'.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/fish-shell/fish-shell/pull/822/files#r4380409\n> .\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4380742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "haarts": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4608991", "body": "I've tried (and will keep using) this version. But this first echo should, IMHO, not include a leading space. Let the guy constructing his prompt decide about leading/trailing whitespace. \nI'm using it like so:\n`printf ']%s ' (__informative_git_prompt)`\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4608991/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030589", "body": "I considered that and subsequently benchmarked it. Executing that command takes 4ms on my VPS. I think the 4ms gain do not justify the added complexity.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030594", "body": "I'm now using `$fish_color_normal` as well as the other suggested improvement.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030607", "body": "I did that. \nThe logic is insane and I can hardly test it. But this is better.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030608", "body": "Removed it.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030608/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030618", "body": "Simplified it in https://github.com/haarts/fish-shell/commit/73fc3fd280e8e81127d40700f899fe33e53c772b\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030618/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6064821", "body": "good catch. \nThis prompt should really be just the classic 'informative git prompt' plus a stash notification.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6064821/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "romaia": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6722603", "body": "Indeed. I just copied the description from psql --help without much editing. I will fix this.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6722603/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "mariuszs": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5989319", "body": "I think bold/bright colors are useful, maybe something like this:\n\n```\nset -g __git_prompt_color_clean (set_color -o green)\n```\n\nAfter this labels are much simpler\n\n```\n set concatenated_status $__git_prompt_color_clean$__git_prompt_char_clean$fish_color_normal\n```\n\nIt is better to use `$fish_color_normal` mentioned in documentation, or `set color normal`?\n\n> The following variables are available to change the highlighting colors in fish:\n> \n> fish_color_normal, the default color\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5989319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5989505", "body": "This is slow, two times we are executing  \n\n```\ngit diff --staged --name-status\n```\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5989505/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}}, "2": {"hamon-e": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4669", "title": "Tab Completion", "body": "Hello,\r\n\r\nSeems that last update (2.7.1) broke circular tab completions\r\n\r\nSee this example,\r\n(first command pressing lot of TAB)\r\n(second command pressiong lot of SHIFT-TAB)\r\nhttps://asciinema.org/a/bShqIYrla3TCMwILAyAZShYRs\r\n\r\nAs we can see the first completion doesn't return to the beginning", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Kamik423": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4666", "title": "iTerm window launches twice", "body": "fish, version 2.7.1\r\n\r\nI am using iTerm2 on MacOS.\r\nI had a working Automator AppleScript program for opening an iTerm window at the current finder window on Mac. Worked fine for bash.\r\n\r\n```\r\non run {input, parameters}\r\n\ttell application \"Finder\"\r\n\t\tif exists Finder window 1 then\r\n\t\t\tset dir_path to target of Finder window 1 as alias\r\n\t\telse\r\n\t\t\tset dir_path to desktop as alias\r\n\t\tend if\r\n\tend tell\r\n\tCD_to(quoted form of (POSIX path of (dir_path)))\r\nend run\r\n\r\non CD_to(theDir)\r\n\ttell application \"iTerm\"\r\n\t\ttry\r\n\t\t\tset newWindow to current window\r\n\t\t\t\r\n\t\t\tset sesh to current session\r\n\t\t\ttell newWindow\r\n\t\t\t\tcreate tab with default profile\r\n\t\t\t\tset sesh to current session\r\n\t\t\tend tell\r\n\t\ton error\r\n\t\t\tset newWindow to (create window with default profile)\r\n\t\t\ttell newWindow\r\n\t\t\t\tset sesh to current session\r\n\t\t\tend tell\r\n\t\tend try\r\n\t\t\r\n\t\ttell sesh\r\n\t\t\twrite text \"cd \" & theDir & \"&& clear\"\r\n\t\tend tell\r\n\tend tell\r\nend CD_to\r\n```\r\n\r\nWhen I switched to `fish` this broke, I replaced the `&&` with a `;`. This works, if there already is an iTerm window, but if there is none it opens one which still displays my greeting (so no command was run) and one which correctly changed to the directory and cleared. What is going on\u203d \r\n\r\n(EDITED) Sometimes if I launch iTerm by clicking the icon I can (sometimes) see a second window appear and then vanish immediately. It then gives me a popup `Session #1 just terminated`. I think this is also related.\r\n\r\nThis might also be related to [this](https://github.com/oh-my-fish/oh-my-fish/issues/258) omf issue.\r\n\r\nNot sure if I was supposed to report it here, or to iTerm, but I think this is the right place, because it worked with bash, and seems to be a fish initiation issue.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4666/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dieggsy": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4656", "title": "Using block cursor only for normal state?", "body": "|             |          | \r\n|-----------------|---------|\r\n|fish version | `2.7.0`|\r\n|uname -a | `Linux Ragnarok 4.14.12-1-ARCH #1 SMP PREEMPT Fri Jan 5 18:19:34 UTC 2018 x86_64 GNU/Linux`|\r\n| TERM |   `xterm-termite` or `xterm-256color` (happens with both) | \r\n| `sh -c 'env HOME=$(mktemp -d) fish'` | behavior persists |\r\n\r\nBasically, I use `fish_vi_key_bindings` along with:\r\n```fish\r\nset -U fish_cursor_insert line\r\nset -U fish_cursor_replace_one underscore\r\n```\r\nHowever, when running a repl program like `python` (or really anything else where my cursor is visible, like `pacman -S` and other password prompting programs), the cursor I get is a block (normal mode) cursor. Is there a way for the default cursor in all instances/programs to be a line cursor, and only switch to a bar cursor when explicitly switching to normal mode?", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "zx8": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4650", "title": "Improve $history lookup times", "body": "Since the solution in https://github.com/fish-shell/fish-shell/pull/4461 was rejected, it would be great to have an alternative/performant way of referencing history items, at the least for the \"most recent history item\" (which is certainly the most common use case).\r\n\r\nFor example, I have the following setup (to mimic [bash's `!!` functionality](https://stackoverflow.com/a/15137462)):\r\n\r\n```fish\r\nfunction bind_bang\r\n  switch (commandline -t)\r\n  case \"!\"\r\n    commandline -t $history[1]; commandline -f repaint\r\n  case \"*\"\r\n    commandline -i !\r\n  end\r\nend\r\n\r\nbind ! bind_bang\r\n```\r\n\r\nAnd it's noticeably slower than @krader1961's alternative (i.e. using `history item 1` rather than `$history[1]`), to the point it actually interrupts my thought process while I wait for it to complete the previous command.\r\n  ", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4650/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "italomaia": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4635", "title": "Problems with fish and docker", "body": "fish, version 2.6.0\r\n\r\nWhen I attach to a docker container with fish, I get the message below:\r\n\r\n```\r\nWelcome to fish, the friendly interactive shell\r\n<W> fish: Current terminal parameters have rows and/or columns set to zero.\r\n<W> fish: The stty command can be used to correct this (e.g., stty rows 80 columns 24).\r\n```\r\n\r\nWhen using the console under this circunstance, the text breaks quite badly. To reproduce, run a ubuntu docker, install fish and, from another terminal, docker exec -it into it running the fish command. ", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4635/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "faho": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4633", "title": "cmake/ninja build does not update test files", "body": "When the test files (in tests/) are updated, the cmake build does not get them, so another `ninja test` run will still run the old tests.\r\n\r\nThis just bit me again in #4632.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/56604f598e02daefb38e9702121fc4019d3ee9ef", "message": "[Tests] Add more slack to the bind tests\n\nSome of these were failing on Travis quite often, and this is probably\nthe result of too tight a window.\n\nE.g. one emacs test (transpose words, default timeout, short delay)\nwaited 250ms to enter something else, with a timeout of 300ms. That\nmeant a window of 50ms."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/d67b4d6ca71ada3c5cf92f62fe1e8de3730efa09", "message": "Fix {,,,} tests\n\nThere was an additional line in the output"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/aa58cae6014582e19a6b52db8d0865ae81771b3b", "message": "Don't count successive \",\" as literal in brace expansion\n\nThis was highly surprising.\n\nFixes #3002."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/55ebf4430f19207f24bcee55249bfabc5c46c7de", "message": "Make literal \"{}\" expand to itself\n\nThis caused major annoyances with e.g. `find -exec`, and it's utterly\nuseless - \"{}\" expands to nothing, so why have it at all?\n\nFixes #1109."}], "pull_requests": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4653", "title": "Don't start keepalive process if the first or last process is internal", "body": "## Description\r\n\r\nCurrently, fish spawns a keepalive process when a non-external\r\nprocess (a block/builtin/function) is inside a pipeline.\r\n\r\nThis keepalive process is then made the process group leader, which\r\ntheoretically stops the process group from being coopted by PID\r\nreuse (which I'm still not sure can actually happen).\r\n\r\nBut if a non-external process is first or last in the pipeline, then\r\nfish itself needs to read/write to the terminal, so it should remain\r\npgroup leader, and therefore the keepalive process is not needed.\r\n\r\nFixes #4540.\r\n\r\n## TODOs:\r\n<!-- Just check off what what we know been done so far. We can help you with this stuff. -->\r\n- [N/A] Changes to fish usage are reflected in user documentation/manpages.\r\n- [ ] Tests have been added for regressions fixed\r\n- [ ] User-visible changes noted in CHANGELOG.md\r\n", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4624", "title": "Split command substitutions on NUL if one is found", "body": "## Description:\r\n\r\nCurrently, there is no easy way to use e.g. `find -print0` in command substitutions.\r\n\r\nWhat this does is check if a NUL is in the comsub output and then split on that instead of newline,\r\nwhich makes `something (find -print0)` just work.\r\n\r\nThe one fly in the ointment is if there is a command that uses NULs to separate its output,\r\nbut doesn't print a trailing NUL if there is just one \"thing\" to print.\r\nThat would cause us to fall back to splitting on newlines, which might do the wrong thing.\r\n\r\nSo far, everything I've tested (`find`, `git config -z`) seemed to print a trailing NUL.\r\n\r\nThis implements a proposal by @cben.\r\n\r\nFixes #3164.\r\n\r\n## TODOs:\r\n<!-- Just check off what what we know been done so far. We can help you with this stuff. -->\r\n- [ ] Changes to fish usage are reflected in user documentation/manpages.\r\n- [x] Tests have been added for regressions fixed\r\n- [ ] User-visible changes noted in CHANGELOG.md\r\n\r\n\r\n----\r\n\r\nThis does one extra `memchr` per command substitution, which is probably not significant. But maybe there's an easy way to use that result if there is a NUL?", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4554", "title": "Disable HAVE_BROKEN_WCWIDTH", "body": "## Description\r\n\r\nAs talked about in #4539, this disables HAVE_BROKEN_WCWIDTH.\r\n\r\nIt does not remove fish_wcwidth because I'm assuming that we need to reenable it in a bunch of cases, but I'm assuming the default should be to rely on the OSs implementation\r\n\r\nFixes issue #4539 (and possibly a bunch of others, e.g. #4306).\r\n\r\nThis is probably not something to merge, it's just to allow testing on common ground.\r\n\r\n## TODOs:\r\n<!-- Just check off what what we know been done so far. We can help you with this stuff. -->\r\n- [N/A] Changes to fish usage are reflected in user documentation/manpages.\r\n- [N/A] Tests have been added for regressions fixed\r\n- [ ] User-visible changes noted in CHANGELOG.md\r\n", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "wilhelmy": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4630", "title": "Add dedicated section about array variables, generated commands and argv handling to documentation", "body": "Any opinions?\r\n\r\nPersonally, I think the documentation could be more extensive in this area and it's something I fumble around with clumsily.\r\n\r\nI might write one given positive resonance (if I write it, I want to know I'm not wasting my time and see it merged and I will keep working on it until it meets the demands of any possible criticism) and enough time in the weeks to come.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4543", "title": "Add support for recovery of stale mount-points to cd.fish", "body": "I propose the following change for cd.fish:\r\n\r\n```\r\n--- /usr/share/fish/functions/cd.fish\t2017-10-12 08:34:42.000000000 +0200\r\n+++ .config/fish/functions/cd.fish\t2017-11-19 02:08:40.773047643 +0100\r\n@@ -27,6 +25,12 @@\r\n         return $status\r\n     end\r\n \r\n+    # allow explicit \"cd .\" if the mount-point became stale in the meantime\r\n+    if test \"$argv\" = \".\"\r\n+\tcd \"$PWD\"\r\n+\treturn $status\r\n+    end\r\n+\r\n     builtin cd $argv\r\n     set -l cd_status $status\r\n```\r\n\r\nwhich can help recycling windows where the mountpoint has disappeared and reappeared since. (e.g. stale sshfs mountpoint, which becomes unreachable in case you suspend your machine, which you can recover by rerunning sshfs and then doing another \"cd .\" in all affected fish shells.)", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4543/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dwt": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4627", "title": "Allow to wrap argparse call", "body": "## Environment\r\n```\r\n(virtualfish) dwt@crest ~/C/P/fish> fish --version\r\nfish, version 2.7.0\r\n(virtualfish) dwt@crest ~/C/P/fish>   echo $version\r\n2.7.0\r\n(virtualfish) dwt@crest ~/C/P/fish> uname -a\r\nDarwin crest.fritz.box 17.3.0 Darwin Kernel Version 17.3.0: Thu Nov  9 18:09:22 PST 2017; root:xnu-4570.31.3~1/RELEASE_X86_64 x86_64\r\n(virtualfish) dwt@crest ~/C/P/fish> echo $TERM\r\nxterm-256color\r\n```\r\n# Problem\r\n\r\nI want to wrap a function call, which does it's own argument parsing via `argparse`. My problem is, that there seems to be no way, to tell `argparse` that I only care for my additional argument, and that it shouldn't raise an error for all the other arguments that I don't care for.\r\n\r\nSo, what I'm searching for is a way to tell `argparse` that it should ignore all other arguments, except the one I'm specifying, and especially shall not consume them, but only what was specified.\r\n\r\nThis seems not to be possible.\r\n\r\n# Workaround\r\nI'm currently using this technique to work around the problem\r\n\r\n```fish\r\nfunctions --copy __vf_new __vf__new_projects_original\r\nfunction __vf_new --wraps=__vf_new\r\n    set -l options (fish_opt --short a --required)\r\n    argparse --name 'vf new' $options -- $argv ^/dev/null\r\n    if __vf__new_projects_original $argv; and test -n $_flag_a\r\n        cd $_flag_a\r\n        and pwd >?$VIRTUAL_ENV/.project\r\n    end\r\nend\r\n```\r\n\r\nThis seems to work, but only at the price, that I don't see any error messages from argparse anymore. So I'm searching for a better way.\r\n\r\nIs there an extension of the c-implemented argparse possible, or is there a better workaround? I think that being able to wrap shell commands or fish functions with another function by enhancing the supported arguments is n important and very powerful use case.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4627/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "LandonSchropp": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4620", "title": "Add support for && and ||", "body": "Thanks for creating such an awesome shell! I've been enjoying using it, especially when scripting.\r\n\r\nI'm using Fish 2.7.0 on macOS 10.13.2 inside of a [custom tmux terminal profile](https://github.com/LandonSchropp/dotfiles/blob/master/tmux-256color-italic.terminfo).\r\n\r\nI'd like to request you guys add support for the `&&` and `||` operators. I know fish supports `and` and `or`, but using them feels a bit awkward, especially with the required semicolon.\r\n\r\nGoing off of the [Fish Design Document](https://fishshell.com/docs/current/design.html):\r\n\r\n* *The law of orthogonality*: My suggestion is a violation of this rule. There's no way around that other than the idea that it's syntactic sugar.\r\n* *The law of user focus*: I don't know about anyone else, but I expected these operators to exist when I first used Fish. They're almost universal across other languages and shells, and they're the first thing I reached for. I realized that's a sample size of one, but I wonder if other people expect the same thing. The use of `;` also requires the user to understand that `and` is a command, which adds a bit of cognitive load.\r\n* *The law of discoverability*: When I type `&&` in a command, Fish prints out an error message telling me what I should have used `and` instead. However, I wish would just do what I wanted instead. This feels like when I type `brew update <app>`, and it tells me I should have typed in `brew upgrade <app>`.\r\n\r\nI realize this is a small thing, but it's something I've missed from zsh.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4620/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "cben": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4605", "title": "string escape drops NUL and following text", "body": "fish, version 2.7.0-513-g81dd4a45\r\nLinux, Fedora 27, gnome-terminal (TERM=xterm-256cotor).\r\nConfirmed without customization (`sh -c 'env HOME=$(mktemp -d) fish'`).\r\n\r\nActual behavior: `string escape` doesn't handle NUL:\r\n```\r\n/h/b/fish-shell> printf 'foo\\0bar' | cat -A\r\nfoo^@bar\u23ce\r\n/h/b/fish-shell> printf 'foo\\0bar' | string escape\r\nfoo\r\n```\r\nand `string unescape` has similar problem:\r\n```\r\n/h/b/fish-shell> printf 'escaped\\\\0text' | string unescape\r\nescaped\r\n```\r\n\r\nExpected behavior:\r\n```\r\n/h/b/fish-shell> printf 'foo\\0bar' | string escape\r\nfoo\\0bar\r\n/h/b/fish-shell> printf 'escaped\\\\0text' | string unescape | cat -A\r\nescaped^@text\u23ce\r\n```\r\n\r\nGenerally, it should be possible to round-trip any binary data through `| string escape | string unescape |`.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4605/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sanjibukai": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4603", "title": "Description of command in suggestion list not showing", "body": "Hello,\r\n\r\nI made some custom aliases (using `function` not `alias`) and I tried the complete feature that fish shell provide.\r\nAnd I noticed two problems:\r\n- Command description is not displayed at all in autocomplete suggestions list\r\n- Argument description is displayed sometimes in autocomplete suggestions list\r\n\r\nAs suggested I recorded the behavior https://asciinema.org/a/ykzBJHPSnKlYv1Z0g7QV4JJyx\r\n\r\nHere you can see (at the beginning) that the description of my commands (for example **`g`** and **`ga`** in the first screen) are not showing.\r\nThen you can see (from 0:26) that some arguments descriptions is displayed but not all.\r\nBut in the end (from 0:52) those descriptions are displayed.\r\n\r\nIn order to have some descriptions, I \"tricked\" my aliases so that I defined a main alias (for example here **`g`** for git) and I defined all the aliases (related with git) as argument for this pseudo-command:\r\n\r\nHere is my `g.fish` file including all the `complete` commands:\r\n\r\n    function g\r\n      eval $argv[1]\r\n    end\r\n\r\n    complete -xc g -d \"Git Main Alias file\"\r\n    complete -xc g -a \"gst glg ga ga. gau gco gci gcim gac gacm grls grao gpush\"\r\n    complete -xc g -a gst -d \"Status Short\"\r\n    complete -xc g -a glg -d \"Log Graph Short\"\r\n    complete -xc g -a ga -d \"Add\"\r\n    complete -xc g -a ga. -d \"Add ALL\"\r\n    complete -xc g -a gau -d \"Add Untracked\"\r\n    complete -xc g -a gco -d \"Git checkout\"\r\n    complete -xc g -a gci -d \"Commit Verbose\"\r\n    complete -xc g -a gcim -d \"Commit with CLI Message\"\r\n    complete -xc g -a gac -d \"Add ALL AND Commit Verbose\"\r\n    complete -xc g -a gacm -d \"Add ALL AND Commit with CLI Message\"\r\n    complete -xc g -a grls -d \"List remotes\"\r\n    complete -xc g -a grao -d \"Remote Add Origin\"\r\n    complete -xc g -a gpush -d \"Push Master to Origin\"\r\n\r\nCan anyone confirm if this is a bug or if I misused the `complete` feature?\r\n\r\nFish Version: fish, version 2.6.0\r\nOS: Linux manjaro-vm 4.13.2-1-MANJARO\r\nTerminal: xterm-256color\r\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4603/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sarum9in": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4582", "title": "Bracketed paste mode causes fish to hang on WSL if started as PID=2", "body": "## Environment\r\n$ fish --version\r\nfish, version 2.7.0\r\n$ uname -a\r\n// Note: this is [WSL Ubuntu](https://docs.microsoft.com/en-us/windows/wsl/reference)\r\nLinux XXX 4.4.0-43-Microsoft #1-Microsoft Wed Dec 31 14:42:53 PST 2014 x86_64 x86_64 x86_64 GNU/Linux\r\nTested on terminal emulators:\r\ncmder.exe\r\ncmd.exe\r\n\r\n## strace output (this is infinite loop)\r\n```\r\nwrite(1, \"\\33[?2004l\", 8)               = 8\r\ntime(NULL)                              = 1512877281\r\ntime(NULL)                              = 1512877281\r\nwrite(1, \"\\33[?2004l\", 8)               = 8\r\ntime(NULL)                              = 1512877281\r\ntime(NULL)                              = 1512877281\r\nwrite(1, \"\\33[?2004l\", 8)               = 8\r\n```\r\n## Issue\r\nIf fish is started with pid=2 on WSL it gets stuck inside `__fish_config_interactive`. Printf debugging suggests that stuckness happens on `if not type -q __fish_command_not_found_handler` line, inside `__fish_disable_bracketed_paste` handler. Commenting-out `printf` inside that handler mitigates the issue.\r\n\r\n## Steps to reproduce\r\n\r\n### Naive way in line how issue was noticed\r\n1. From cmd.exe run bash\r\n2. Verify that pid=2 via `echo $$`\r\n3. From bash run `exec fish`\r\n4. At this point fish hangs and terminal is unresponsive.\r\n5. Start another terminal emulator and perform steps 1 and 2.\r\n6. In 2nd terminal emulator you have working fish instance.\r\n7. Run `pkill fish` to kill all running fish instances. Go to step 1 to reproduce again.\r\n\r\n### Another way to reproduce proving that it is related to pid=2\r\n1. From cmd.exe run `bash`\r\n2. From another cmd.exe run `bash`\r\n3. Run `echo $$` in both terminals\r\n4. Run `exec fish` in a terminal where pid!=2, this starts fish just fine\r\n5. Run `exec fish` in a terminal where pid==2, this instance hangs\r\n\r\n4 and 5 can be reordered.\r\n\r\n## Further actions\r\nI am open to debug this further but I am not sure what to look for.\r\n\r\n## Use case\r\nThis is useful if you want to run fish as your main shell in WSL. fish can replace bash on startup via ~/.bashrc. Bash normally starts as pid=2 so as I would expect any other default shell to:\r\n![image](https://user-images.githubusercontent.com/1058248/33801875-258125ac-dd61-11e7-991a-39a75bc3d799.png)\r\n\r\n\r\n## Possible mitigations\r\nMake it possible to disable [bracketed paste mode](https://github.com/fish-shell/fish-shell/pull/3871#issuecomment-321034918). Currently this can be done by either overriding __fish_config_interactive or setting FISH_UNIT_TESTS_RUNNING.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4582/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "erszk": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4578", "title": "Easier access to the directory stack", "body": "In bash, `~-` expands to the last directory you were in (essentially the same as `$OLDPWD`), and `~n` expands to the nth directory in the stack as referenced by the output of `dirs -v`, where 0 is the top of stack, i.e. the current working directory. So, in `fish` terms, `~1` is the same as `$dirstack[1]`.\r\n\r\nThis is one of the most little-known but killer features of bash's `pushd`/`popd`, and in my eyes one of the major reasons they are currently superior to fish's implementation.\r\n\r\nThis allows you, for instance, to quickly look at the output of `dirs -v` if necessary, and then do things like `cp foo.txt ~1/bar` or `mv foo.txt ~-`, with tab completion working etc.\r\n\r\n```fish\r\n$ echo $FISH_VERSION\r\n2.7.0\r\n$ uname -a | sed \"s/\"(hostname)\"/hostname/\"\r\nDarwin hostname 17.2.0 Darwin Kernel Version 17.2.0: Fri Sep 29 18:27:05 PDT 2017; root:xnu-4570.20.62~3/RELEASE_X86_64 x86_64\r\n$ echo $TERM\r\nxterm-256color\r\n```", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4578/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pfgithub": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4572", "title": "ctrl-c does not clear blank lines", "body": "<!--\r\nPlease tell us which fish version you are using by executing the following:\r\n\r\n  fish --version\r\n  echo $version\r\n\r\nPlease tell us which operating system and terminal you are using. The output of `uname -a` and `echo $TERM` may be helpful in this regard although other commands might be relevant in your specific situation.\r\n\r\nPlease tell us if you tried fish without third-party customizations by executing this command and whether it affected the behavior you are reporting:\r\n\r\n  sh -c 'env HOME=$(mktemp -d) fish'\r\n\r\nTell us how to reproduce the problem. Including an asciinema.org recording is useful for problems that involve the visual display of fish output such as its prompt.\r\n-->\r\n\r\n> `fish --version`\r\nfish, version 2.7.0\r\n> `echo $version`\r\n2.7.0\r\n> `uname -a`\r\nDarwin pfgs-MacBook-Pro.local 17.2.0 Darwin Kernel Version 17.2.0: Fri Sep 29 18:27:05 PDT 2017; root:xnu-4570.20.62~3/RELEASE_X86_64 x86_64\r\n> `echo $TERM`\r\nxterm-256color\r\n\r\nProblem still occurs with `sh -c 'env HOME=$(mktemp -d) fish'`\r\n\r\n**Steps to reproduce:**\r\nOpen a terminal window\r\nType nothing\r\nPress control-c\r\n\r\n**What I expected**\r\nSimilar to the functionality of bash and zsh, the current line would be cleared and a new terminal line would appear\r\n\r\n    pfg@pfgs-MacBook-Pro /U/p/D/N/clipass> ^C\r\n    pfg@pfgs-MacBook-Pro /U/p/D/N/clipass> \r\n    \r\n**What Happened**\r\nNothing happened, nothing was outputted, and no new line appeared", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4572/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "msteed": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4570", "title": "tilde characters in cdh tab completions are escaped (sometimes)", "body": "```sh\r\nmsteed@bones:~> fish --version\r\nfish, version 2.7.0\r\nmsteed@bones:~> echo $version\r\n2.7.0\r\nmsteed@bones:~> uname -a\r\nLinux bones 4.13.12-1-ARCH #1 SMP PREEMPT Wed Nov 8 11:54:06 CET 2017 x86_64 GNU/Linux\r\nmsteed@bones:~> echo $TERM\r\ntmux-256color\r\nmsteed@bones:~>\r\n\r\n```\r\n\r\nThe problem:\r\n```sh\r\nmsteed@bones:~> sh -c 'env HOME=$(mktemp -d) fish'\r\nWelcome to fish, the friendly interactive shell\r\nmsteed@bones /h/msteed> cd\r\nmsteed@bones ~> mkdir -p a/b\r\nmsteed@bones ~> cd a/b\r\nmsteed@bones ~/a/b> cd\r\nmsteed@bones ~> cdh a<TAB>\r\n```\r\nWhen I hit <kbd>Tab</kbd>, fish supplies this completion:\r\n```sh\r\nmsteed@bones ~> cdh \\~/a/b\r\n```\r\nIf I accept that, fish (correctly) complains:\r\n```sh\r\ncd: The directory \u201c~/a/b\u201d does not exist\r\n```\r\n\r\nIf I hit <kbd>Tab</kbd> with an empty directory name, i.e., `cdh <TAB>`, fish lists the completions with the `~` characters escaped, but selecting a completion un-escapes the string so the command line is formatted correctly.\r\n\r\nEdit: this may be the problem reported in https://github.com/fish-shell/fish-shell/issues/4566", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Estirp": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4566", "title": "fail to change to a directory setted with read", "body": "fish, version 2.7.0\r\n\r\nFish fail to change to a directory setted with read.\r\n\r\n```\r\nbug> ls\r\n' b'/\r\nbug> read --shell dir\r\nread> \\ b/ (tab pressed)\r\nbug> cd $dir\r\ncd: La fonction '\\ b/' n'existe pas (function '\\b/' does not exists)\r\nbug> echo $dir\r\n\\ b/\r\nbug> cd \\ b/\r\nb/ b> \r\n```\r\n\r\nIt seems about the escape char :\r\n```\r\nbug> read  dir\r\nread>  b\r\nbug> cd $dir\r\nb/ b> \r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "rltbennett": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4555", "title": "In fish_config, allow choosing any color for syntax highlighting", "body": "Fish version: 2.7.0\r\n\r\nIt would be ideal if the fish_config portal allowed choosing arbitrary colors (by RGB, HSB, CMYK etc) for syntax highlighting. Currently it limits the choices to a fairly limited color palette.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "seagreen": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4542", "title": "Allow disabling universal variables", "body": "First, I apologize for opening such a large issue as my first issue. I just read the Design Principles document today and that alone convinced me to switch to Fish. The switch has gone swimmingly so far -- Fish is completely living up to its \"Configurability is the root of all evil\" principle.\r\n\r\nI have run into one moderate problem. I already have a way to manage configuration state between machines (I use version controlled dotfiles, but the particulars of my solution aren't important here -- lots of other people use different ways). This makes Universal Variables a \"Law of Orthogonality\" violation for me. I'd like for my `~/.config/fish/config.fish` file to describe the entire state of Fish configuration on my machine, but now I also have to think about a second mechanism that also has its own way of storing state.\r\n\r\nThe few problems I've had so far have had to do with this issue, for instance not realizing I was setting a Universal Variables in my `config.fish` file, so when I removed it the setting still persisted. Persistent, mutable state on a machine is an easy way to create user confusion, and if we can get away without it (and the `config.fish` file already provides a great way of doing so) I think it's worth considering.\r\n\r\nAlso, thanks for Fish!", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4542/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "JohnMH": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4540", "title": "`read | cat` crashes fish", "body": "fish 2.3.1\r\noperating system: Irrelevant, running under Linux kernel (Also tested on FreeBSD with unknown fish version)\r\nterm: xterm-256color", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4540/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "paulswartz": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4539", "title": "OS X High Sierra: unicode in `fish_prompt` gets wrong length calculated", "body": "fish version: 2.6.0 and fa57565\r\nOS: OS X High Sierra, 10.13.1\r\n\r\nAfter upgrading, having a unicode character in my prompt (along with a right prompt) has the size calculated incorrectly.\r\n\r\n<img width=\"374\" alt=\"screenshot 2017-11-15 15 29 48\" src=\"https://user-images.githubusercontent.com/214921/32858656-31e45652-ca1a-11e7-9f76-d9944e4a382a.png\">\r\n\r\nIn the above screenshot, everything is normal when I have a fully ASCII prompt. When I source my `fish_prompt` to re-add the Unicode character, the cursor is positioned on the next line.\r\n\r\nEverything was working normally before the update to High Sierra. It's not working in either iTerm or Terminal.\r\n\r\nHappy to get any other debugging information.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "PenegalECI": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4537", "title": "Take into account variables when trying to automatically add fuzzy translations", "body": "Hello, there.\r\n\r\nWorking on PR #4470, there is something that bothers me a lot: when using `make po/$LANG.po`, for any language, `make` tries to create fuzzy translations for untranslated items, by searching close ones in the existing translations. Currently, it does not take into account the number of variables, but, this way, you get many translations with different number of variables compared to the original string, and Travis does not like that. Could the Makefile be corrected to prevent auto-translating with variable number mismatches?\r\n\r\nRegards.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4537/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4520", "title": "Reconsider removing '?' wildcard", "body": "Hello, there.\r\n\r\nUsing fish 2.4.0 as packaged by Debian Stretch, I noticed that `zpool`'s `-?` makes fish prompt an error message:\r\n```\r\nroot@Alioth ~ {\u23170/\u2b1354}[1]\uaa5c# zpool -?\r\nNo matches for wildcard '-?'.  (Tip: empty matches are allowed in 'set', 'count', 'for'.)\r\nfish: zpool -?\r\n            ^\r\n```\r\n\r\nIt looks like fish tries to interpret the interrogation mark, whereas it's a legitimate switch of `zpool`:\r\n```\r\nzpool -?                    \r\n                            \r\n    Displays a help message.\r\n```\r\n\r\nSuch a bug seems beyond my development knowledge, so I opened this issue.\r\n\r\n```\r\nroot@Alioth ~ {\u23170/\u2b1354}[0]\uaa5c# fish --version\r\nfish, version 2.4.0\r\nroot@Alioth ~ {\u23170/\u2b1354}[0]\uaa5c# uname -a\r\nLinux Alioth 4.9.0-4-amd64 #1 SMP Debian 4.9.51-1 (2017-09-28) x86_64 GNU/Linux\r\nroot@Alioth ~ {\u23170/\u2b1354}[0]\uaa5c# echo $TERM\r\nscreen\r\n```\r\n\r\nFWIW, fish executes in a tmux session, though I don't think it matters. If you need more data, feel free to ask it.\r\n\r\nRegards.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4520/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "timofonic": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4531", "title": "(ncurses-git? related error when compiling fish-git from Archlinux AUR", "body": "*  fish --version: fish, version 2.6.0-750-ged0a57ff\r\n\r\nPlease tell us which operating system and terminal you are using. The output of \r\n* `uname -a` : Linux timolaptop 4.13.0-1035f22af3e97 #1 SMP PREEMPT Fri Sep 1 06:05:09 CEST 2017 x86_64 GNU/Linux\r\n* `echo $TERM` : xterm-256color (I use Terminology)\r\n\r\nI installed fish-git successfully, but this error appeared while compiling it. I use ncurses-git.\r\n\r\n```\r\nrm -f lib/libmuparser.a\r\nar rcu lib/libmuparser.a muParser_lib_muParser.o muParser_lib_muParserBase.o muP\r\narser_lib_muParserBytecode.o muParser_lib_muParserCallback.o muParser_lib_muPars\r\nerDLL.o muParser_lib_muParserError.o muParser_lib_muParserInt.o muParser_lib_muP\r\narserTest.o muParser_lib_muParserTokenReader.o\r\nar: `u' modifier ignored since `D' is the default (see `U')\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib lib/libmuparser.a\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n```", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4531/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "rocketraman": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4519", "title": "COLUMNS seems incorrect for powerline-go", "body": "# Meta-data:\r\n\r\n```\r\n# fish --version\r\nfish, version 2.3.1\r\n\r\n# uname -a\r\nLinux edison 4.13.5-200.fc26.x86_64 #1 SMP Thu Oct 5 16:53:13 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n# echo $TERM\r\nxterm-256color\r\n```\r\n\r\nTried without third-party customizations and still have the same issue.\r\n\r\n# Problem:\r\n\r\nI am attempting to use powerline-go. For some reason, my prompt is truncated. In discussion in a powerline-go issue, the claim by the author is that fish is not reporting COLUMNS correctly, which is causing the prompt truncation. See https://github.com/justjanne/powerline-go/issues/46#issuecomment-341641769 and the previous few comments.\r\n\r\nIs it possible to confirm somehow whether the problem is definitely in `fish` or in `powerline-go`?", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4519/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "MindTooth": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/fde647214d0cb8e9f3fcdcd7437fad47f57f7d32", "message": "brew.fish: added cask completion & tweaks"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/721df61f4b21a96aeed9a65e1b59ee05833ea813", "message": "brew.fish: add the leaves option (#4645)"}], "pull_requests": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4670", "title": "[RFC] diskutil.fish: added apfs completion", "body": "## Description\r\n\r\nAdded APFS completion to the diskutil.fish file.\r\n\r\nPlease take a look, am I on the right track?\r\n\r\n## TODOs:\r\n<!-- Just check off what what we know been done so far. We can help you with this stuff. -->\r\n- [ ] Changes to fish usage are reflected in user documentation/manpages.\r\n- [ ] Tests have been added for regressions fixed\r\n- [x] User-visible changes noted in CHANGELOG.md\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "thomcc": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/7b88187310f2e9204a07724d3456c6c58e1923c6", "message": "Add ability to autosave functions at the end of funced"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/42fa8415736d8a7108f59e791085f99831402b1a", "message": "Fix #4480 by using a temporary file with a redirect to the correct location."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/7dae40a240f1fbf284ac97adf933de3b3798be18", "message": "Revert \"Work around OS X issue with dropped #fragment in launched URLs\"\n\nThis reverts commit 80b658e2474a96e92eccc510506818a197fc9fa1."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "zanchey": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/b6202c3c86a0bf9cf73e010533993bff31d3a198", "message": "[cmake] actually use libintil headers/libraries if detected\n\nCloses #4663."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/38c4437d79e9a6b4e2b77cdec320b7caac3affa1", "message": "travis: add a CMake build\n\nUses an out-of-tree build; in-tree builds do not work.\n\nNo make uninstall test (CMake does not support this)."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8875f0ad7663a25b51d41ae556bb88320ab70d0c", "message": "[cmake] make building documentation optional\n\nAdd a BUILD_DOCS option which is contingent on Doxygen being present,\nand only build the documentation if this is enabled."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8eb0608b00fd35e0aa882f1fdf6767ecb9f4cbd3", "message": "[cmake] make build_lexicon_filter part of DocTargets only"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/088fc6003b7940a09fe5bda688a86eefbc730484", "message": "[cmake] use appropriate configure policies where possible"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/85131452fafb2827c4dee2cb06cbc474ef417171", "message": "apt: add completions for policy\n\nCloses #4652."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/af5869886b544d2e4a84c03941d75ebc125b2b8d", "message": "travis: use default OS X image"}], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3240469", "body": "Incidentally - the Makefile in the tarball depends on build_tools/make_documentation.sh\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3240469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3240945", "body": "(if you run make distclean and then make.)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3240945/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3865466", "body": "Also needs completions updated\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3865466/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "review_comments": []}, "raichoo": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/069e4fdd8d5a8596961be7b6ba1b20b8c49208e9", "message": "do not depend on bash being installed in /bin (#4661)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "lourkeur": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8b530839971e48c6f93ef4666bda8288daf987fb", "message": "[PO][FR] translation fixes (#4655)\n\n* [PO][FR]fix translation\r\n\r\n\"key\" was being translated to \"fonction\". (\"function\")\r\nBased the new wording on the above translation.\r\n\r\n* [PO][FR]fix translation\r\n\r\n\"directory\" was being translated to \"fonction\". (\"function\")\r\n\r\n* [PO][FR]fix translation\r\n\r\n\"Permission denied\" was being translated to \"Nom de fonction ill\u00e9gal\". (\"Illegal function name\")\r\nI took the new translation from strerror.\r\n\r\n* [PO][FR]fix translation\r\n\r\n\"Introduction\" was being translated to \"Instruction ill\u00e9gale\". (\"illegal instruction\")\r\n\r\n* $ make po/fr.po\r\n\r\n* #4655: changes requested by @PenegalECI\r\n\r\n* fix some automatically generated translations\r\n\r\nuniformly translate \"logging\" to \"journalisation\"."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "ridiculousfish": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8a78dca26fbd6dd17d857f2e21a0ba2c475fadb2", "message": "Remove PRE_BUILD from tests_dir target\n\nIt doesn't seem necessary and I can't justify what it's there for."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8a67a113d850fc6f43ff019ad38f40f5c968dd47", "message": "Revert \"Work around cmake/ninja bug that leads to installation failure\"\n\nThis reverts commit 36a2f2cc01c2a04b240819884f41174cf56f79a6.\n\nThis attempted to modify RPATH when building with Ninja, but the CMake if\nstatement wasn't actually valid so this wasn't doing anything. This check\ncouldn't really be tested - let's make sure not to accumulate build system\nrules that we don't understand."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/de8ccf1751cdd55ef2ba37125bc23c4f7dd404a7", "message": "Stop warning on invalid PATHs and CDPATHs if any element is valid\n\nSome dotfile users like to add directories to PATH that point at\nnon-existent directories (because those directories exist on other\nmachines). Stop warning in that case, unless those directories contain\na colon, in which case it's probably a user error."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/96d524304d4c5096cbccef794227c0ae25264bc2", "message": "Add #4649 to changelog"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/46db0dd5eb59bc62f1b735b97ecbdece8c87f389", "message": "Stop checking EXPAND_SPECIAL_FOR_CD if ..._AUTOSUGGEST is set\n\nIf EXPAND_SPECIAL_FOR_CD_AUTOSUGGEST is set, EXPAND_SPECIAL_FOR_CD\nis necessarily also set; simplify things by only checking for the\nlatter."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/faa17ec849758b96878974791f37e7ef98a500e4", "message": "Correct a comment in git_version_gen.sh"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/d09210c08bc8e36ac32727ef12bf3ce35f5374ee", "message": "[cmake] Untangle the CMake versioning\n\nThis untangles the CMake versioning issues (I hope) as discussed in #4626.\nNote most of the advice found on the Internet about how to inject git\nversions into CMake is just wrong.\n\nThe behavior we want is to unconditionally run the script\nbuild_tools/git_version_gen.sh at build time (i.e. when you invoke ninja or\nmake, and not when you invoke cmake, which is build system generation time).\nThis script is careful to only update the FISH-BUILD-VERSION-FILE if the\ncontents have changed, to avoid spurious rebuilding dependencies of\nFISH-BUILD-VERSION-FILE. Assuming the git version hasn't changed, the script\nwill run, but not update FISH-BUILD-VERSION-FILE, and therefore\nfish_version.o will not have to be rebuilt.\n\nThis might normally rebuild more than is necessary even if the timestamp is\nnot updated, because ninja computes the dependency chain ahead of time. But\nNinja also supports the 'restat' option for just this case, and CMake is rad\nand exposes this via BYPRODUCTS. So mark FISH-BUILD-VERSION-FILE as a\nbyproduct and make the script always update a dummy file\n(fish-build-version-witness.txt). Note this is the use case for which\nBYPRODUCTS is designed.\n\nWe also have fish_version.cpp #include \"FISH-BUILD-VERSION-FILE\", and do a\nsemi-silly thing and make FISH-BUILD-VERSION-FILE valid C++ (so there's just\none version file). This means we have to filter out the quotes in other\ncases.."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/21cfdf04bd584bd89689e7507296472fc57321c1", "message": "Revert \"[cmake] Remove build_fish_pc target\"\n\nThis reverts commit 585321181d1f7573813ed8083a06118ab1d6a6a2.\n\nWith the build_fish_pc target, a command like this fails:\n  env DESTDIR=/tmp/fish-install ninja install"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/da8db7f6f01c91866d22934cba207299acc59fde", "message": "Revert \"Generate FISH_BUILD_VERSION info for cmake builds\"\n\nThis reverts commit 25839b8c361e1dcd5f96a5e05bb48616c5531061.\n\nThis was an attempt to simplify the version generation, but it\ncomputed the version at build sytem generation time rather than\nat build time, requiring another run of CMake to update it."}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/5664464", "body": "Fixed as c15975113ab80241c71dc6dfa41a470b232de4ce\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/5664464/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/5682025", "body": "It's supposed to work that way, it was just busted in certain cases. Now there's some tests.\nFixed in fish_fish branch:\n=> Syncing Gitorious... [OK]\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   c159751..129525a  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/5682025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6029479", "body": "Siteshwar is nearly finished with this\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6029479/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051198", "body": "Thank you, I've merged the fix.\n\nWhile that fixes the immediate issue, I will keep this bug open to track getting off of which entirely. which is not the correct way to determine if a command exists.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051202", "body": "Thanks, you rock! I've merged this.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051230", "body": "I will leave this bug open to track the issue of other Python scripts, such as share/tools/web_config/webconfig.py .\n\nKeeping these scripts compatible with Python2 and Python3 seems like it would be a lot of maintenance work. I would like to find a way to portable request Python2 (or 3) for all such scripts.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051230/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051252", "body": "Cool, I never knew about 'funded' or 'funcsave'\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051252/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051256", "body": "s/funded/funced\n\nDarn you autocomplete.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6070803", "body": "Hopefully addressed by this commit:\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   377d93d..9255f62  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6070803/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6070805", "body": "Hopefully addressed by this commit:\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   377d93d..9255f62  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6070805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6071087", "body": "Nope, the problem is that fish_indent is busted\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6071087/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6071385", "body": "Fixed by this commit:\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   9255f62..ae12e1b  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6071385/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6107387", "body": "The issue turned out to be that path_make_canonical() mishandles the path \"/\", returning an empty string instead. Fixed and added a test in this commit:\n\n=> Syncing Gitorious... [OK]\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   457e6a5..cc90f9c  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6107387/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6107398", "body": "Thank you etu for your investigation.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6107398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3105598", "body": "Glad someone is watching!\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3105598/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3990030", "body": "Indentation fixed as df0aaa1ebe6d0ca520a866be2f402d41bcad280c\nThanks.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3990030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "review_comments": []}, "mtbrock": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/bf63e061c9abecf8b44c2b1b00b1b4badeb7ba48", "message": "Fix overzealous cd tab completion\n\nChanged cd completion to differentiate between cd autosuggest and cd tab\ncompletion. cd autosuggest will find deepest unique hierarchy and cd tab\ncompletion will not.\n\nIssue #4402"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pinage404": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/1af4acbd0e67c4a493d4ce88d99af36d5d954c21", "message": "Add: `ngrok` completions (#4642)\n\nCompletions are based on the help messages of [ngrok](https://ngrok.com/)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "yursan9": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4662", "title": "Update Eopkg support", "body": "Refactor __fish_eopkg_option and __fish_eopkg_option_with_shortcut to use function argument.\r\n\r\nAdd new options for some subcommand:\r\n\r\n- list-available\r\n- list-components\r\n- list-upgrades\r\n- list-installed", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "maxfl": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031291", "body": "default completions are also can not be overridden. \n\nfish_default_keybindings as well can not be overridden. There is no way to set user bindings for now. \nconfig.fish is loaded before bindings are reset.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6040265", "body": "Fish loads bindings after reading config.fish, and just before doing it, it resets existing bindings.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6040265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4019029", "body": "I think it should be noted that eval is not a sufficient replacement, because it breaks the quoting.\nIn other case the behavior for the user can be unexpected.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4019029/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4032836", "body": "Wow, didn't know about this, thanks.\nBut naive expectation is that \neval $command arg1 \"arg2 with spaces\"\nwill work correctly. I think it worth noting that one should use eval 'correctly'.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4032836/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "adisbladis": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031927", "body": "https://gitorious.org/~ridiculousfish/fish-shell/fishfish/merge_requests/1\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031927/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031948", "body": "I have a fix in: https://gitorious.org/~ridiculousfish/fish-shell/fishfish/merge_requests/2#377d93d1cf56080d345611fe0faedae1e9ded1fe-377d93d1cf56080d345611fe0faedae1e9ded1fe@1\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031948/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031985", "body": "I might add that this fix makes the scripts compatible with both python 2 and 3, so no matter which python \"#!/usr/bin/env python\" invokes this will work.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031985/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6034813", "body": "Isn't this something that you should place in your config.fish instead?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6034813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6065057", "body": "On my system ^W removes the text and adds it to the kill ring.\nWith ^K however the text is killed, added to the kill ring but not removed from the prompt until I type something else, so this is only an estethical issue for me, my build is from git.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6065057/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6079487", "body": "We could use the fish-function type instead:\ntype -P command-not-found > /dev/null\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6079487/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6080034", "body": "I think the effort should be to make the scripts python3 only.\nSure, python2 will be around for some considerable time to come but some GNU/Linux distributions (Arch Linux and Gentoo for example) are now shipped without python2.\n\nI would like some external input on this so my efforts are not wasted.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6080034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "etu": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6053562", "body": "`funced` is cool couse it opens an already existing function to edit it, and then you can save functions with `funcsave`. Very usefull.\n\nAt least in fish and not fishfish ;)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6053562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075591", "body": "yep, works.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075591/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075738", "body": "Uh, this also seems to work after your fixes on `~/.config/fish/functions/` or something?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075738/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6076352", "body": "One idea of soution might be to look into `$PWD` and the fish-function `prompt_pwd`\n\nfish & fishfish:\n\n```\n$ cd /\n$ echo $PWD\n\n$\n```\n\nfish:\n\n```\n$ cd /\n$ pwd\n\n$\n```\n\nfishfish:\n\n```\n$ cd /\n$ pwd\n/\n$\n```\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6076352/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6076434", "body": "this one is also fixed yes, someone can close it? :)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6076434/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6083169", "body": "Got time to research more now...\n\nIt's the empty `$PWD` that couses everything.\n\nIf I change the function `__fish_complete_cd` to do `set -l wd (pwd)` instead of `set -l wd $PWD`, things will work. But things would probably be slower too...\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6083169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1466068", "body": "Protip, if you had written `Fixes #61` as commit-message, the ticket would close itself and get a link to this commit. You can also use `Refs #61` if a commit doesn't fix, but reffers.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1466068/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3105379", "body": "When I read this in my RSS-Feed, I really thought that it would cause an access violation in portage sandbox, but we are in luck this time! Reading from the outside of the sandbox seems ok! :)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3105379/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3233093", "body": "What about running `make uninstall` in the directory the user made `make install` from since it got the correct prefix. This ofc depends on the user saving the source directory.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3233093/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "twm": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075200", "body": "I regularly use implicit cd, but I have set CDPATH to . because I found the results of combining the two confusing.  I'd suggest either (1), with changing CDPATH a sufficient degree of configurability, or (2).\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "martinklepsch": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1667077", "body": "This is awesome, thanks so much!\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1667077/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348535", "body": "I dont know exactly what `set upstream '@{upstream}'` does but this does not seem to work here.\n`$upstream` needs to be something like `origin/master` here. \n\nI'm willing to fix this but I've no idea about what `set upstream '@{upstream}'` is meant to be...\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348535/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348566", "body": "Like that: `git rev-list --count --left-right '@{upstream}'...HEAD` ?\n\nI tried that with `upstream` and `origin` (I only have `origin`) and I keep getting this:\n\n```\nfatal: ambiguous argument '@{origin}...HEAD': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions\n```\n\n(I also tried with and without quotes)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348679", "body": "```\n>> git rev-list --count --left-right '@{upstream}'...HEAD\nerror: No upstream configured for branch 'master'\nerror: No upstream configured for branch 'master'\nerror: No upstream configured for branch 'master'\nfatal: ambiguous argument '@{upstream}...HEAD': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions\n```\n\nPassing `-u` to `git push` solved the problem! Thanks\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}, "kballard": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1819874", "body": "This flag doesn't seem to be documented anywhere.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1819874/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348544", "body": "No, that's correct. '@{upstream}' is a syntax that git understands to be the upstream of the current branch. Perhaps you don't have an upstream set?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348544/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348630", "body": "Was that all you get? In a fresh repo with no upstream I get\n\n```\n> git rev-list --count --left-right '@{upstream}'...HEAD\nerror: No upstream branch found for ''\nerror: No upstream branch found for ''\nerror: No upstream branch found for ''\nfatal: ambiguous argument '@{upstream}...HEAD': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions\n```\n\n(the quotes are required or fish will strip the curly braces).\n\nThis is not surprising. You have no upstream. The end result of this command is that `count` will contain the empty string, which you see on line 182 is treated as no upstream.\n\nIn order to set an upstream you need to pass the `-u` flag to `git push` or the `--set-upstream`/`--track` flags to git branch (see the manpages).\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348642", "body": "Incidentally, adding a `--` to the end of the `git rev-list` command alters the output to be\n\n```\nerror: No upstream branch found for ''\nerror: No upstream branch found for ''\nfatal: bad revision '@{upstream}...HEAD'\n```\n\nNot that this makes any difference, since we're throwing away the error messages anyway, only the success case matters.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348642/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "kjell": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1871222", "body": "Removing this line breaks multiline prompts. My prompt looks something like:\n\n``` fish\nfunction fish_prompt -d \"Write out the prompt\"\n  printf \"%s\\n%s\" (__prompt_top_line) (__prompt_bottom_line)\nend\n```\n\nwithout this the two segments of my prompt are joined on the same line.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1871222/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "siteshwar": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1877845", "body": "I restored it, thanks! :)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1877845/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2198443", "body": "There's a script called create_manpage_completions.py which is installed in /usr/local/share/fish/tools. You can parse a single man page following way :\n\n/usr/local/share/fish/tools/create_manpage_completions.py /usr/share/man/man1/bash.1.gz --progress\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2198443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2904324", "body": "May be it's a bug in GNU coreutils printf but this line prints `a\\cb` in bash.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2904324/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3258707", "body": "I am not sure if it's a portable way to convet wide characters to numbers.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3258707/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3258742", "body": "This calls exit(0) in GNU coreutils version of printf, but I can't directly exit in a builtin.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3258742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4035024", "body": "Probably replace 'methods' with 'channels'\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4035024/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}]}, "donkeybonks": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1880991", "body": "^ bit of whitespace.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1880991/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "lledey": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1881013", "body": "In almost every file. The worst is complete.cpp I think.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1881013/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "terlar": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1970295", "body": "Thanks for this fix. I was just about to make an issue about rails console not working properly but this fix seems to have addressed that problem.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1970295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5987323", "body": "This method seems like a bunch of junk to me. I suggest only returning the branch name here without all the magic. The variable `__fish_git_prompt_describe_style` is not referred anywhere else. Also the branch `GIT_DIR~` seems a bit lame.\n\nFrom the research I have done, the fastest way to get the git branch is:\n`git symbolic-ref --short --quiet HEAD ^/dev/null`\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5987323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5987631", "body": "I wonder about this part also. It is to make things more dynamic so when the prompt is updated it is repainted. But usually this is accompanied by a new prompt print anyways. I'm not sure this is worth the extra complexity? Not sure this is a performance hit though.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5987631/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5988180", "body": "I'm not familiar with the git-svn, but this logic seems a bit crazy with a lot of special cases and the string manipulation piped out to `/bin/sh`. Maybe could be moved out to a separate function to isolate?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5988180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030966", "body": "These parenthesis needs to be removed. Breaks for me otherwise.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030966/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6044654", "body": "this line is wrong, should be `set nr_of_untracked_files`...\n\nTook a while of debugging until I realized. Didn't know what to expect from this prompt. So wasn't sure about all the numbers and stuff.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6044654/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "nagisa": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2027343", "body": ":star: \n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2027343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "SanskritFritz": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2177341", "body": "It is called \"Hungarian notation\" (http://en.wikipedia.org/wiki/Hungarian_notation)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2177341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2196749", "body": "Is there a way to parse only one man page like in legacy fish?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2196749/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2198486", "body": "Great, thank you.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2198486/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "alisnic": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3234515", "body": "Is there any way to map this to tab?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3234515/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3235058", "body": "Yes, you are probably right, I did a `bind` to \\t to autocomplete suggestion, and it totally messed up my autocompletion for commands.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3235058/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "dag": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3234936", "body": "Yes, but then which should take priority: autosuggest or complete?  Either order will very likely get in the way of the other.  More likely what you're actually after is unifying the two, such that suggestions _are_ completions, perhaps the first completion, which would be more sane but I imagine would still get in the way.  I wish we could bind CTRL-ENTER to \"complete and execute suggestion\", but alas, can't bind CTRL-ENTER in the terminal.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3234936/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4305195", "body": "The rest of the file is using tabs, so this ends up misaligned.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4305195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4380409", "body": "I think you need to quote that command substitution for it to run each time: `-a '(__fish_git_modified_files)'`.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4380409/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "tmaone": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3879502", "body": "This test does not work on Darwin, as there is no '-o' argument available. The following error is appended on every fish-shell launch and eval (on a mac ofc). \n\n```\nuname: illegal option -- o\nusage: uname [-amnprsv]\ntest: Missing argument at index 2\n```\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3879502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3882483", "body": "Can confirm that this commit fixes previous platform test error on Mac OS X. I also use switch statements for platform identification in my scripts. Thanks for the fix. :+1: \n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3882483/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "xfix": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4032207", "body": "@maxfl:\n\nWhen `eval` is used correctly, there is no problem. Correct use is like that.\n\n``` sh\nset -l arguments a b c\neval $command \\$arguments\n```\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4032207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4033410", "body": "@maxfl\n\nI just made error message more consistent. Previously, only something like `a$b` suggested using `eval`, now it's always suggested. It would be good idea to have generic `run` built-in that can take variables, but too lazy to implement it (pull requests are welcome, as always).\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4033410/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6722528", "body": "This sounds wrong. First, quotes aren't quoted, and second, my username is not `romaia`.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6722528/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}]}, "nvie": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3076304", "body": "Couldn't this just be a `builtin cd $i` here (i.e. no `eval` statement)?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3076304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "crishoj": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4306173", "body": "> The rest of the file is using tabs, so this ends up misaligned.\n\nThank you. I've fixed this.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4306173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "ptbrowne": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4380742", "body": "you are right, i have made the modification, sorry for the error :S\n\nOn Fri, May 24, 2013 at 3:02 PM, Dag Odenhall notifications@github.comwrote:\n\n> In share/completions/git.fish:\n> \n> > @@ -93,6 +97,9 @@ complete -f -c git -n '__fish_git_using_command show-branch' -a '(__fish_git_hea\n> > \n> >  ### add\n> >  complete -c git -n '__fish_git_needs_command'    -a add -d 'Add file contents to the index'\n> > +complete -f -c git -n '__fish_git_using_command add; and __fish_contains_opt -s p patch' -a (__fish_git_modified_files)\n> \n> I think you need to quote that command substitution for it to run each\n> time: -a '(__fish_git_modified_files)'.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/fish-shell/fish-shell/pull/822/files#r4380409\n> .\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4380742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "haarts": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4608991", "body": "I've tried (and will keep using) this version. But this first echo should, IMHO, not include a leading space. Let the guy constructing his prompt decide about leading/trailing whitespace. \nI'm using it like so:\n`printf ']%s ' (__informative_git_prompt)`\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4608991/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030589", "body": "I considered that and subsequently benchmarked it. Executing that command takes 4ms on my VPS. I think the 4ms gain do not justify the added complexity.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030594", "body": "I'm now using `$fish_color_normal` as well as the other suggested improvement.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030607", "body": "I did that. \nThe logic is insane and I can hardly test it. But this is better.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030608", "body": "Removed it.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030608/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030618", "body": "Simplified it in https://github.com/haarts/fish-shell/commit/73fc3fd280e8e81127d40700f899fe33e53c772b\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030618/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6064821", "body": "good catch. \nThis prompt should really be just the classic 'informative git prompt' plus a stash notification.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6064821/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "romaia": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6722603", "body": "Indeed. I just copied the description from psql --help without much editing. I will fix this.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6722603/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "mariuszs": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5989319", "body": "I think bold/bright colors are useful, maybe something like this:\n\n```\nset -g __git_prompt_color_clean (set_color -o green)\n```\n\nAfter this labels are much simpler\n\n```\n set concatenated_status $__git_prompt_color_clean$__git_prompt_char_clean$fish_color_normal\n```\n\nIt is better to use `$fish_color_normal` mentioned in documentation, or `set color normal`?\n\n> The following variables are available to change the highlighting colors in fish:\n> \n> fish_color_normal, the default color\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5989319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5989505", "body": "This is slow, two times we are executing  \n\n```\ngit diff --staged --name-status\n```\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5989505/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}}, "3": {"hamon-e": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4669", "title": "Tab Completion", "body": "Hello,\r\n\r\nSeems that last update (2.7.1) broke circular tab completions\r\n\r\nSee this example,\r\n(first command pressing lot of TAB)\r\n(second command pressiong lot of SHIFT-TAB)\r\nhttps://asciinema.org/a/bShqIYrla3TCMwILAyAZShYRs\r\n\r\nAs we can see the first completion doesn't return to the beginning", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Kamik423": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4666", "title": "iTerm window launches twice", "body": "fish, version 2.7.1\r\n\r\nI am using iTerm2 on MacOS.\r\nI had a working Automator AppleScript program for opening an iTerm window at the current finder window on Mac. Worked fine for bash.\r\n\r\n```\r\non run {input, parameters}\r\n\ttell application \"Finder\"\r\n\t\tif exists Finder window 1 then\r\n\t\t\tset dir_path to target of Finder window 1 as alias\r\n\t\telse\r\n\t\t\tset dir_path to desktop as alias\r\n\t\tend if\r\n\tend tell\r\n\tCD_to(quoted form of (POSIX path of (dir_path)))\r\nend run\r\n\r\non CD_to(theDir)\r\n\ttell application \"iTerm\"\r\n\t\ttry\r\n\t\t\tset newWindow to current window\r\n\t\t\t\r\n\t\t\tset sesh to current session\r\n\t\t\ttell newWindow\r\n\t\t\t\tcreate tab with default profile\r\n\t\t\t\tset sesh to current session\r\n\t\t\tend tell\r\n\t\ton error\r\n\t\t\tset newWindow to (create window with default profile)\r\n\t\t\ttell newWindow\r\n\t\t\t\tset sesh to current session\r\n\t\t\tend tell\r\n\t\tend try\r\n\t\t\r\n\t\ttell sesh\r\n\t\t\twrite text \"cd \" & theDir & \"&& clear\"\r\n\t\tend tell\r\n\tend tell\r\nend CD_to\r\n```\r\n\r\nWhen I switched to `fish` this broke, I replaced the `&&` with a `;`. This works, if there already is an iTerm window, but if there is none it opens one which still displays my greeting (so no command was run) and one which correctly changed to the directory and cleared. What is going on\u203d \r\n\r\n(EDITED) Sometimes if I launch iTerm by clicking the icon I can (sometimes) see a second window appear and then vanish immediately. It then gives me a popup `Session #1 just terminated`. I think this is also related.\r\n\r\nThis might also be related to [this](https://github.com/oh-my-fish/oh-my-fish/issues/258) omf issue.\r\n\r\nNot sure if I was supposed to report it here, or to iTerm, but I think this is the right place, because it worked with bash, and seems to be a fish initiation issue.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4666/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dieggsy": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4656", "title": "Using block cursor only for normal state?", "body": "|             |          | \r\n|-----------------|---------|\r\n|fish version | `2.7.0`|\r\n|uname -a | `Linux Ragnarok 4.14.12-1-ARCH #1 SMP PREEMPT Fri Jan 5 18:19:34 UTC 2018 x86_64 GNU/Linux`|\r\n| TERM |   `xterm-termite` or `xterm-256color` (happens with both) | \r\n| `sh -c 'env HOME=$(mktemp -d) fish'` | behavior persists |\r\n\r\nBasically, I use `fish_vi_key_bindings` along with:\r\n```fish\r\nset -U fish_cursor_insert line\r\nset -U fish_cursor_replace_one underscore\r\n```\r\nHowever, when running a repl program like `python` (or really anything else where my cursor is visible, like `pacman -S` and other password prompting programs), the cursor I get is a block (normal mode) cursor. Is there a way for the default cursor in all instances/programs to be a line cursor, and only switch to a bar cursor when explicitly switching to normal mode?", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "zx8": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4650", "title": "Improve $history lookup times", "body": "Since the solution in https://github.com/fish-shell/fish-shell/pull/4461 was rejected, it would be great to have an alternative/performant way of referencing history items, at the least for the \"most recent history item\" (which is certainly the most common use case).\r\n\r\nFor example, I have the following setup (to mimic [bash's `!!` functionality](https://stackoverflow.com/a/15137462)):\r\n\r\n```fish\r\nfunction bind_bang\r\n  switch (commandline -t)\r\n  case \"!\"\r\n    commandline -t $history[1]; commandline -f repaint\r\n  case \"*\"\r\n    commandline -i !\r\n  end\r\nend\r\n\r\nbind ! bind_bang\r\n```\r\n\r\nAnd it's noticeably slower than @krader1961's alternative (i.e. using `history item 1` rather than `$history[1]`), to the point it actually interrupts my thought process while I wait for it to complete the previous command.\r\n  ", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4650/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "italomaia": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4635", "title": "Problems with fish and docker", "body": "fish, version 2.6.0\r\n\r\nWhen I attach to a docker container with fish, I get the message below:\r\n\r\n```\r\nWelcome to fish, the friendly interactive shell\r\n<W> fish: Current terminal parameters have rows and/or columns set to zero.\r\n<W> fish: The stty command can be used to correct this (e.g., stty rows 80 columns 24).\r\n```\r\n\r\nWhen using the console under this circunstance, the text breaks quite badly. To reproduce, run a ubuntu docker, install fish and, from another terminal, docker exec -it into it running the fish command. ", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4635/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "faho": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4633", "title": "cmake/ninja build does not update test files", "body": "When the test files (in tests/) are updated, the cmake build does not get them, so another `ninja test` run will still run the old tests.\r\n\r\nThis just bit me again in #4632.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/56604f598e02daefb38e9702121fc4019d3ee9ef", "message": "[Tests] Add more slack to the bind tests\n\nSome of these were failing on Travis quite often, and this is probably\nthe result of too tight a window.\n\nE.g. one emacs test (transpose words, default timeout, short delay)\nwaited 250ms to enter something else, with a timeout of 300ms. That\nmeant a window of 50ms."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/d67b4d6ca71ada3c5cf92f62fe1e8de3730efa09", "message": "Fix {,,,} tests\n\nThere was an additional line in the output"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/aa58cae6014582e19a6b52db8d0865ae81771b3b", "message": "Don't count successive \",\" as literal in brace expansion\n\nThis was highly surprising.\n\nFixes #3002."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/55ebf4430f19207f24bcee55249bfabc5c46c7de", "message": "Make literal \"{}\" expand to itself\n\nThis caused major annoyances with e.g. `find -exec`, and it's utterly\nuseless - \"{}\" expands to nothing, so why have it at all?\n\nFixes #1109."}], "pull_requests": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4653", "title": "Don't start keepalive process if the first or last process is internal", "body": "## Description\r\n\r\nCurrently, fish spawns a keepalive process when a non-external\r\nprocess (a block/builtin/function) is inside a pipeline.\r\n\r\nThis keepalive process is then made the process group leader, which\r\ntheoretically stops the process group from being coopted by PID\r\nreuse (which I'm still not sure can actually happen).\r\n\r\nBut if a non-external process is first or last in the pipeline, then\r\nfish itself needs to read/write to the terminal, so it should remain\r\npgroup leader, and therefore the keepalive process is not needed.\r\n\r\nFixes #4540.\r\n\r\n## TODOs:\r\n<!-- Just check off what what we know been done so far. We can help you with this stuff. -->\r\n- [N/A] Changes to fish usage are reflected in user documentation/manpages.\r\n- [ ] Tests have been added for regressions fixed\r\n- [ ] User-visible changes noted in CHANGELOG.md\r\n", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4624", "title": "Split command substitutions on NUL if one is found", "body": "## Description:\r\n\r\nCurrently, there is no easy way to use e.g. `find -print0` in command substitutions.\r\n\r\nWhat this does is check if a NUL is in the comsub output and then split on that instead of newline,\r\nwhich makes `something (find -print0)` just work.\r\n\r\nThe one fly in the ointment is if there is a command that uses NULs to separate its output,\r\nbut doesn't print a trailing NUL if there is just one \"thing\" to print.\r\nThat would cause us to fall back to splitting on newlines, which might do the wrong thing.\r\n\r\nSo far, everything I've tested (`find`, `git config -z`) seemed to print a trailing NUL.\r\n\r\nThis implements a proposal by @cben.\r\n\r\nFixes #3164.\r\n\r\n## TODOs:\r\n<!-- Just check off what what we know been done so far. We can help you with this stuff. -->\r\n- [ ] Changes to fish usage are reflected in user documentation/manpages.\r\n- [x] Tests have been added for regressions fixed\r\n- [ ] User-visible changes noted in CHANGELOG.md\r\n\r\n\r\n----\r\n\r\nThis does one extra `memchr` per command substitution, which is probably not significant. But maybe there's an easy way to use that result if there is a NUL?", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4554", "title": "Disable HAVE_BROKEN_WCWIDTH", "body": "## Description\r\n\r\nAs talked about in #4539, this disables HAVE_BROKEN_WCWIDTH.\r\n\r\nIt does not remove fish_wcwidth because I'm assuming that we need to reenable it in a bunch of cases, but I'm assuming the default should be to rely on the OSs implementation\r\n\r\nFixes issue #4539 (and possibly a bunch of others, e.g. #4306).\r\n\r\nThis is probably not something to merge, it's just to allow testing on common ground.\r\n\r\n## TODOs:\r\n<!-- Just check off what what we know been done so far. We can help you with this stuff. -->\r\n- [N/A] Changes to fish usage are reflected in user documentation/manpages.\r\n- [N/A] Tests have been added for regressions fixed\r\n- [ ] User-visible changes noted in CHANGELOG.md\r\n", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "wilhelmy": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4630", "title": "Add dedicated section about array variables, generated commands and argv handling to documentation", "body": "Any opinions?\r\n\r\nPersonally, I think the documentation could be more extensive in this area and it's something I fumble around with clumsily.\r\n\r\nI might write one given positive resonance (if I write it, I want to know I'm not wasting my time and see it merged and I will keep working on it until it meets the demands of any possible criticism) and enough time in the weeks to come.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4543", "title": "Add support for recovery of stale mount-points to cd.fish", "body": "I propose the following change for cd.fish:\r\n\r\n```\r\n--- /usr/share/fish/functions/cd.fish\t2017-10-12 08:34:42.000000000 +0200\r\n+++ .config/fish/functions/cd.fish\t2017-11-19 02:08:40.773047643 +0100\r\n@@ -27,6 +25,12 @@\r\n         return $status\r\n     end\r\n \r\n+    # allow explicit \"cd .\" if the mount-point became stale in the meantime\r\n+    if test \"$argv\" = \".\"\r\n+\tcd \"$PWD\"\r\n+\treturn $status\r\n+    end\r\n+\r\n     builtin cd $argv\r\n     set -l cd_status $status\r\n```\r\n\r\nwhich can help recycling windows where the mountpoint has disappeared and reappeared since. (e.g. stale sshfs mountpoint, which becomes unreachable in case you suspend your machine, which you can recover by rerunning sshfs and then doing another \"cd .\" in all affected fish shells.)", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4543/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dwt": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4627", "title": "Allow to wrap argparse call", "body": "## Environment\r\n```\r\n(virtualfish) dwt@crest ~/C/P/fish> fish --version\r\nfish, version 2.7.0\r\n(virtualfish) dwt@crest ~/C/P/fish>   echo $version\r\n2.7.0\r\n(virtualfish) dwt@crest ~/C/P/fish> uname -a\r\nDarwin crest.fritz.box 17.3.0 Darwin Kernel Version 17.3.0: Thu Nov  9 18:09:22 PST 2017; root:xnu-4570.31.3~1/RELEASE_X86_64 x86_64\r\n(virtualfish) dwt@crest ~/C/P/fish> echo $TERM\r\nxterm-256color\r\n```\r\n# Problem\r\n\r\nI want to wrap a function call, which does it's own argument parsing via `argparse`. My problem is, that there seems to be no way, to tell `argparse` that I only care for my additional argument, and that it shouldn't raise an error for all the other arguments that I don't care for.\r\n\r\nSo, what I'm searching for is a way to tell `argparse` that it should ignore all other arguments, except the one I'm specifying, and especially shall not consume them, but only what was specified.\r\n\r\nThis seems not to be possible.\r\n\r\n# Workaround\r\nI'm currently using this technique to work around the problem\r\n\r\n```fish\r\nfunctions --copy __vf_new __vf__new_projects_original\r\nfunction __vf_new --wraps=__vf_new\r\n    set -l options (fish_opt --short a --required)\r\n    argparse --name 'vf new' $options -- $argv ^/dev/null\r\n    if __vf__new_projects_original $argv; and test -n $_flag_a\r\n        cd $_flag_a\r\n        and pwd >?$VIRTUAL_ENV/.project\r\n    end\r\nend\r\n```\r\n\r\nThis seems to work, but only at the price, that I don't see any error messages from argparse anymore. So I'm searching for a better way.\r\n\r\nIs there an extension of the c-implemented argparse possible, or is there a better workaround? I think that being able to wrap shell commands or fish functions with another function by enhancing the supported arguments is n important and very powerful use case.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4627/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "LandonSchropp": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4620", "title": "Add support for && and ||", "body": "Thanks for creating such an awesome shell! I've been enjoying using it, especially when scripting.\r\n\r\nI'm using Fish 2.7.0 on macOS 10.13.2 inside of a [custom tmux terminal profile](https://github.com/LandonSchropp/dotfiles/blob/master/tmux-256color-italic.terminfo).\r\n\r\nI'd like to request you guys add support for the `&&` and `||` operators. I know fish supports `and` and `or`, but using them feels a bit awkward, especially with the required semicolon.\r\n\r\nGoing off of the [Fish Design Document](https://fishshell.com/docs/current/design.html):\r\n\r\n* *The law of orthogonality*: My suggestion is a violation of this rule. There's no way around that other than the idea that it's syntactic sugar.\r\n* *The law of user focus*: I don't know about anyone else, but I expected these operators to exist when I first used Fish. They're almost universal across other languages and shells, and they're the first thing I reached for. I realized that's a sample size of one, but I wonder if other people expect the same thing. The use of `;` also requires the user to understand that `and` is a command, which adds a bit of cognitive load.\r\n* *The law of discoverability*: When I type `&&` in a command, Fish prints out an error message telling me what I should have used `and` instead. However, I wish would just do what I wanted instead. This feels like when I type `brew update <app>`, and it tells me I should have typed in `brew upgrade <app>`.\r\n\r\nI realize this is a small thing, but it's something I've missed from zsh.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4620/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "cben": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4605", "title": "string escape drops NUL and following text", "body": "fish, version 2.7.0-513-g81dd4a45\r\nLinux, Fedora 27, gnome-terminal (TERM=xterm-256cotor).\r\nConfirmed without customization (`sh -c 'env HOME=$(mktemp -d) fish'`).\r\n\r\nActual behavior: `string escape` doesn't handle NUL:\r\n```\r\n/h/b/fish-shell> printf 'foo\\0bar' | cat -A\r\nfoo^@bar\u23ce\r\n/h/b/fish-shell> printf 'foo\\0bar' | string escape\r\nfoo\r\n```\r\nand `string unescape` has similar problem:\r\n```\r\n/h/b/fish-shell> printf 'escaped\\\\0text' | string unescape\r\nescaped\r\n```\r\n\r\nExpected behavior:\r\n```\r\n/h/b/fish-shell> printf 'foo\\0bar' | string escape\r\nfoo\\0bar\r\n/h/b/fish-shell> printf 'escaped\\\\0text' | string unescape | cat -A\r\nescaped^@text\u23ce\r\n```\r\n\r\nGenerally, it should be possible to round-trip any binary data through `| string escape | string unescape |`.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4605/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sanjibukai": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4603", "title": "Description of command in suggestion list not showing", "body": "Hello,\r\n\r\nI made some custom aliases (using `function` not `alias`) and I tried the complete feature that fish shell provide.\r\nAnd I noticed two problems:\r\n- Command description is not displayed at all in autocomplete suggestions list\r\n- Argument description is displayed sometimes in autocomplete suggestions list\r\n\r\nAs suggested I recorded the behavior https://asciinema.org/a/ykzBJHPSnKlYv1Z0g7QV4JJyx\r\n\r\nHere you can see (at the beginning) that the description of my commands (for example **`g`** and **`ga`** in the first screen) are not showing.\r\nThen you can see (from 0:26) that some arguments descriptions is displayed but not all.\r\nBut in the end (from 0:52) those descriptions are displayed.\r\n\r\nIn order to have some descriptions, I \"tricked\" my aliases so that I defined a main alias (for example here **`g`** for git) and I defined all the aliases (related with git) as argument for this pseudo-command:\r\n\r\nHere is my `g.fish` file including all the `complete` commands:\r\n\r\n    function g\r\n      eval $argv[1]\r\n    end\r\n\r\n    complete -xc g -d \"Git Main Alias file\"\r\n    complete -xc g -a \"gst glg ga ga. gau gco gci gcim gac gacm grls grao gpush\"\r\n    complete -xc g -a gst -d \"Status Short\"\r\n    complete -xc g -a glg -d \"Log Graph Short\"\r\n    complete -xc g -a ga -d \"Add\"\r\n    complete -xc g -a ga. -d \"Add ALL\"\r\n    complete -xc g -a gau -d \"Add Untracked\"\r\n    complete -xc g -a gco -d \"Git checkout\"\r\n    complete -xc g -a gci -d \"Commit Verbose\"\r\n    complete -xc g -a gcim -d \"Commit with CLI Message\"\r\n    complete -xc g -a gac -d \"Add ALL AND Commit Verbose\"\r\n    complete -xc g -a gacm -d \"Add ALL AND Commit with CLI Message\"\r\n    complete -xc g -a grls -d \"List remotes\"\r\n    complete -xc g -a grao -d \"Remote Add Origin\"\r\n    complete -xc g -a gpush -d \"Push Master to Origin\"\r\n\r\nCan anyone confirm if this is a bug or if I misused the `complete` feature?\r\n\r\nFish Version: fish, version 2.6.0\r\nOS: Linux manjaro-vm 4.13.2-1-MANJARO\r\nTerminal: xterm-256color\r\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4603/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sarum9in": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4582", "title": "Bracketed paste mode causes fish to hang on WSL if started as PID=2", "body": "## Environment\r\n$ fish --version\r\nfish, version 2.7.0\r\n$ uname -a\r\n// Note: this is [WSL Ubuntu](https://docs.microsoft.com/en-us/windows/wsl/reference)\r\nLinux XXX 4.4.0-43-Microsoft #1-Microsoft Wed Dec 31 14:42:53 PST 2014 x86_64 x86_64 x86_64 GNU/Linux\r\nTested on terminal emulators:\r\ncmder.exe\r\ncmd.exe\r\n\r\n## strace output (this is infinite loop)\r\n```\r\nwrite(1, \"\\33[?2004l\", 8)               = 8\r\ntime(NULL)                              = 1512877281\r\ntime(NULL)                              = 1512877281\r\nwrite(1, \"\\33[?2004l\", 8)               = 8\r\ntime(NULL)                              = 1512877281\r\ntime(NULL)                              = 1512877281\r\nwrite(1, \"\\33[?2004l\", 8)               = 8\r\n```\r\n## Issue\r\nIf fish is started with pid=2 on WSL it gets stuck inside `__fish_config_interactive`. Printf debugging suggests that stuckness happens on `if not type -q __fish_command_not_found_handler` line, inside `__fish_disable_bracketed_paste` handler. Commenting-out `printf` inside that handler mitigates the issue.\r\n\r\n## Steps to reproduce\r\n\r\n### Naive way in line how issue was noticed\r\n1. From cmd.exe run bash\r\n2. Verify that pid=2 via `echo $$`\r\n3. From bash run `exec fish`\r\n4. At this point fish hangs and terminal is unresponsive.\r\n5. Start another terminal emulator and perform steps 1 and 2.\r\n6. In 2nd terminal emulator you have working fish instance.\r\n7. Run `pkill fish` to kill all running fish instances. Go to step 1 to reproduce again.\r\n\r\n### Another way to reproduce proving that it is related to pid=2\r\n1. From cmd.exe run `bash`\r\n2. From another cmd.exe run `bash`\r\n3. Run `echo $$` in both terminals\r\n4. Run `exec fish` in a terminal where pid!=2, this starts fish just fine\r\n5. Run `exec fish` in a terminal where pid==2, this instance hangs\r\n\r\n4 and 5 can be reordered.\r\n\r\n## Further actions\r\nI am open to debug this further but I am not sure what to look for.\r\n\r\n## Use case\r\nThis is useful if you want to run fish as your main shell in WSL. fish can replace bash on startup via ~/.bashrc. Bash normally starts as pid=2 so as I would expect any other default shell to:\r\n![image](https://user-images.githubusercontent.com/1058248/33801875-258125ac-dd61-11e7-991a-39a75bc3d799.png)\r\n\r\n\r\n## Possible mitigations\r\nMake it possible to disable [bracketed paste mode](https://github.com/fish-shell/fish-shell/pull/3871#issuecomment-321034918). Currently this can be done by either overriding __fish_config_interactive or setting FISH_UNIT_TESTS_RUNNING.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4582/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "erszk": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4578", "title": "Easier access to the directory stack", "body": "In bash, `~-` expands to the last directory you were in (essentially the same as `$OLDPWD`), and `~n` expands to the nth directory in the stack as referenced by the output of `dirs -v`, where 0 is the top of stack, i.e. the current working directory. So, in `fish` terms, `~1` is the same as `$dirstack[1]`.\r\n\r\nThis is one of the most little-known but killer features of bash's `pushd`/`popd`, and in my eyes one of the major reasons they are currently superior to fish's implementation.\r\n\r\nThis allows you, for instance, to quickly look at the output of `dirs -v` if necessary, and then do things like `cp foo.txt ~1/bar` or `mv foo.txt ~-`, with tab completion working etc.\r\n\r\n```fish\r\n$ echo $FISH_VERSION\r\n2.7.0\r\n$ uname -a | sed \"s/\"(hostname)\"/hostname/\"\r\nDarwin hostname 17.2.0 Darwin Kernel Version 17.2.0: Fri Sep 29 18:27:05 PDT 2017; root:xnu-4570.20.62~3/RELEASE_X86_64 x86_64\r\n$ echo $TERM\r\nxterm-256color\r\n```", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4578/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pfgithub": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4572", "title": "ctrl-c does not clear blank lines", "body": "<!--\r\nPlease tell us which fish version you are using by executing the following:\r\n\r\n  fish --version\r\n  echo $version\r\n\r\nPlease tell us which operating system and terminal you are using. The output of `uname -a` and `echo $TERM` may be helpful in this regard although other commands might be relevant in your specific situation.\r\n\r\nPlease tell us if you tried fish without third-party customizations by executing this command and whether it affected the behavior you are reporting:\r\n\r\n  sh -c 'env HOME=$(mktemp -d) fish'\r\n\r\nTell us how to reproduce the problem. Including an asciinema.org recording is useful for problems that involve the visual display of fish output such as its prompt.\r\n-->\r\n\r\n> `fish --version`\r\nfish, version 2.7.0\r\n> `echo $version`\r\n2.7.0\r\n> `uname -a`\r\nDarwin pfgs-MacBook-Pro.local 17.2.0 Darwin Kernel Version 17.2.0: Fri Sep 29 18:27:05 PDT 2017; root:xnu-4570.20.62~3/RELEASE_X86_64 x86_64\r\n> `echo $TERM`\r\nxterm-256color\r\n\r\nProblem still occurs with `sh -c 'env HOME=$(mktemp -d) fish'`\r\n\r\n**Steps to reproduce:**\r\nOpen a terminal window\r\nType nothing\r\nPress control-c\r\n\r\n**What I expected**\r\nSimilar to the functionality of bash and zsh, the current line would be cleared and a new terminal line would appear\r\n\r\n    pfg@pfgs-MacBook-Pro /U/p/D/N/clipass> ^C\r\n    pfg@pfgs-MacBook-Pro /U/p/D/N/clipass> \r\n    \r\n**What Happened**\r\nNothing happened, nothing was outputted, and no new line appeared", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4572/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "msteed": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4570", "title": "tilde characters in cdh tab completions are escaped (sometimes)", "body": "```sh\r\nmsteed@bones:~> fish --version\r\nfish, version 2.7.0\r\nmsteed@bones:~> echo $version\r\n2.7.0\r\nmsteed@bones:~> uname -a\r\nLinux bones 4.13.12-1-ARCH #1 SMP PREEMPT Wed Nov 8 11:54:06 CET 2017 x86_64 GNU/Linux\r\nmsteed@bones:~> echo $TERM\r\ntmux-256color\r\nmsteed@bones:~>\r\n\r\n```\r\n\r\nThe problem:\r\n```sh\r\nmsteed@bones:~> sh -c 'env HOME=$(mktemp -d) fish'\r\nWelcome to fish, the friendly interactive shell\r\nmsteed@bones /h/msteed> cd\r\nmsteed@bones ~> mkdir -p a/b\r\nmsteed@bones ~> cd a/b\r\nmsteed@bones ~/a/b> cd\r\nmsteed@bones ~> cdh a<TAB>\r\n```\r\nWhen I hit <kbd>Tab</kbd>, fish supplies this completion:\r\n```sh\r\nmsteed@bones ~> cdh \\~/a/b\r\n```\r\nIf I accept that, fish (correctly) complains:\r\n```sh\r\ncd: The directory \u201c~/a/b\u201d does not exist\r\n```\r\n\r\nIf I hit <kbd>Tab</kbd> with an empty directory name, i.e., `cdh <TAB>`, fish lists the completions with the `~` characters escaped, but selecting a completion un-escapes the string so the command line is formatted correctly.\r\n\r\nEdit: this may be the problem reported in https://github.com/fish-shell/fish-shell/issues/4566", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Estirp": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4566", "title": "fail to change to a directory setted with read", "body": "fish, version 2.7.0\r\n\r\nFish fail to change to a directory setted with read.\r\n\r\n```\r\nbug> ls\r\n' b'/\r\nbug> read --shell dir\r\nread> \\ b/ (tab pressed)\r\nbug> cd $dir\r\ncd: La fonction '\\ b/' n'existe pas (function '\\b/' does not exists)\r\nbug> echo $dir\r\n\\ b/\r\nbug> cd \\ b/\r\nb/ b> \r\n```\r\n\r\nIt seems about the escape char :\r\n```\r\nbug> read  dir\r\nread>  b\r\nbug> cd $dir\r\nb/ b> \r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "rltbennett": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4555", "title": "In fish_config, allow choosing any color for syntax highlighting", "body": "Fish version: 2.7.0\r\n\r\nIt would be ideal if the fish_config portal allowed choosing arbitrary colors (by RGB, HSB, CMYK etc) for syntax highlighting. Currently it limits the choices to a fairly limited color palette.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "seagreen": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4542", "title": "Allow disabling universal variables", "body": "First, I apologize for opening such a large issue as my first issue. I just read the Design Principles document today and that alone convinced me to switch to Fish. The switch has gone swimmingly so far -- Fish is completely living up to its \"Configurability is the root of all evil\" principle.\r\n\r\nI have run into one moderate problem. I already have a way to manage configuration state between machines (I use version controlled dotfiles, but the particulars of my solution aren't important here -- lots of other people use different ways). This makes Universal Variables a \"Law of Orthogonality\" violation for me. I'd like for my `~/.config/fish/config.fish` file to describe the entire state of Fish configuration on my machine, but now I also have to think about a second mechanism that also has its own way of storing state.\r\n\r\nThe few problems I've had so far have had to do with this issue, for instance not realizing I was setting a Universal Variables in my `config.fish` file, so when I removed it the setting still persisted. Persistent, mutable state on a machine is an easy way to create user confusion, and if we can get away without it (and the `config.fish` file already provides a great way of doing so) I think it's worth considering.\r\n\r\nAlso, thanks for Fish!", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4542/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "JohnMH": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4540", "title": "`read | cat` crashes fish", "body": "fish 2.3.1\r\noperating system: Irrelevant, running under Linux kernel (Also tested on FreeBSD with unknown fish version)\r\nterm: xterm-256color", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4540/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "paulswartz": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4539", "title": "OS X High Sierra: unicode in `fish_prompt` gets wrong length calculated", "body": "fish version: 2.6.0 and fa57565\r\nOS: OS X High Sierra, 10.13.1\r\n\r\nAfter upgrading, having a unicode character in my prompt (along with a right prompt) has the size calculated incorrectly.\r\n\r\n<img width=\"374\" alt=\"screenshot 2017-11-15 15 29 48\" src=\"https://user-images.githubusercontent.com/214921/32858656-31e45652-ca1a-11e7-9f76-d9944e4a382a.png\">\r\n\r\nIn the above screenshot, everything is normal when I have a fully ASCII prompt. When I source my `fish_prompt` to re-add the Unicode character, the cursor is positioned on the next line.\r\n\r\nEverything was working normally before the update to High Sierra. It's not working in either iTerm or Terminal.\r\n\r\nHappy to get any other debugging information.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "PenegalECI": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4537", "title": "Take into account variables when trying to automatically add fuzzy translations", "body": "Hello, there.\r\n\r\nWorking on PR #4470, there is something that bothers me a lot: when using `make po/$LANG.po`, for any language, `make` tries to create fuzzy translations for untranslated items, by searching close ones in the existing translations. Currently, it does not take into account the number of variables, but, this way, you get many translations with different number of variables compared to the original string, and Travis does not like that. Could the Makefile be corrected to prevent auto-translating with variable number mismatches?\r\n\r\nRegards.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4537/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4520", "title": "Reconsider removing '?' wildcard", "body": "Hello, there.\r\n\r\nUsing fish 2.4.0 as packaged by Debian Stretch, I noticed that `zpool`'s `-?` makes fish prompt an error message:\r\n```\r\nroot@Alioth ~ {\u23170/\u2b1354}[1]\uaa5c# zpool -?\r\nNo matches for wildcard '-?'.  (Tip: empty matches are allowed in 'set', 'count', 'for'.)\r\nfish: zpool -?\r\n            ^\r\n```\r\n\r\nIt looks like fish tries to interpret the interrogation mark, whereas it's a legitimate switch of `zpool`:\r\n```\r\nzpool -?                    \r\n                            \r\n    Displays a help message.\r\n```\r\n\r\nSuch a bug seems beyond my development knowledge, so I opened this issue.\r\n\r\n```\r\nroot@Alioth ~ {\u23170/\u2b1354}[0]\uaa5c# fish --version\r\nfish, version 2.4.0\r\nroot@Alioth ~ {\u23170/\u2b1354}[0]\uaa5c# uname -a\r\nLinux Alioth 4.9.0-4-amd64 #1 SMP Debian 4.9.51-1 (2017-09-28) x86_64 GNU/Linux\r\nroot@Alioth ~ {\u23170/\u2b1354}[0]\uaa5c# echo $TERM\r\nscreen\r\n```\r\n\r\nFWIW, fish executes in a tmux session, though I don't think it matters. If you need more data, feel free to ask it.\r\n\r\nRegards.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4520/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "timofonic": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4531", "title": "(ncurses-git? related error when compiling fish-git from Archlinux AUR", "body": "*  fish --version: fish, version 2.6.0-750-ged0a57ff\r\n\r\nPlease tell us which operating system and terminal you are using. The output of \r\n* `uname -a` : Linux timolaptop 4.13.0-1035f22af3e97 #1 SMP PREEMPT Fri Sep 1 06:05:09 CEST 2017 x86_64 GNU/Linux\r\n* `echo $TERM` : xterm-256color (I use Terminology)\r\n\r\nI installed fish-git successfully, but this error appeared while compiling it. I use ncurses-git.\r\n\r\n```\r\nrm -f lib/libmuparser.a\r\nar rcu lib/libmuparser.a muParser_lib_muParser.o muParser_lib_muParserBase.o muP\r\narser_lib_muParserBytecode.o muParser_lib_muParserCallback.o muParser_lib_muPars\r\nerDLL.o muParser_lib_muParserError.o muParser_lib_muParserInt.o muParser_lib_muP\r\narserTest.o muParser_lib_muParserTokenReader.o\r\nar: `u' modifier ignored since `D' is the default (see `U')\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib lib/libmuparser.a\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n```", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4531/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "rocketraman": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4519", "title": "COLUMNS seems incorrect for powerline-go", "body": "# Meta-data:\r\n\r\n```\r\n# fish --version\r\nfish, version 2.3.1\r\n\r\n# uname -a\r\nLinux edison 4.13.5-200.fc26.x86_64 #1 SMP Thu Oct 5 16:53:13 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n# echo $TERM\r\nxterm-256color\r\n```\r\n\r\nTried without third-party customizations and still have the same issue.\r\n\r\n# Problem:\r\n\r\nI am attempting to use powerline-go. For some reason, my prompt is truncated. In discussion in a powerline-go issue, the claim by the author is that fish is not reporting COLUMNS correctly, which is causing the prompt truncation. See https://github.com/justjanne/powerline-go/issues/46#issuecomment-341641769 and the previous few comments.\r\n\r\nIs it possible to confirm somehow whether the problem is definitely in `fish` or in `powerline-go`?", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4519/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "MindTooth": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/fde647214d0cb8e9f3fcdcd7437fad47f57f7d32", "message": "brew.fish: added cask completion & tweaks"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/721df61f4b21a96aeed9a65e1b59ee05833ea813", "message": "brew.fish: add the leaves option (#4645)"}], "pull_requests": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4670", "title": "[RFC] diskutil.fish: added apfs completion", "body": "## Description\r\n\r\nAdded APFS completion to the diskutil.fish file.\r\n\r\nPlease take a look, am I on the right track?\r\n\r\n## TODOs:\r\n<!-- Just check off what what we know been done so far. We can help you with this stuff. -->\r\n- [ ] Changes to fish usage are reflected in user documentation/manpages.\r\n- [ ] Tests have been added for regressions fixed\r\n- [x] User-visible changes noted in CHANGELOG.md\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "thomcc": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/7b88187310f2e9204a07724d3456c6c58e1923c6", "message": "Add ability to autosave functions at the end of funced"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/42fa8415736d8a7108f59e791085f99831402b1a", "message": "Fix #4480 by using a temporary file with a redirect to the correct location."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/7dae40a240f1fbf284ac97adf933de3b3798be18", "message": "Revert \"Work around OS X issue with dropped #fragment in launched URLs\"\n\nThis reverts commit 80b658e2474a96e92eccc510506818a197fc9fa1."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "zanchey": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/b6202c3c86a0bf9cf73e010533993bff31d3a198", "message": "[cmake] actually use libintil headers/libraries if detected\n\nCloses #4663."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/38c4437d79e9a6b4e2b77cdec320b7caac3affa1", "message": "travis: add a CMake build\n\nUses an out-of-tree build; in-tree builds do not work.\n\nNo make uninstall test (CMake does not support this)."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8875f0ad7663a25b51d41ae556bb88320ab70d0c", "message": "[cmake] make building documentation optional\n\nAdd a BUILD_DOCS option which is contingent on Doxygen being present,\nand only build the documentation if this is enabled."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8eb0608b00fd35e0aa882f1fdf6767ecb9f4cbd3", "message": "[cmake] make build_lexicon_filter part of DocTargets only"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/088fc6003b7940a09fe5bda688a86eefbc730484", "message": "[cmake] use appropriate configure policies where possible"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/85131452fafb2827c4dee2cb06cbc474ef417171", "message": "apt: add completions for policy\n\nCloses #4652."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/af5869886b544d2e4a84c03941d75ebc125b2b8d", "message": "travis: use default OS X image"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "raichoo": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/069e4fdd8d5a8596961be7b6ba1b20b8c49208e9", "message": "do not depend on bash being installed in /bin (#4661)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "lourkeur": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8b530839971e48c6f93ef4666bda8288daf987fb", "message": "[PO][FR] translation fixes (#4655)\n\n* [PO][FR]fix translation\r\n\r\n\"key\" was being translated to \"fonction\". (\"function\")\r\nBased the new wording on the above translation.\r\n\r\n* [PO][FR]fix translation\r\n\r\n\"directory\" was being translated to \"fonction\". (\"function\")\r\n\r\n* [PO][FR]fix translation\r\n\r\n\"Permission denied\" was being translated to \"Nom de fonction ill\u00e9gal\". (\"Illegal function name\")\r\nI took the new translation from strerror.\r\n\r\n* [PO][FR]fix translation\r\n\r\n\"Introduction\" was being translated to \"Instruction ill\u00e9gale\". (\"illegal instruction\")\r\n\r\n* $ make po/fr.po\r\n\r\n* #4655: changes requested by @PenegalECI\r\n\r\n* fix some automatically generated translations\r\n\r\nuniformly translate \"logging\" to \"journalisation\"."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "ridiculousfish": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8a78dca26fbd6dd17d857f2e21a0ba2c475fadb2", "message": "Remove PRE_BUILD from tests_dir target\n\nIt doesn't seem necessary and I can't justify what it's there for."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8a67a113d850fc6f43ff019ad38f40f5c968dd47", "message": "Revert \"Work around cmake/ninja bug that leads to installation failure\"\n\nThis reverts commit 36a2f2cc01c2a04b240819884f41174cf56f79a6.\n\nThis attempted to modify RPATH when building with Ninja, but the CMake if\nstatement wasn't actually valid so this wasn't doing anything. This check\ncouldn't really be tested - let's make sure not to accumulate build system\nrules that we don't understand."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/de8ccf1751cdd55ef2ba37125bc23c4f7dd404a7", "message": "Stop warning on invalid PATHs and CDPATHs if any element is valid\n\nSome dotfile users like to add directories to PATH that point at\nnon-existent directories (because those directories exist on other\nmachines). Stop warning in that case, unless those directories contain\na colon, in which case it's probably a user error."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/96d524304d4c5096cbccef794227c0ae25264bc2", "message": "Add #4649 to changelog"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/46db0dd5eb59bc62f1b735b97ecbdece8c87f389", "message": "Stop checking EXPAND_SPECIAL_FOR_CD if ..._AUTOSUGGEST is set\n\nIf EXPAND_SPECIAL_FOR_CD_AUTOSUGGEST is set, EXPAND_SPECIAL_FOR_CD\nis necessarily also set; simplify things by only checking for the\nlatter."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/faa17ec849758b96878974791f37e7ef98a500e4", "message": "Correct a comment in git_version_gen.sh"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/d09210c08bc8e36ac32727ef12bf3ce35f5374ee", "message": "[cmake] Untangle the CMake versioning\n\nThis untangles the CMake versioning issues (I hope) as discussed in #4626.\nNote most of the advice found on the Internet about how to inject git\nversions into CMake is just wrong.\n\nThe behavior we want is to unconditionally run the script\nbuild_tools/git_version_gen.sh at build time (i.e. when you invoke ninja or\nmake, and not when you invoke cmake, which is build system generation time).\nThis script is careful to only update the FISH-BUILD-VERSION-FILE if the\ncontents have changed, to avoid spurious rebuilding dependencies of\nFISH-BUILD-VERSION-FILE. Assuming the git version hasn't changed, the script\nwill run, but not update FISH-BUILD-VERSION-FILE, and therefore\nfish_version.o will not have to be rebuilt.\n\nThis might normally rebuild more than is necessary even if the timestamp is\nnot updated, because ninja computes the dependency chain ahead of time. But\nNinja also supports the 'restat' option for just this case, and CMake is rad\nand exposes this via BYPRODUCTS. So mark FISH-BUILD-VERSION-FILE as a\nbyproduct and make the script always update a dummy file\n(fish-build-version-witness.txt). Note this is the use case for which\nBYPRODUCTS is designed.\n\nWe also have fish_version.cpp #include \"FISH-BUILD-VERSION-FILE\", and do a\nsemi-silly thing and make FISH-BUILD-VERSION-FILE valid C++ (so there's just\none version file). This means we have to filter out the quotes in other\ncases.."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/21cfdf04bd584bd89689e7507296472fc57321c1", "message": "Revert \"[cmake] Remove build_fish_pc target\"\n\nThis reverts commit 585321181d1f7573813ed8083a06118ab1d6a6a2.\n\nWith the build_fish_pc target, a command like this fails:\n  env DESTDIR=/tmp/fish-install ninja install"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/da8db7f6f01c91866d22934cba207299acc59fde", "message": "Revert \"Generate FISH_BUILD_VERSION info for cmake builds\"\n\nThis reverts commit 25839b8c361e1dcd5f96a5e05bb48616c5531061.\n\nThis was an attempt to simplify the version generation, but it\ncomputed the version at build sytem generation time rather than\nat build time, requiring another run of CMake to update it."}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/5664464", "body": "Fixed as c15975113ab80241c71dc6dfa41a470b232de4ce\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/5664464/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/5682025", "body": "It's supposed to work that way, it was just busted in certain cases. Now there's some tests.\nFixed in fish_fish branch:\n=> Syncing Gitorious... [OK]\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   c159751..129525a  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/5682025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6029479", "body": "Siteshwar is nearly finished with this\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6029479/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051198", "body": "Thank you, I've merged the fix.\n\nWhile that fixes the immediate issue, I will keep this bug open to track getting off of which entirely. which is not the correct way to determine if a command exists.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051202", "body": "Thanks, you rock! I've merged this.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051230", "body": "I will leave this bug open to track the issue of other Python scripts, such as share/tools/web_config/webconfig.py .\n\nKeeping these scripts compatible with Python2 and Python3 seems like it would be a lot of maintenance work. I would like to find a way to portable request Python2 (or 3) for all such scripts.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051230/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051252", "body": "Cool, I never knew about 'funded' or 'funcsave'\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051252/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051256", "body": "s/funded/funced\n\nDarn you autocomplete.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6070803", "body": "Hopefully addressed by this commit:\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   377d93d..9255f62  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6070803/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6070805", "body": "Hopefully addressed by this commit:\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   377d93d..9255f62  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6070805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6071087", "body": "Nope, the problem is that fish_indent is busted\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6071087/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6071385", "body": "Fixed by this commit:\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   9255f62..ae12e1b  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6071385/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6107387", "body": "The issue turned out to be that path_make_canonical() mishandles the path \"/\", returning an empty string instead. Fixed and added a test in this commit:\n\n=> Syncing Gitorious... [OK]\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   457e6a5..cc90f9c  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6107387/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6107398", "body": "Thank you etu for your investigation.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6107398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "commit_comments": [], "review_comments": []}, "mtbrock": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/bf63e061c9abecf8b44c2b1b00b1b4badeb7ba48", "message": "Fix overzealous cd tab completion\n\nChanged cd completion to differentiate between cd autosuggest and cd tab\ncompletion. cd autosuggest will find deepest unique hierarchy and cd tab\ncompletion will not.\n\nIssue #4402"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pinage404": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/1af4acbd0e67c4a493d4ce88d99af36d5d954c21", "message": "Add: `ngrok` completions (#4642)\n\nCompletions are based on the help messages of [ngrok](https://ngrok.com/)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "yursan9": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4662", "title": "Update Eopkg support", "body": "Refactor __fish_eopkg_option and __fish_eopkg_option_with_shortcut to use function argument.\r\n\r\nAdd new options for some subcommand:\r\n\r\n- list-available\r\n- list-components\r\n- list-upgrades\r\n- list-installed", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "maxfl": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031291", "body": "default completions are also can not be overridden. \n\nfish_default_keybindings as well can not be overridden. There is no way to set user bindings for now. \nconfig.fish is loaded before bindings are reset.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6040265", "body": "Fish loads bindings after reading config.fish, and just before doing it, it resets existing bindings.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6040265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "adisbladis": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031927", "body": "https://gitorious.org/~ridiculousfish/fish-shell/fishfish/merge_requests/1\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031927/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031948", "body": "I have a fix in: https://gitorious.org/~ridiculousfish/fish-shell/fishfish/merge_requests/2#377d93d1cf56080d345611fe0faedae1e9ded1fe-377d93d1cf56080d345611fe0faedae1e9ded1fe@1\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031948/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031985", "body": "I might add that this fix makes the scripts compatible with both python 2 and 3, so no matter which python \"#!/usr/bin/env python\" invokes this will work.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031985/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6034813", "body": "Isn't this something that you should place in your config.fish instead?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6034813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6065057", "body": "On my system ^W removes the text and adds it to the kill ring.\nWith ^K however the text is killed, added to the kill ring but not removed from the prompt until I type something else, so this is only an estethical issue for me, my build is from git.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6065057/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6079487", "body": "We could use the fish-function type instead:\ntype -P command-not-found > /dev/null\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6079487/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6080034", "body": "I think the effort should be to make the scripts python3 only.\nSure, python2 will be around for some considerable time to come but some GNU/Linux distributions (Arch Linux and Gentoo for example) are now shipped without python2.\n\nI would like some external input on this so my efforts are not wasted.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6080034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "etu": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6053562", "body": "`funced` is cool couse it opens an already existing function to edit it, and then you can save functions with `funcsave`. Very usefull.\n\nAt least in fish and not fishfish ;)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6053562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075591", "body": "yep, works.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075591/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075738", "body": "Uh, this also seems to work after your fixes on `~/.config/fish/functions/` or something?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075738/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6076352", "body": "One idea of soution might be to look into `$PWD` and the fish-function `prompt_pwd`\n\nfish & fishfish:\n\n```\n$ cd /\n$ echo $PWD\n\n$\n```\n\nfish:\n\n```\n$ cd /\n$ pwd\n\n$\n```\n\nfishfish:\n\n```\n$ cd /\n$ pwd\n/\n$\n```\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6076352/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6076434", "body": "this one is also fixed yes, someone can close it? :)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6076434/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6083169", "body": "Got time to research more now...\n\nIt's the empty `$PWD` that couses everything.\n\nIf I change the function `__fish_complete_cd` to do `set -l wd (pwd)` instead of `set -l wd $PWD`, things will work. But things would probably be slower too...\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6083169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "twm": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075200", "body": "I regularly use implicit cd, but I have set CDPATH to . because I found the results of combining the two confusing.  I'd suggest either (1), with changing CDPATH a sufficient degree of configurability, or (2).\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "martinklepsch": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348535", "body": "I dont know exactly what `set upstream '@{upstream}'` does but this does not seem to work here.\n`$upstream` needs to be something like `origin/master` here. \n\nI'm willing to fix this but I've no idea about what `set upstream '@{upstream}'` is meant to be...\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348535/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348566", "body": "Like that: `git rev-list --count --left-right '@{upstream}'...HEAD` ?\n\nI tried that with `upstream` and `origin` (I only have `origin`) and I keep getting this:\n\n```\nfatal: ambiguous argument '@{origin}...HEAD': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions\n```\n\n(I also tried with and without quotes)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348679", "body": "```\n>> git rev-list --count --left-right '@{upstream}'...HEAD\nerror: No upstream configured for branch 'master'\nerror: No upstream configured for branch 'master'\nerror: No upstream configured for branch 'master'\nfatal: ambiguous argument '@{upstream}...HEAD': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions\n```\n\nPassing `-u` to `git push` solved the problem! Thanks\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}, "kballard": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348544", "body": "No, that's correct. '@{upstream}' is a syntax that git understands to be the upstream of the current branch. Perhaps you don't have an upstream set?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348544/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348630", "body": "Was that all you get? In a fresh repo with no upstream I get\n\n```\n> git rev-list --count --left-right '@{upstream}'...HEAD\nerror: No upstream branch found for ''\nerror: No upstream branch found for ''\nerror: No upstream branch found for ''\nfatal: ambiguous argument '@{upstream}...HEAD': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions\n```\n\n(the quotes are required or fish will strip the curly braces).\n\nThis is not surprising. You have no upstream. The end result of this command is that `count` will contain the empty string, which you see on line 182 is treated as no upstream.\n\nIn order to set an upstream you need to pass the `-u` flag to `git push` or the `--set-upstream`/`--track` flags to git branch (see the manpages).\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348642", "body": "Incidentally, adding a `--` to the end of the `git rev-list` command alters the output to be\n\n```\nerror: No upstream branch found for ''\nerror: No upstream branch found for ''\nfatal: bad revision '@{upstream}...HEAD'\n```\n\nNot that this makes any difference, since we're throwing away the error messages anyway, only the success case matters.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348642/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "nvie": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3076304", "body": "Couldn't this just be a `builtin cd $i` here (i.e. no `eval` statement)?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3076304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "siteshwar": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3258707", "body": "I am not sure if it's a portable way to convet wide characters to numbers.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3258707/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3258742", "body": "This calls exit(0) in GNU coreutils version of printf, but I can't directly exit in a builtin.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3258742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4035024", "body": "Probably replace 'methods' with 'channels'\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4035024/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}]}, "dag": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4305195", "body": "The rest of the file is using tabs, so this ends up misaligned.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4305195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4380409", "body": "I think you need to quote that command substitution for it to run each time: `-a '(__fish_git_modified_files)'`.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4380409/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "crishoj": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4306173", "body": "> The rest of the file is using tabs, so this ends up misaligned.\n\nThank you. I've fixed this.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4306173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "ptbrowne": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4380742", "body": "you are right, i have made the modification, sorry for the error :S\n\nOn Fri, May 24, 2013 at 3:02 PM, Dag Odenhall notifications@github.comwrote:\n\n> In share/completions/git.fish:\n> \n> > @@ -93,6 +97,9 @@ complete -f -c git -n '__fish_git_using_command show-branch' -a '(__fish_git_hea\n> > \n> >  ### add\n> >  complete -c git -n '__fish_git_needs_command'    -a add -d 'Add file contents to the index'\n> > +complete -f -c git -n '__fish_git_using_command add; and __fish_contains_opt -s p patch' -a (__fish_git_modified_files)\n> \n> I think you need to quote that command substitution for it to run each\n> time: -a '(__fish_git_modified_files)'.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/fish-shell/fish-shell/pull/822/files#r4380409\n> .\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4380742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "haarts": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4608991", "body": "I've tried (and will keep using) this version. But this first echo should, IMHO, not include a leading space. Let the guy constructing his prompt decide about leading/trailing whitespace. \nI'm using it like so:\n`printf ']%s ' (__informative_git_prompt)`\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4608991/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030589", "body": "I considered that and subsequently benchmarked it. Executing that command takes 4ms on my VPS. I think the 4ms gain do not justify the added complexity.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030594", "body": "I'm now using `$fish_color_normal` as well as the other suggested improvement.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030607", "body": "I did that. \nThe logic is insane and I can hardly test it. But this is better.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030608", "body": "Removed it.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030608/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030618", "body": "Simplified it in https://github.com/haarts/fish-shell/commit/73fc3fd280e8e81127d40700f899fe33e53c772b\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030618/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6064821", "body": "good catch. \nThis prompt should really be just the classic 'informative git prompt' plus a stash notification.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6064821/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "xfix": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6722528", "body": "This sounds wrong. First, quotes aren't quoted, and second, my username is not `romaia`.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6722528/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}]}, "romaia": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6722603", "body": "Indeed. I just copied the description from psql --help without much editing. I will fix this.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6722603/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "terlar": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5987323", "body": "This method seems like a bunch of junk to me. I suggest only returning the branch name here without all the magic. The variable `__fish_git_prompt_describe_style` is not referred anywhere else. Also the branch `GIT_DIR~` seems a bit lame.\n\nFrom the research I have done, the fastest way to get the git branch is:\n`git symbolic-ref --short --quiet HEAD ^/dev/null`\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5987323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5987631", "body": "I wonder about this part also. It is to make things more dynamic so when the prompt is updated it is repainted. But usually this is accompanied by a new prompt print anyways. I'm not sure this is worth the extra complexity? Not sure this is a performance hit though.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5987631/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5988180", "body": "I'm not familiar with the git-svn, but this logic seems a bit crazy with a lot of special cases and the string manipulation piped out to `/bin/sh`. Maybe could be moved out to a separate function to isolate?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5988180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030966", "body": "These parenthesis needs to be removed. Breaks for me otherwise.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030966/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6044654", "body": "this line is wrong, should be `set nr_of_untracked_files`...\n\nTook a while of debugging until I realized. Didn't know what to expect from this prompt. So wasn't sure about all the numbers and stuff.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6044654/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "mariuszs": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5989319", "body": "I think bold/bright colors are useful, maybe something like this:\n\n```\nset -g __git_prompt_color_clean (set_color -o green)\n```\n\nAfter this labels are much simpler\n\n```\n set concatenated_status $__git_prompt_color_clean$__git_prompt_char_clean$fish_color_normal\n```\n\nIt is better to use `$fish_color_normal` mentioned in documentation, or `set color normal`?\n\n> The following variables are available to change the highlighting colors in fish:\n> \n> fish_color_normal, the default color\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5989319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5989505", "body": "This is slow, two times we are executing  \n\n```\ngit diff --staged --name-status\n```\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5989505/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}}, "4": {"hamon-e": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4669", "title": "Tab Completion", "body": "Hello,\r\n\r\nSeems that last update (2.7.1) broke circular tab completions\r\n\r\nSee this example,\r\n(first command pressing lot of TAB)\r\n(second command pressiong lot of SHIFT-TAB)\r\nhttps://asciinema.org/a/bShqIYrla3TCMwILAyAZShYRs\r\n\r\nAs we can see the first completion doesn't return to the beginning", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Kamik423": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4666", "title": "iTerm window launches twice", "body": "fish, version 2.7.1\r\n\r\nI am using iTerm2 on MacOS.\r\nI had a working Automator AppleScript program for opening an iTerm window at the current finder window on Mac. Worked fine for bash.\r\n\r\n```\r\non run {input, parameters}\r\n\ttell application \"Finder\"\r\n\t\tif exists Finder window 1 then\r\n\t\t\tset dir_path to target of Finder window 1 as alias\r\n\t\telse\r\n\t\t\tset dir_path to desktop as alias\r\n\t\tend if\r\n\tend tell\r\n\tCD_to(quoted form of (POSIX path of (dir_path)))\r\nend run\r\n\r\non CD_to(theDir)\r\n\ttell application \"iTerm\"\r\n\t\ttry\r\n\t\t\tset newWindow to current window\r\n\t\t\t\r\n\t\t\tset sesh to current session\r\n\t\t\ttell newWindow\r\n\t\t\t\tcreate tab with default profile\r\n\t\t\t\tset sesh to current session\r\n\t\t\tend tell\r\n\t\ton error\r\n\t\t\tset newWindow to (create window with default profile)\r\n\t\t\ttell newWindow\r\n\t\t\t\tset sesh to current session\r\n\t\t\tend tell\r\n\t\tend try\r\n\t\t\r\n\t\ttell sesh\r\n\t\t\twrite text \"cd \" & theDir & \"&& clear\"\r\n\t\tend tell\r\n\tend tell\r\nend CD_to\r\n```\r\n\r\nWhen I switched to `fish` this broke, I replaced the `&&` with a `;`. This works, if there already is an iTerm window, but if there is none it opens one which still displays my greeting (so no command was run) and one which correctly changed to the directory and cleared. What is going on\u203d \r\n\r\n(EDITED) Sometimes if I launch iTerm by clicking the icon I can (sometimes) see a second window appear and then vanish immediately. It then gives me a popup `Session #1 just terminated`. I think this is also related.\r\n\r\nThis might also be related to [this](https://github.com/oh-my-fish/oh-my-fish/issues/258) omf issue.\r\n\r\nNot sure if I was supposed to report it here, or to iTerm, but I think this is the right place, because it worked with bash, and seems to be a fish initiation issue.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4666/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dieggsy": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4656", "title": "Using block cursor only for normal state?", "body": "|             |          | \r\n|-----------------|---------|\r\n|fish version | `2.7.0`|\r\n|uname -a | `Linux Ragnarok 4.14.12-1-ARCH #1 SMP PREEMPT Fri Jan 5 18:19:34 UTC 2018 x86_64 GNU/Linux`|\r\n| TERM |   `xterm-termite` or `xterm-256color` (happens with both) | \r\n| `sh -c 'env HOME=$(mktemp -d) fish'` | behavior persists |\r\n\r\nBasically, I use `fish_vi_key_bindings` along with:\r\n```fish\r\nset -U fish_cursor_insert line\r\nset -U fish_cursor_replace_one underscore\r\n```\r\nHowever, when running a repl program like `python` (or really anything else where my cursor is visible, like `pacman -S` and other password prompting programs), the cursor I get is a block (normal mode) cursor. Is there a way for the default cursor in all instances/programs to be a line cursor, and only switch to a bar cursor when explicitly switching to normal mode?", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "zx8": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4650", "title": "Improve $history lookup times", "body": "Since the solution in https://github.com/fish-shell/fish-shell/pull/4461 was rejected, it would be great to have an alternative/performant way of referencing history items, at the least for the \"most recent history item\" (which is certainly the most common use case).\r\n\r\nFor example, I have the following setup (to mimic [bash's `!!` functionality](https://stackoverflow.com/a/15137462)):\r\n\r\n```fish\r\nfunction bind_bang\r\n  switch (commandline -t)\r\n  case \"!\"\r\n    commandline -t $history[1]; commandline -f repaint\r\n  case \"*\"\r\n    commandline -i !\r\n  end\r\nend\r\n\r\nbind ! bind_bang\r\n```\r\n\r\nAnd it's noticeably slower than @krader1961's alternative (i.e. using `history item 1` rather than `$history[1]`), to the point it actually interrupts my thought process while I wait for it to complete the previous command.\r\n  ", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4650/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "italomaia": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4635", "title": "Problems with fish and docker", "body": "fish, version 2.6.0\r\n\r\nWhen I attach to a docker container with fish, I get the message below:\r\n\r\n```\r\nWelcome to fish, the friendly interactive shell\r\n<W> fish: Current terminal parameters have rows and/or columns set to zero.\r\n<W> fish: The stty command can be used to correct this (e.g., stty rows 80 columns 24).\r\n```\r\n\r\nWhen using the console under this circunstance, the text breaks quite badly. To reproduce, run a ubuntu docker, install fish and, from another terminal, docker exec -it into it running the fish command. ", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4635/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "faho": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4633", "title": "cmake/ninja build does not update test files", "body": "When the test files (in tests/) are updated, the cmake build does not get them, so another `ninja test` run will still run the old tests.\r\n\r\nThis just bit me again in #4632.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/56604f598e02daefb38e9702121fc4019d3ee9ef", "message": "[Tests] Add more slack to the bind tests\n\nSome of these were failing on Travis quite often, and this is probably\nthe result of too tight a window.\n\nE.g. one emacs test (transpose words, default timeout, short delay)\nwaited 250ms to enter something else, with a timeout of 300ms. That\nmeant a window of 50ms."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/d67b4d6ca71ada3c5cf92f62fe1e8de3730efa09", "message": "Fix {,,,} tests\n\nThere was an additional line in the output"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/aa58cae6014582e19a6b52db8d0865ae81771b3b", "message": "Don't count successive \",\" as literal in brace expansion\n\nThis was highly surprising.\n\nFixes #3002."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/55ebf4430f19207f24bcee55249bfabc5c46c7de", "message": "Make literal \"{}\" expand to itself\n\nThis caused major annoyances with e.g. `find -exec`, and it's utterly\nuseless - \"{}\" expands to nothing, so why have it at all?\n\nFixes #1109."}], "pull_requests": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4653", "title": "Don't start keepalive process if the first or last process is internal", "body": "## Description\r\n\r\nCurrently, fish spawns a keepalive process when a non-external\r\nprocess (a block/builtin/function) is inside a pipeline.\r\n\r\nThis keepalive process is then made the process group leader, which\r\ntheoretically stops the process group from being coopted by PID\r\nreuse (which I'm still not sure can actually happen).\r\n\r\nBut if a non-external process is first or last in the pipeline, then\r\nfish itself needs to read/write to the terminal, so it should remain\r\npgroup leader, and therefore the keepalive process is not needed.\r\n\r\nFixes #4540.\r\n\r\n## TODOs:\r\n<!-- Just check off what what we know been done so far. We can help you with this stuff. -->\r\n- [N/A] Changes to fish usage are reflected in user documentation/manpages.\r\n- [ ] Tests have been added for regressions fixed\r\n- [ ] User-visible changes noted in CHANGELOG.md\r\n", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4624", "title": "Split command substitutions on NUL if one is found", "body": "## Description:\r\n\r\nCurrently, there is no easy way to use e.g. `find -print0` in command substitutions.\r\n\r\nWhat this does is check if a NUL is in the comsub output and then split on that instead of newline,\r\nwhich makes `something (find -print0)` just work.\r\n\r\nThe one fly in the ointment is if there is a command that uses NULs to separate its output,\r\nbut doesn't print a trailing NUL if there is just one \"thing\" to print.\r\nThat would cause us to fall back to splitting on newlines, which might do the wrong thing.\r\n\r\nSo far, everything I've tested (`find`, `git config -z`) seemed to print a trailing NUL.\r\n\r\nThis implements a proposal by @cben.\r\n\r\nFixes #3164.\r\n\r\n## TODOs:\r\n<!-- Just check off what what we know been done so far. We can help you with this stuff. -->\r\n- [ ] Changes to fish usage are reflected in user documentation/manpages.\r\n- [x] Tests have been added for regressions fixed\r\n- [ ] User-visible changes noted in CHANGELOG.md\r\n\r\n\r\n----\r\n\r\nThis does one extra `memchr` per command substitution, which is probably not significant. But maybe there's an easy way to use that result if there is a NUL?", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4554", "title": "Disable HAVE_BROKEN_WCWIDTH", "body": "## Description\r\n\r\nAs talked about in #4539, this disables HAVE_BROKEN_WCWIDTH.\r\n\r\nIt does not remove fish_wcwidth because I'm assuming that we need to reenable it in a bunch of cases, but I'm assuming the default should be to rely on the OSs implementation\r\n\r\nFixes issue #4539 (and possibly a bunch of others, e.g. #4306).\r\n\r\nThis is probably not something to merge, it's just to allow testing on common ground.\r\n\r\n## TODOs:\r\n<!-- Just check off what what we know been done so far. We can help you with this stuff. -->\r\n- [N/A] Changes to fish usage are reflected in user documentation/manpages.\r\n- [N/A] Tests have been added for regressions fixed\r\n- [ ] User-visible changes noted in CHANGELOG.md\r\n", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "wilhelmy": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4630", "title": "Add dedicated section about array variables, generated commands and argv handling to documentation", "body": "Any opinions?\r\n\r\nPersonally, I think the documentation could be more extensive in this area and it's something I fumble around with clumsily.\r\n\r\nI might write one given positive resonance (if I write it, I want to know I'm not wasting my time and see it merged and I will keep working on it until it meets the demands of any possible criticism) and enough time in the weeks to come.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4543", "title": "Add support for recovery of stale mount-points to cd.fish", "body": "I propose the following change for cd.fish:\r\n\r\n```\r\n--- /usr/share/fish/functions/cd.fish\t2017-10-12 08:34:42.000000000 +0200\r\n+++ .config/fish/functions/cd.fish\t2017-11-19 02:08:40.773047643 +0100\r\n@@ -27,6 +25,12 @@\r\n         return $status\r\n     end\r\n \r\n+    # allow explicit \"cd .\" if the mount-point became stale in the meantime\r\n+    if test \"$argv\" = \".\"\r\n+\tcd \"$PWD\"\r\n+\treturn $status\r\n+    end\r\n+\r\n     builtin cd $argv\r\n     set -l cd_status $status\r\n```\r\n\r\nwhich can help recycling windows where the mountpoint has disappeared and reappeared since. (e.g. stale sshfs mountpoint, which becomes unreachable in case you suspend your machine, which you can recover by rerunning sshfs and then doing another \"cd .\" in all affected fish shells.)", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4543/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dwt": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4627", "title": "Allow to wrap argparse call", "body": "## Environment\r\n```\r\n(virtualfish) dwt@crest ~/C/P/fish> fish --version\r\nfish, version 2.7.0\r\n(virtualfish) dwt@crest ~/C/P/fish>   echo $version\r\n2.7.0\r\n(virtualfish) dwt@crest ~/C/P/fish> uname -a\r\nDarwin crest.fritz.box 17.3.0 Darwin Kernel Version 17.3.0: Thu Nov  9 18:09:22 PST 2017; root:xnu-4570.31.3~1/RELEASE_X86_64 x86_64\r\n(virtualfish) dwt@crest ~/C/P/fish> echo $TERM\r\nxterm-256color\r\n```\r\n# Problem\r\n\r\nI want to wrap a function call, which does it's own argument parsing via `argparse`. My problem is, that there seems to be no way, to tell `argparse` that I only care for my additional argument, and that it shouldn't raise an error for all the other arguments that I don't care for.\r\n\r\nSo, what I'm searching for is a way to tell `argparse` that it should ignore all other arguments, except the one I'm specifying, and especially shall not consume them, but only what was specified.\r\n\r\nThis seems not to be possible.\r\n\r\n# Workaround\r\nI'm currently using this technique to work around the problem\r\n\r\n```fish\r\nfunctions --copy __vf_new __vf__new_projects_original\r\nfunction __vf_new --wraps=__vf_new\r\n    set -l options (fish_opt --short a --required)\r\n    argparse --name 'vf new' $options -- $argv ^/dev/null\r\n    if __vf__new_projects_original $argv; and test -n $_flag_a\r\n        cd $_flag_a\r\n        and pwd >?$VIRTUAL_ENV/.project\r\n    end\r\nend\r\n```\r\n\r\nThis seems to work, but only at the price, that I don't see any error messages from argparse anymore. So I'm searching for a better way.\r\n\r\nIs there an extension of the c-implemented argparse possible, or is there a better workaround? I think that being able to wrap shell commands or fish functions with another function by enhancing the supported arguments is n important and very powerful use case.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4627/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "LandonSchropp": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4620", "title": "Add support for && and ||", "body": "Thanks for creating such an awesome shell! I've been enjoying using it, especially when scripting.\r\n\r\nI'm using Fish 2.7.0 on macOS 10.13.2 inside of a [custom tmux terminal profile](https://github.com/LandonSchropp/dotfiles/blob/master/tmux-256color-italic.terminfo).\r\n\r\nI'd like to request you guys add support for the `&&` and `||` operators. I know fish supports `and` and `or`, but using them feels a bit awkward, especially with the required semicolon.\r\n\r\nGoing off of the [Fish Design Document](https://fishshell.com/docs/current/design.html):\r\n\r\n* *The law of orthogonality*: My suggestion is a violation of this rule. There's no way around that other than the idea that it's syntactic sugar.\r\n* *The law of user focus*: I don't know about anyone else, but I expected these operators to exist when I first used Fish. They're almost universal across other languages and shells, and they're the first thing I reached for. I realized that's a sample size of one, but I wonder if other people expect the same thing. The use of `;` also requires the user to understand that `and` is a command, which adds a bit of cognitive load.\r\n* *The law of discoverability*: When I type `&&` in a command, Fish prints out an error message telling me what I should have used `and` instead. However, I wish would just do what I wanted instead. This feels like when I type `brew update <app>`, and it tells me I should have typed in `brew upgrade <app>`.\r\n\r\nI realize this is a small thing, but it's something I've missed from zsh.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4620/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "cben": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4605", "title": "string escape drops NUL and following text", "body": "fish, version 2.7.0-513-g81dd4a45\r\nLinux, Fedora 27, gnome-terminal (TERM=xterm-256cotor).\r\nConfirmed without customization (`sh -c 'env HOME=$(mktemp -d) fish'`).\r\n\r\nActual behavior: `string escape` doesn't handle NUL:\r\n```\r\n/h/b/fish-shell> printf 'foo\\0bar' | cat -A\r\nfoo^@bar\u23ce\r\n/h/b/fish-shell> printf 'foo\\0bar' | string escape\r\nfoo\r\n```\r\nand `string unescape` has similar problem:\r\n```\r\n/h/b/fish-shell> printf 'escaped\\\\0text' | string unescape\r\nescaped\r\n```\r\n\r\nExpected behavior:\r\n```\r\n/h/b/fish-shell> printf 'foo\\0bar' | string escape\r\nfoo\\0bar\r\n/h/b/fish-shell> printf 'escaped\\\\0text' | string unescape | cat -A\r\nescaped^@text\u23ce\r\n```\r\n\r\nGenerally, it should be possible to round-trip any binary data through `| string escape | string unescape |`.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4605/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sanjibukai": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4603", "title": "Description of command in suggestion list not showing", "body": "Hello,\r\n\r\nI made some custom aliases (using `function` not `alias`) and I tried the complete feature that fish shell provide.\r\nAnd I noticed two problems:\r\n- Command description is not displayed at all in autocomplete suggestions list\r\n- Argument description is displayed sometimes in autocomplete suggestions list\r\n\r\nAs suggested I recorded the behavior https://asciinema.org/a/ykzBJHPSnKlYv1Z0g7QV4JJyx\r\n\r\nHere you can see (at the beginning) that the description of my commands (for example **`g`** and **`ga`** in the first screen) are not showing.\r\nThen you can see (from 0:26) that some arguments descriptions is displayed but not all.\r\nBut in the end (from 0:52) those descriptions are displayed.\r\n\r\nIn order to have some descriptions, I \"tricked\" my aliases so that I defined a main alias (for example here **`g`** for git) and I defined all the aliases (related with git) as argument for this pseudo-command:\r\n\r\nHere is my `g.fish` file including all the `complete` commands:\r\n\r\n    function g\r\n      eval $argv[1]\r\n    end\r\n\r\n    complete -xc g -d \"Git Main Alias file\"\r\n    complete -xc g -a \"gst glg ga ga. gau gco gci gcim gac gacm grls grao gpush\"\r\n    complete -xc g -a gst -d \"Status Short\"\r\n    complete -xc g -a glg -d \"Log Graph Short\"\r\n    complete -xc g -a ga -d \"Add\"\r\n    complete -xc g -a ga. -d \"Add ALL\"\r\n    complete -xc g -a gau -d \"Add Untracked\"\r\n    complete -xc g -a gco -d \"Git checkout\"\r\n    complete -xc g -a gci -d \"Commit Verbose\"\r\n    complete -xc g -a gcim -d \"Commit with CLI Message\"\r\n    complete -xc g -a gac -d \"Add ALL AND Commit Verbose\"\r\n    complete -xc g -a gacm -d \"Add ALL AND Commit with CLI Message\"\r\n    complete -xc g -a grls -d \"List remotes\"\r\n    complete -xc g -a grao -d \"Remote Add Origin\"\r\n    complete -xc g -a gpush -d \"Push Master to Origin\"\r\n\r\nCan anyone confirm if this is a bug or if I misused the `complete` feature?\r\n\r\nFish Version: fish, version 2.6.0\r\nOS: Linux manjaro-vm 4.13.2-1-MANJARO\r\nTerminal: xterm-256color\r\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4603/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sarum9in": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4582", "title": "Bracketed paste mode causes fish to hang on WSL if started as PID=2", "body": "## Environment\r\n$ fish --version\r\nfish, version 2.7.0\r\n$ uname -a\r\n// Note: this is [WSL Ubuntu](https://docs.microsoft.com/en-us/windows/wsl/reference)\r\nLinux XXX 4.4.0-43-Microsoft #1-Microsoft Wed Dec 31 14:42:53 PST 2014 x86_64 x86_64 x86_64 GNU/Linux\r\nTested on terminal emulators:\r\ncmder.exe\r\ncmd.exe\r\n\r\n## strace output (this is infinite loop)\r\n```\r\nwrite(1, \"\\33[?2004l\", 8)               = 8\r\ntime(NULL)                              = 1512877281\r\ntime(NULL)                              = 1512877281\r\nwrite(1, \"\\33[?2004l\", 8)               = 8\r\ntime(NULL)                              = 1512877281\r\ntime(NULL)                              = 1512877281\r\nwrite(1, \"\\33[?2004l\", 8)               = 8\r\n```\r\n## Issue\r\nIf fish is started with pid=2 on WSL it gets stuck inside `__fish_config_interactive`. Printf debugging suggests that stuckness happens on `if not type -q __fish_command_not_found_handler` line, inside `__fish_disable_bracketed_paste` handler. Commenting-out `printf` inside that handler mitigates the issue.\r\n\r\n## Steps to reproduce\r\n\r\n### Naive way in line how issue was noticed\r\n1. From cmd.exe run bash\r\n2. Verify that pid=2 via `echo $$`\r\n3. From bash run `exec fish`\r\n4. At this point fish hangs and terminal is unresponsive.\r\n5. Start another terminal emulator and perform steps 1 and 2.\r\n6. In 2nd terminal emulator you have working fish instance.\r\n7. Run `pkill fish` to kill all running fish instances. Go to step 1 to reproduce again.\r\n\r\n### Another way to reproduce proving that it is related to pid=2\r\n1. From cmd.exe run `bash`\r\n2. From another cmd.exe run `bash`\r\n3. Run `echo $$` in both terminals\r\n4. Run `exec fish` in a terminal where pid!=2, this starts fish just fine\r\n5. Run `exec fish` in a terminal where pid==2, this instance hangs\r\n\r\n4 and 5 can be reordered.\r\n\r\n## Further actions\r\nI am open to debug this further but I am not sure what to look for.\r\n\r\n## Use case\r\nThis is useful if you want to run fish as your main shell in WSL. fish can replace bash on startup via ~/.bashrc. Bash normally starts as pid=2 so as I would expect any other default shell to:\r\n![image](https://user-images.githubusercontent.com/1058248/33801875-258125ac-dd61-11e7-991a-39a75bc3d799.png)\r\n\r\n\r\n## Possible mitigations\r\nMake it possible to disable [bracketed paste mode](https://github.com/fish-shell/fish-shell/pull/3871#issuecomment-321034918). Currently this can be done by either overriding __fish_config_interactive or setting FISH_UNIT_TESTS_RUNNING.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4582/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "erszk": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4578", "title": "Easier access to the directory stack", "body": "In bash, `~-` expands to the last directory you were in (essentially the same as `$OLDPWD`), and `~n` expands to the nth directory in the stack as referenced by the output of `dirs -v`, where 0 is the top of stack, i.e. the current working directory. So, in `fish` terms, `~1` is the same as `$dirstack[1]`.\r\n\r\nThis is one of the most little-known but killer features of bash's `pushd`/`popd`, and in my eyes one of the major reasons they are currently superior to fish's implementation.\r\n\r\nThis allows you, for instance, to quickly look at the output of `dirs -v` if necessary, and then do things like `cp foo.txt ~1/bar` or `mv foo.txt ~-`, with tab completion working etc.\r\n\r\n```fish\r\n$ echo $FISH_VERSION\r\n2.7.0\r\n$ uname -a | sed \"s/\"(hostname)\"/hostname/\"\r\nDarwin hostname 17.2.0 Darwin Kernel Version 17.2.0: Fri Sep 29 18:27:05 PDT 2017; root:xnu-4570.20.62~3/RELEASE_X86_64 x86_64\r\n$ echo $TERM\r\nxterm-256color\r\n```", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4578/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pfgithub": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4572", "title": "ctrl-c does not clear blank lines", "body": "<!--\r\nPlease tell us which fish version you are using by executing the following:\r\n\r\n  fish --version\r\n  echo $version\r\n\r\nPlease tell us which operating system and terminal you are using. The output of `uname -a` and `echo $TERM` may be helpful in this regard although other commands might be relevant in your specific situation.\r\n\r\nPlease tell us if you tried fish without third-party customizations by executing this command and whether it affected the behavior you are reporting:\r\n\r\n  sh -c 'env HOME=$(mktemp -d) fish'\r\n\r\nTell us how to reproduce the problem. Including an asciinema.org recording is useful for problems that involve the visual display of fish output such as its prompt.\r\n-->\r\n\r\n> `fish --version`\r\nfish, version 2.7.0\r\n> `echo $version`\r\n2.7.0\r\n> `uname -a`\r\nDarwin pfgs-MacBook-Pro.local 17.2.0 Darwin Kernel Version 17.2.0: Fri Sep 29 18:27:05 PDT 2017; root:xnu-4570.20.62~3/RELEASE_X86_64 x86_64\r\n> `echo $TERM`\r\nxterm-256color\r\n\r\nProblem still occurs with `sh -c 'env HOME=$(mktemp -d) fish'`\r\n\r\n**Steps to reproduce:**\r\nOpen a terminal window\r\nType nothing\r\nPress control-c\r\n\r\n**What I expected**\r\nSimilar to the functionality of bash and zsh, the current line would be cleared and a new terminal line would appear\r\n\r\n    pfg@pfgs-MacBook-Pro /U/p/D/N/clipass> ^C\r\n    pfg@pfgs-MacBook-Pro /U/p/D/N/clipass> \r\n    \r\n**What Happened**\r\nNothing happened, nothing was outputted, and no new line appeared", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4572/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "msteed": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4570", "title": "tilde characters in cdh tab completions are escaped (sometimes)", "body": "```sh\r\nmsteed@bones:~> fish --version\r\nfish, version 2.7.0\r\nmsteed@bones:~> echo $version\r\n2.7.0\r\nmsteed@bones:~> uname -a\r\nLinux bones 4.13.12-1-ARCH #1 SMP PREEMPT Wed Nov 8 11:54:06 CET 2017 x86_64 GNU/Linux\r\nmsteed@bones:~> echo $TERM\r\ntmux-256color\r\nmsteed@bones:~>\r\n\r\n```\r\n\r\nThe problem:\r\n```sh\r\nmsteed@bones:~> sh -c 'env HOME=$(mktemp -d) fish'\r\nWelcome to fish, the friendly interactive shell\r\nmsteed@bones /h/msteed> cd\r\nmsteed@bones ~> mkdir -p a/b\r\nmsteed@bones ~> cd a/b\r\nmsteed@bones ~/a/b> cd\r\nmsteed@bones ~> cdh a<TAB>\r\n```\r\nWhen I hit <kbd>Tab</kbd>, fish supplies this completion:\r\n```sh\r\nmsteed@bones ~> cdh \\~/a/b\r\n```\r\nIf I accept that, fish (correctly) complains:\r\n```sh\r\ncd: The directory \u201c~/a/b\u201d does not exist\r\n```\r\n\r\nIf I hit <kbd>Tab</kbd> with an empty directory name, i.e., `cdh <TAB>`, fish lists the completions with the `~` characters escaped, but selecting a completion un-escapes the string so the command line is formatted correctly.\r\n\r\nEdit: this may be the problem reported in https://github.com/fish-shell/fish-shell/issues/4566", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Estirp": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4566", "title": "fail to change to a directory setted with read", "body": "fish, version 2.7.0\r\n\r\nFish fail to change to a directory setted with read.\r\n\r\n```\r\nbug> ls\r\n' b'/\r\nbug> read --shell dir\r\nread> \\ b/ (tab pressed)\r\nbug> cd $dir\r\ncd: La fonction '\\ b/' n'existe pas (function '\\b/' does not exists)\r\nbug> echo $dir\r\n\\ b/\r\nbug> cd \\ b/\r\nb/ b> \r\n```\r\n\r\nIt seems about the escape char :\r\n```\r\nbug> read  dir\r\nread>  b\r\nbug> cd $dir\r\nb/ b> \r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "rltbennett": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4555", "title": "In fish_config, allow choosing any color for syntax highlighting", "body": "Fish version: 2.7.0\r\n\r\nIt would be ideal if the fish_config portal allowed choosing arbitrary colors (by RGB, HSB, CMYK etc) for syntax highlighting. Currently it limits the choices to a fairly limited color palette.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "seagreen": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4542", "title": "Allow disabling universal variables", "body": "First, I apologize for opening such a large issue as my first issue. I just read the Design Principles document today and that alone convinced me to switch to Fish. The switch has gone swimmingly so far -- Fish is completely living up to its \"Configurability is the root of all evil\" principle.\r\n\r\nI have run into one moderate problem. I already have a way to manage configuration state between machines (I use version controlled dotfiles, but the particulars of my solution aren't important here -- lots of other people use different ways). This makes Universal Variables a \"Law of Orthogonality\" violation for me. I'd like for my `~/.config/fish/config.fish` file to describe the entire state of Fish configuration on my machine, but now I also have to think about a second mechanism that also has its own way of storing state.\r\n\r\nThe few problems I've had so far have had to do with this issue, for instance not realizing I was setting a Universal Variables in my `config.fish` file, so when I removed it the setting still persisted. Persistent, mutable state on a machine is an easy way to create user confusion, and if we can get away without it (and the `config.fish` file already provides a great way of doing so) I think it's worth considering.\r\n\r\nAlso, thanks for Fish!", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4542/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "JohnMH": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4540", "title": "`read | cat` crashes fish", "body": "fish 2.3.1\r\noperating system: Irrelevant, running under Linux kernel (Also tested on FreeBSD with unknown fish version)\r\nterm: xterm-256color", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4540/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "paulswartz": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4539", "title": "OS X High Sierra: unicode in `fish_prompt` gets wrong length calculated", "body": "fish version: 2.6.0 and fa57565\r\nOS: OS X High Sierra, 10.13.1\r\n\r\nAfter upgrading, having a unicode character in my prompt (along with a right prompt) has the size calculated incorrectly.\r\n\r\n<img width=\"374\" alt=\"screenshot 2017-11-15 15 29 48\" src=\"https://user-images.githubusercontent.com/214921/32858656-31e45652-ca1a-11e7-9f76-d9944e4a382a.png\">\r\n\r\nIn the above screenshot, everything is normal when I have a fully ASCII prompt. When I source my `fish_prompt` to re-add the Unicode character, the cursor is positioned on the next line.\r\n\r\nEverything was working normally before the update to High Sierra. It's not working in either iTerm or Terminal.\r\n\r\nHappy to get any other debugging information.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "PenegalECI": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4537", "title": "Take into account variables when trying to automatically add fuzzy translations", "body": "Hello, there.\r\n\r\nWorking on PR #4470, there is something that bothers me a lot: when using `make po/$LANG.po`, for any language, `make` tries to create fuzzy translations for untranslated items, by searching close ones in the existing translations. Currently, it does not take into account the number of variables, but, this way, you get many translations with different number of variables compared to the original string, and Travis does not like that. Could the Makefile be corrected to prevent auto-translating with variable number mismatches?\r\n\r\nRegards.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4537/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4520", "title": "Reconsider removing '?' wildcard", "body": "Hello, there.\r\n\r\nUsing fish 2.4.0 as packaged by Debian Stretch, I noticed that `zpool`'s `-?` makes fish prompt an error message:\r\n```\r\nroot@Alioth ~ {\u23170/\u2b1354}[1]\uaa5c# zpool -?\r\nNo matches for wildcard '-?'.  (Tip: empty matches are allowed in 'set', 'count', 'for'.)\r\nfish: zpool -?\r\n            ^\r\n```\r\n\r\nIt looks like fish tries to interpret the interrogation mark, whereas it's a legitimate switch of `zpool`:\r\n```\r\nzpool -?                    \r\n                            \r\n    Displays a help message.\r\n```\r\n\r\nSuch a bug seems beyond my development knowledge, so I opened this issue.\r\n\r\n```\r\nroot@Alioth ~ {\u23170/\u2b1354}[0]\uaa5c# fish --version\r\nfish, version 2.4.0\r\nroot@Alioth ~ {\u23170/\u2b1354}[0]\uaa5c# uname -a\r\nLinux Alioth 4.9.0-4-amd64 #1 SMP Debian 4.9.51-1 (2017-09-28) x86_64 GNU/Linux\r\nroot@Alioth ~ {\u23170/\u2b1354}[0]\uaa5c# echo $TERM\r\nscreen\r\n```\r\n\r\nFWIW, fish executes in a tmux session, though I don't think it matters. If you need more data, feel free to ask it.\r\n\r\nRegards.", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4520/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "timofonic": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4531", "title": "(ncurses-git? related error when compiling fish-git from Archlinux AUR", "body": "*  fish --version: fish, version 2.6.0-750-ged0a57ff\r\n\r\nPlease tell us which operating system and terminal you are using. The output of \r\n* `uname -a` : Linux timolaptop 4.13.0-1035f22af3e97 #1 SMP PREEMPT Fri Sep 1 06:05:09 CEST 2017 x86_64 GNU/Linux\r\n* `echo $TERM` : xterm-256color (I use Terminology)\r\n\r\nI installed fish-git successfully, but this error appeared while compiling it. I use ncurses-git.\r\n\r\n```\r\nrm -f lib/libmuparser.a\r\nar rcu lib/libmuparser.a muParser_lib_muParser.o muParser_lib_muParserBase.o muP\r\narser_lib_muParserBytecode.o muParser_lib_muParserCallback.o muParser_lib_muPars\r\nerDLL.o muParser_lib_muParserError.o muParser_lib_muParserInt.o muParser_lib_muP\r\narserTest.o muParser_lib_muParserTokenReader.o\r\nar: `u' modifier ignored since `D' is the default (see `U')\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nar: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib lib/libmuparser.a\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n\r\nranlib: libtinfo.so.6: cannot open shared object file: No such file or directory\r\n```", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4531/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "rocketraman": {"issues": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4519", "title": "COLUMNS seems incorrect for powerline-go", "body": "# Meta-data:\r\n\r\n```\r\n# fish --version\r\nfish, version 2.3.1\r\n\r\n# uname -a\r\nLinux edison 4.13.5-200.fc26.x86_64 #1 SMP Thu Oct 5 16:53:13 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n# echo $TERM\r\nxterm-256color\r\n```\r\n\r\nTried without third-party customizations and still have the same issue.\r\n\r\n# Problem:\r\n\r\nI am attempting to use powerline-go. For some reason, my prompt is truncated. In discussion in a powerline-go issue, the claim by the author is that fish is not reporting COLUMNS correctly, which is causing the prompt truncation. See https://github.com/justjanne/powerline-go/issues/46#issuecomment-341641769 and the previous few comments.\r\n\r\nIs it possible to confirm somehow whether the problem is definitely in `fish` or in `powerline-go`?", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/4519/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "MindTooth": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/fde647214d0cb8e9f3fcdcd7437fad47f57f7d32", "message": "brew.fish: added cask completion & tweaks"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/721df61f4b21a96aeed9a65e1b59ee05833ea813", "message": "brew.fish: add the leaves option (#4645)"}], "pull_requests": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4670", "title": "[RFC] diskutil.fish: added apfs completion", "body": "## Description\r\n\r\nAdded APFS completion to the diskutil.fish file.\r\n\r\nPlease take a look, am I on the right track?\r\n\r\n## TODOs:\r\n<!-- Just check off what what we know been done so far. We can help you with this stuff. -->\r\n- [ ] Changes to fish usage are reflected in user documentation/manpages.\r\n- [ ] Tests have been added for regressions fixed\r\n- [x] User-visible changes noted in CHANGELOG.md\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "thomcc": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/7b88187310f2e9204a07724d3456c6c58e1923c6", "message": "Add ability to autosave functions at the end of funced"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/42fa8415736d8a7108f59e791085f99831402b1a", "message": "Fix #4480 by using a temporary file with a redirect to the correct location."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/7dae40a240f1fbf284ac97adf933de3b3798be18", "message": "Revert \"Work around OS X issue with dropped #fragment in launched URLs\"\n\nThis reverts commit 80b658e2474a96e92eccc510506818a197fc9fa1."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "zanchey": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/b6202c3c86a0bf9cf73e010533993bff31d3a198", "message": "[cmake] actually use libintil headers/libraries if detected\n\nCloses #4663."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/38c4437d79e9a6b4e2b77cdec320b7caac3affa1", "message": "travis: add a CMake build\n\nUses an out-of-tree build; in-tree builds do not work.\n\nNo make uninstall test (CMake does not support this)."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8875f0ad7663a25b51d41ae556bb88320ab70d0c", "message": "[cmake] make building documentation optional\n\nAdd a BUILD_DOCS option which is contingent on Doxygen being present,\nand only build the documentation if this is enabled."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8eb0608b00fd35e0aa882f1fdf6767ecb9f4cbd3", "message": "[cmake] make build_lexicon_filter part of DocTargets only"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/088fc6003b7940a09fe5bda688a86eefbc730484", "message": "[cmake] use appropriate configure policies where possible"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/85131452fafb2827c4dee2cb06cbc474ef417171", "message": "apt: add completions for policy\n\nCloses #4652."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/af5869886b544d2e4a84c03941d75ebc125b2b8d", "message": "travis: use default OS X image"}], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3240469", "body": "Incidentally - the Makefile in the tarball depends on build_tools/make_documentation.sh\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3240469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3240945", "body": "(if you run make distclean and then make.)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3240945/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3865466", "body": "Also needs completions updated\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3865466/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "review_comments": []}, "raichoo": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/069e4fdd8d5a8596961be7b6ba1b20b8c49208e9", "message": "do not depend on bash being installed in /bin (#4661)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "lourkeur": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8b530839971e48c6f93ef4666bda8288daf987fb", "message": "[PO][FR] translation fixes (#4655)\n\n* [PO][FR]fix translation\r\n\r\n\"key\" was being translated to \"fonction\". (\"function\")\r\nBased the new wording on the above translation.\r\n\r\n* [PO][FR]fix translation\r\n\r\n\"directory\" was being translated to \"fonction\". (\"function\")\r\n\r\n* [PO][FR]fix translation\r\n\r\n\"Permission denied\" was being translated to \"Nom de fonction ill\u00e9gal\". (\"Illegal function name\")\r\nI took the new translation from strerror.\r\n\r\n* [PO][FR]fix translation\r\n\r\n\"Introduction\" was being translated to \"Instruction ill\u00e9gale\". (\"illegal instruction\")\r\n\r\n* $ make po/fr.po\r\n\r\n* #4655: changes requested by @PenegalECI\r\n\r\n* fix some automatically generated translations\r\n\r\nuniformly translate \"logging\" to \"journalisation\"."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "ridiculousfish": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8a78dca26fbd6dd17d857f2e21a0ba2c475fadb2", "message": "Remove PRE_BUILD from tests_dir target\n\nIt doesn't seem necessary and I can't justify what it's there for."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/8a67a113d850fc6f43ff019ad38f40f5c968dd47", "message": "Revert \"Work around cmake/ninja bug that leads to installation failure\"\n\nThis reverts commit 36a2f2cc01c2a04b240819884f41174cf56f79a6.\n\nThis attempted to modify RPATH when building with Ninja, but the CMake if\nstatement wasn't actually valid so this wasn't doing anything. This check\ncouldn't really be tested - let's make sure not to accumulate build system\nrules that we don't understand."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/de8ccf1751cdd55ef2ba37125bc23c4f7dd404a7", "message": "Stop warning on invalid PATHs and CDPATHs if any element is valid\n\nSome dotfile users like to add directories to PATH that point at\nnon-existent directories (because those directories exist on other\nmachines). Stop warning in that case, unless those directories contain\na colon, in which case it's probably a user error."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/96d524304d4c5096cbccef794227c0ae25264bc2", "message": "Add #4649 to changelog"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/46db0dd5eb59bc62f1b735b97ecbdece8c87f389", "message": "Stop checking EXPAND_SPECIAL_FOR_CD if ..._AUTOSUGGEST is set\n\nIf EXPAND_SPECIAL_FOR_CD_AUTOSUGGEST is set, EXPAND_SPECIAL_FOR_CD\nis necessarily also set; simplify things by only checking for the\nlatter."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/faa17ec849758b96878974791f37e7ef98a500e4", "message": "Correct a comment in git_version_gen.sh"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/d09210c08bc8e36ac32727ef12bf3ce35f5374ee", "message": "[cmake] Untangle the CMake versioning\n\nThis untangles the CMake versioning issues (I hope) as discussed in #4626.\nNote most of the advice found on the Internet about how to inject git\nversions into CMake is just wrong.\n\nThe behavior we want is to unconditionally run the script\nbuild_tools/git_version_gen.sh at build time (i.e. when you invoke ninja or\nmake, and not when you invoke cmake, which is build system generation time).\nThis script is careful to only update the FISH-BUILD-VERSION-FILE if the\ncontents have changed, to avoid spurious rebuilding dependencies of\nFISH-BUILD-VERSION-FILE. Assuming the git version hasn't changed, the script\nwill run, but not update FISH-BUILD-VERSION-FILE, and therefore\nfish_version.o will not have to be rebuilt.\n\nThis might normally rebuild more than is necessary even if the timestamp is\nnot updated, because ninja computes the dependency chain ahead of time. But\nNinja also supports the 'restat' option for just this case, and CMake is rad\nand exposes this via BYPRODUCTS. So mark FISH-BUILD-VERSION-FILE as a\nbyproduct and make the script always update a dummy file\n(fish-build-version-witness.txt). Note this is the use case for which\nBYPRODUCTS is designed.\n\nWe also have fish_version.cpp #include \"FISH-BUILD-VERSION-FILE\", and do a\nsemi-silly thing and make FISH-BUILD-VERSION-FILE valid C++ (so there's just\none version file). This means we have to filter out the quotes in other\ncases.."}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/21cfdf04bd584bd89689e7507296472fc57321c1", "message": "Revert \"[cmake] Remove build_fish_pc target\"\n\nThis reverts commit 585321181d1f7573813ed8083a06118ab1d6a6a2.\n\nWith the build_fish_pc target, a command like this fails:\n  env DESTDIR=/tmp/fish-install ninja install"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/da8db7f6f01c91866d22934cba207299acc59fde", "message": "Revert \"Generate FISH_BUILD_VERSION info for cmake builds\"\n\nThis reverts commit 25839b8c361e1dcd5f96a5e05bb48616c5531061.\n\nThis was an attempt to simplify the version generation, but it\ncomputed the version at build sytem generation time rather than\nat build time, requiring another run of CMake to update it."}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/5664464", "body": "Fixed as c15975113ab80241c71dc6dfa41a470b232de4ce\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/5664464/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/5682025", "body": "It's supposed to work that way, it was just busted in certain cases. Now there's some tests.\nFixed in fish_fish branch:\n=> Syncing Gitorious... [OK]\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   c159751..129525a  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/5682025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6029479", "body": "Siteshwar is nearly finished with this\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6029479/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051198", "body": "Thank you, I've merged the fix.\n\nWhile that fixes the immediate issue, I will keep this bug open to track getting off of which entirely. which is not the correct way to determine if a command exists.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051202", "body": "Thanks, you rock! I've merged this.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051230", "body": "I will leave this bug open to track the issue of other Python scripts, such as share/tools/web_config/webconfig.py .\n\nKeeping these scripts compatible with Python2 and Python3 seems like it would be a lot of maintenance work. I would like to find a way to portable request Python2 (or 3) for all such scripts.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051230/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051252", "body": "Cool, I never knew about 'funded' or 'funcsave'\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051252/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051256", "body": "s/funded/funced\n\nDarn you autocomplete.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6051256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6070803", "body": "Hopefully addressed by this commit:\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   377d93d..9255f62  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6070803/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6070805", "body": "Hopefully addressed by this commit:\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   377d93d..9255f62  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6070805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6071087", "body": "Nope, the problem is that fish_indent is busted\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6071087/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6071385", "body": "Fixed by this commit:\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   9255f62..ae12e1b  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6071385/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6107387", "body": "The issue turned out to be that path_make_canonical() mishandles the path \"/\", returning an empty string instead. Fixed and added a test in this commit:\n\n=> Syncing Gitorious... [OK]\nTo git@gitorious.org:~ridiculousfish/fish-shell/fishfish.git\n   457e6a5..cc90f9c  fish_fish -> fish_fish\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6107387/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6107398", "body": "Thank you etu for your investigation.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6107398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3105598", "body": "Glad someone is watching!\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3105598/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3990030", "body": "Indentation fixed as df0aaa1ebe6d0ca520a866be2f402d41bcad280c\nThanks.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3990030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "review_comments": []}, "mtbrock": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/bf63e061c9abecf8b44c2b1b00b1b4badeb7ba48", "message": "Fix overzealous cd tab completion\n\nChanged cd completion to differentiate between cd autosuggest and cd tab\ncompletion. cd autosuggest will find deepest unique hierarchy and cd tab\ncompletion will not.\n\nIssue #4402"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pinage404": {"issues": [], "commits": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/commits/1af4acbd0e67c4a493d4ce88d99af36d5d954c21", "message": "Add: `ngrok` completions (#4642)\n\nCompletions are based on the help messages of [ngrok](https://ngrok.com/)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "yursan9": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/4662", "title": "Update Eopkg support", "body": "Refactor __fish_eopkg_option and __fish_eopkg_option_with_shortcut to use function argument.\r\n\r\nAdd new options for some subcommand:\r\n\r\n- list-available\r\n- list-components\r\n- list-upgrades\r\n- list-installed", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "maxfl": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031291", "body": "default completions are also can not be overridden. \n\nfish_default_keybindings as well can not be overridden. There is no way to set user bindings for now. \nconfig.fish is loaded before bindings are reset.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6040265", "body": "Fish loads bindings after reading config.fish, and just before doing it, it resets existing bindings.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6040265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4019029", "body": "I think it should be noted that eval is not a sufficient replacement, because it breaks the quoting.\nIn other case the behavior for the user can be unexpected.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4019029/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4032836", "body": "Wow, didn't know about this, thanks.\nBut naive expectation is that \neval $command arg1 \"arg2 with spaces\"\nwill work correctly. I think it worth noting that one should use eval 'correctly'.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4032836/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "adisbladis": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031927", "body": "https://gitorious.org/~ridiculousfish/fish-shell/fishfish/merge_requests/1\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031927/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031948", "body": "I have a fix in: https://gitorious.org/~ridiculousfish/fish-shell/fishfish/merge_requests/2#377d93d1cf56080d345611fe0faedae1e9ded1fe-377d93d1cf56080d345611fe0faedae1e9ded1fe@1\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031948/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031985", "body": "I might add that this fix makes the scripts compatible with both python 2 and 3, so no matter which python \"#!/usr/bin/env python\" invokes this will work.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6031985/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6034813", "body": "Isn't this something that you should place in your config.fish instead?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6034813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6065057", "body": "On my system ^W removes the text and adds it to the kill ring.\nWith ^K however the text is killed, added to the kill ring but not removed from the prompt until I type something else, so this is only an estethical issue for me, my build is from git.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6065057/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6079487", "body": "We could use the fish-function type instead:\ntype -P command-not-found > /dev/null\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6079487/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6080034", "body": "I think the effort should be to make the scripts python3 only.\nSure, python2 will be around for some considerable time to come but some GNU/Linux distributions (Arch Linux and Gentoo for example) are now shipped without python2.\n\nI would like some external input on this so my efforts are not wasted.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6080034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "etu": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6053562", "body": "`funced` is cool couse it opens an already existing function to edit it, and then you can save functions with `funcsave`. Very usefull.\n\nAt least in fish and not fishfish ;)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6053562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075591", "body": "yep, works.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075591/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075738", "body": "Uh, this also seems to work after your fixes on `~/.config/fish/functions/` or something?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075738/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6076352", "body": "One idea of soution might be to look into `$PWD` and the fish-function `prompt_pwd`\n\nfish & fishfish:\n\n```\n$ cd /\n$ echo $PWD\n\n$\n```\n\nfish:\n\n```\n$ cd /\n$ pwd\n\n$\n```\n\nfishfish:\n\n```\n$ cd /\n$ pwd\n/\n$\n```\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6076352/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6076434", "body": "this one is also fixed yes, someone can close it? :)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6076434/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6083169", "body": "Got time to research more now...\n\nIt's the empty `$PWD` that couses everything.\n\nIf I change the function `__fish_complete_cd` to do `set -l wd (pwd)` instead of `set -l wd $PWD`, things will work. But things would probably be slower too...\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6083169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1466068", "body": "Protip, if you had written `Fixes #61` as commit-message, the ticket would close itself and get a link to this commit. You can also use `Refs #61` if a commit doesn't fix, but reffers.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1466068/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3105379", "body": "When I read this in my RSS-Feed, I really thought that it would cause an access violation in portage sandbox, but we are in luck this time! Reading from the outside of the sandbox seems ok! :)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3105379/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3233093", "body": "What about running `make uninstall` in the directory the user made `make install` from since it got the correct prefix. This ofc depends on the user saving the source directory.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3233093/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "twm": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075200", "body": "I regularly use implicit cd, but I have set CDPATH to . because I found the results of combining the two confusing.  I'd suggest either (1), with changing CDPATH a sufficient degree of configurability, or (2).\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/issues/comments/6075200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "martinklepsch": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1667077", "body": "This is awesome, thanks so much!\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1667077/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348535", "body": "I dont know exactly what `set upstream '@{upstream}'` does but this does not seem to work here.\n`$upstream` needs to be something like `origin/master` here. \n\nI'm willing to fix this but I've no idea about what `set upstream '@{upstream}'` is meant to be...\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348535/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348566", "body": "Like that: `git rev-list --count --left-right '@{upstream}'...HEAD` ?\n\nI tried that with `upstream` and `origin` (I only have `origin`) and I keep getting this:\n\n```\nfatal: ambiguous argument '@{origin}...HEAD': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions\n```\n\n(I also tried with and without quotes)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348679", "body": "```\n>> git rev-list --count --left-right '@{upstream}'...HEAD\nerror: No upstream configured for branch 'master'\nerror: No upstream configured for branch 'master'\nerror: No upstream configured for branch 'master'\nfatal: ambiguous argument '@{upstream}...HEAD': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions\n```\n\nPassing `-u` to `git push` solved the problem! Thanks\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}, "kballard": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1819874", "body": "This flag doesn't seem to be documented anywhere.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1819874/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348544", "body": "No, that's correct. '@{upstream}' is a syntax that git understands to be the upstream of the current branch. Perhaps you don't have an upstream set?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348544/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348630", "body": "Was that all you get? In a fresh repo with no upstream I get\n\n```\n> git rev-list --count --left-right '@{upstream}'...HEAD\nerror: No upstream branch found for ''\nerror: No upstream branch found for ''\nerror: No upstream branch found for ''\nfatal: ambiguous argument '@{upstream}...HEAD': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions\n```\n\n(the quotes are required or fish will strip the curly braces).\n\nThis is not surprising. You have no upstream. The end result of this command is that `count` will contain the empty string, which you see on line 182 is treated as no upstream.\n\nIn order to set an upstream you need to pass the `-u` flag to `git push` or the `--set-upstream`/`--track` flags to git branch (see the manpages).\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348642", "body": "Incidentally, adding a `--` to the end of the `git rev-list` command alters the output to be\n\n```\nerror: No upstream branch found for ''\nerror: No upstream branch found for ''\nfatal: bad revision '@{upstream}...HEAD'\n```\n\nNot that this makes any difference, since we're throwing away the error messages anyway, only the success case matters.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/1348642/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "kjell": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1871222", "body": "Removing this line breaks multiline prompts. My prompt looks something like:\n\n``` fish\nfunction fish_prompt -d \"Write out the prompt\"\n  printf \"%s\\n%s\" (__prompt_top_line) (__prompt_bottom_line)\nend\n```\n\nwithout this the two segments of my prompt are joined on the same line.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1871222/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "siteshwar": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1877845", "body": "I restored it, thanks! :)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1877845/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2198443", "body": "There's a script called create_manpage_completions.py which is installed in /usr/local/share/fish/tools. You can parse a single man page following way :\n\n/usr/local/share/fish/tools/create_manpage_completions.py /usr/share/man/man1/bash.1.gz --progress\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2198443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2904324", "body": "May be it's a bug in GNU coreutils printf but this line prints `a\\cb` in bash.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2904324/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3258707", "body": "I am not sure if it's a portable way to convet wide characters to numbers.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3258707/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3258742", "body": "This calls exit(0) in GNU coreutils version of printf, but I can't directly exit in a builtin.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3258742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4035024", "body": "Probably replace 'methods' with 'channels'\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4035024/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}]}, "donkeybonks": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1880991", "body": "^ bit of whitespace.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1880991/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "lledey": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1881013", "body": "In almost every file. The worst is complete.cpp I think.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1881013/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "terlar": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1970295", "body": "Thanks for this fix. I was just about to make an issue about rails console not working properly but this fix seems to have addressed that problem.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/1970295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5987323", "body": "This method seems like a bunch of junk to me. I suggest only returning the branch name here without all the magic. The variable `__fish_git_prompt_describe_style` is not referred anywhere else. Also the branch `GIT_DIR~` seems a bit lame.\n\nFrom the research I have done, the fastest way to get the git branch is:\n`git symbolic-ref --short --quiet HEAD ^/dev/null`\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5987323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5987631", "body": "I wonder about this part also. It is to make things more dynamic so when the prompt is updated it is repainted. But usually this is accompanied by a new prompt print anyways. I'm not sure this is worth the extra complexity? Not sure this is a performance hit though.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5987631/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5988180", "body": "I'm not familiar with the git-svn, but this logic seems a bit crazy with a lot of special cases and the string manipulation piped out to `/bin/sh`. Maybe could be moved out to a separate function to isolate?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5988180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030966", "body": "These parenthesis needs to be removed. Breaks for me otherwise.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030966/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6044654", "body": "this line is wrong, should be `set nr_of_untracked_files`...\n\nTook a while of debugging until I realized. Didn't know what to expect from this prompt. So wasn't sure about all the numbers and stuff.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6044654/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "nagisa": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2027343", "body": ":star: \n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2027343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "SanskritFritz": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2177341", "body": "It is called \"Hungarian notation\" (http://en.wikipedia.org/wiki/Hungarian_notation)\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2177341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2196749", "body": "Is there a way to parse only one man page like in legacy fish?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2196749/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2198486", "body": "Great, thank you.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/2198486/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "alisnic": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3234515", "body": "Is there any way to map this to tab?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3234515/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3235058", "body": "Yes, you are probably right, I did a `bind` to \\t to autocomplete suggestion, and it totally messed up my autocompletion for commands.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3235058/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "dag": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3234936", "body": "Yes, but then which should take priority: autosuggest or complete?  Either order will very likely get in the way of the other.  More likely what you're actually after is unifying the two, such that suggestions _are_ completions, perhaps the first completion, which would be more sane but I imagine would still get in the way.  I wish we could bind CTRL-ENTER to \"complete and execute suggestion\", but alas, can't bind CTRL-ENTER in the terminal.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3234936/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4305195", "body": "The rest of the file is using tabs, so this ends up misaligned.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4305195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4380409", "body": "I think you need to quote that command substitution for it to run each time: `-a '(__fish_git_modified_files)'`.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4380409/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "tmaone": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3879502", "body": "This test does not work on Darwin, as there is no '-o' argument available. The following error is appended on every fish-shell launch and eval (on a mac ofc). \n\n```\nuname: illegal option -- o\nusage: uname [-amnprsv]\ntest: Missing argument at index 2\n```\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3879502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3882483", "body": "Can confirm that this commit fixes previous platform test error on Mac OS X. I also use switch statements for platform identification in my scripts. Thanks for the fix. :+1: \n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/3882483/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "xfix": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4032207", "body": "@maxfl:\n\nWhen `eval` is used correctly, there is no problem. Correct use is like that.\n\n``` sh\nset -l arguments a b c\neval $command \\$arguments\n```\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4032207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4033410", "body": "@maxfl\n\nI just made error message more consistent. Previously, only something like `a$b` suggested using `eval`, now it's always suggested. It would be good idea to have generic `run` built-in that can take variables, but too lazy to implement it (pull requests are welcome, as always).\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/comments/4033410/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6722528", "body": "This sounds wrong. First, quotes aren't quoted, and second, my username is not `romaia`.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6722528/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}]}, "nvie": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3076304", "body": "Couldn't this just be a `builtin cd $i` here (i.e. no `eval` statement)?\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/3076304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "crishoj": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4306173", "body": "> The rest of the file is using tabs, so this ends up misaligned.\n\nThank you. I've fixed this.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4306173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "ptbrowne": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4380742", "body": "you are right, i have made the modification, sorry for the error :S\n\nOn Fri, May 24, 2013 at 3:02 PM, Dag Odenhall notifications@github.comwrote:\n\n> In share/completions/git.fish:\n> \n> > @@ -93,6 +97,9 @@ complete -f -c git -n '__fish_git_using_command show-branch' -a '(__fish_git_hea\n> > \n> >  ### add\n> >  complete -c git -n '__fish_git_needs_command'    -a add -d 'Add file contents to the index'\n> > +complete -f -c git -n '__fish_git_using_command add; and __fish_contains_opt -s p patch' -a (__fish_git_modified_files)\n> \n> I think you need to quote that command substitution for it to run each\n> time: -a '(__fish_git_modified_files)'.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/fish-shell/fish-shell/pull/822/files#r4380409\n> .\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4380742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "haarts": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4608991", "body": "I've tried (and will keep using) this version. But this first echo should, IMHO, not include a leading space. Let the guy constructing his prompt decide about leading/trailing whitespace. \nI'm using it like so:\n`printf ']%s ' (__informative_git_prompt)`\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/4608991/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030589", "body": "I considered that and subsequently benchmarked it. Executing that command takes 4ms on my VPS. I think the 4ms gain do not justify the added complexity.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030594", "body": "I'm now using `$fish_color_normal` as well as the other suggested improvement.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030607", "body": "I did that. \nThe logic is insane and I can hardly test it. But this is better.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030608", "body": "Removed it.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030608/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030618", "body": "Simplified it in https://github.com/haarts/fish-shell/commit/73fc3fd280e8e81127d40700f899fe33e53c772b\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6030618/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6064821", "body": "good catch. \nThis prompt should really be just the classic 'informative git prompt' plus a stash notification.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6064821/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "romaia": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6722603", "body": "Indeed. I just copied the description from psql --help without much editing. I will fix this.\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/6722603/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "mariuszs": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5989319", "body": "I think bold/bright colors are useful, maybe something like this:\n\n```\nset -g __git_prompt_color_clean (set_color -o green)\n```\n\nAfter this labels are much simpler\n\n```\n set concatenated_status $__git_prompt_color_clean$__git_prompt_char_clean$fish_color_normal\n```\n\nIt is better to use `$fish_color_normal` mentioned in documentation, or `set color normal`?\n\n> The following variables are available to change the highlighting colors in fish:\n> \n> fish_color_normal, the default color\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5989319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5989505", "body": "This is slow, two times we are executing  \n\n```\ngit diff --staged --name-status\n```\n", "reactions": {"url": "https://api.github.com/repos/fish-shell/fish-shell/pulls/comments/5989505/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}}}}