{"_default": {"1": {"odormond": {"issues": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/1249", "title": "Cannot get samples from tif with no CRS since 1.0a10", "body": "Hello!\r\n\r\nWhen trying to sample a tif not containing any CRS, rasterio will raise a CRSError since version 1.0a10 while it was working fine up to 1.0a9.\r\n\r\n## Expected behavior and actual behavior.\r\n\r\n### Expected\r\n```\r\n$ ./test.py\r\n[array([ 0.21086692]), array([ 0.21086692])]\r\n```\r\n\r\n### Actual\r\n```\r\n$ ./test.py\r\n/venv/lib/python3.5/site-packages/rasterio/windows.py:483: RasterioDeprecationWarning: use 'width' attribute instead\r\n  RasterioDeprecationWarning)\r\n/venv/lib/python3.5/site-packages/rasterio/sample.py:17: RasterioDeprecationWarning: use 'height' attribute instead\r\n  data = read(indexes, window=window, masked=False, boundless=True)\r\nTraceback (most recent call last):\r\n  File \"./test.py\", line 6, in <module>\r\n    samples = list(rasterio.sample.sample_gen(tif, ((708816.547, 5678449.287), (708816.547, 5678449.287))))\r\n  File \"/venv/lib/python3.5/site-packages/rasterio/sample.py\", line 17, in sample_gen\r\n    data = read(indexes, window=window, masked=False, boundless=True)\r\n  File \"rasterio/_io.pyx\", line 325, in rasterio._io.DatasetReaderBase.read\r\n  File \"rasterio/_warp.pyx\", line 702, in rasterio._warp.WarpedVRTReaderBase.__init__\r\n  File \"rasterio/_base.pyx\", line 991, in rasterio._base._osr_from_crs\r\nrasterio.errors.CRSError: A defined coordinate reference system is required\r\n```\r\n\r\n## Steps to reproduce the problem.\r\n\r\nUnzip the following zip and go into the `rasterio_no_crs_tif_cannot_be_sampled` directory. Then just run `./test.py`.\r\n[rasterio_no_crs_tif_cannot_be_sampled.zip](https://github.com/mapbox/rasterio/files/1642938/rasterio_no_crs_tif_cannot_be_sampled.zip)\r\n\r\nI'm reproducing `test.py` itself for convenience:\r\n```\r\n#!/usr/bin/env python3\r\n\r\nimport rasterio\r\n\r\ntif = rasterio.open('test.tif')\r\nsamples = list(rasterio.sample.sample_gen(tif, ((708816.547, 5678449.287), (708816.547, 5678449.287))))\r\nprint(samples)\r\n```\r\n\r\n## Operating system\r\n\r\nUbuntu 16.04.3 LTS\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio-1.0a10-cp35-cp35m-manylinux1_x86_64.whl installed in a python3 virtualenv with pip 9.0.1\r\n\r\nThe result are the same with version 1.0a11 and 1.0a12 from pypi.", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "nawendt": {"issues": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/1248", "title": "Georeference metadata not read from some GRIB files", "body": "## Expected behavior and actual behavior.\r\n\r\nI have been working with GRIB (version 2) data and have run into an issue where the georeference metadata are not extracted (i.e., the CRS is missing, affine parameters are incorrect, etc.). However, if I simply use the standard GDAL Python bindings, the metadata are extracted. The data I am working with is from the [NCEP SREF](http://www.nco.ncep.noaa.gov/pmb/products/sref/) weather forecast model.\r\n\r\n## Steps to reproduce the problem.\r\nI use `rasterio` as follows:\r\n```python\r\nimport rasterio\r\ndat = rasterio.open('my_grib_file.grib2')\r\ndat.profile\r\n```\r\nwhich produces the following output\r\n```python\r\n>>> {'affine': Affine(1.0, 0.0, -0.5, 0.0, 1.0, -0.5),\r\n 'count': 523,\r\n 'crs': CRS({}),\r\n 'driver': 'GRIB',\r\n 'dtype': 'float64',\r\n 'height': 129,\r\n 'nodata': None,\r\n 'tiled': False,\r\n 'transform': (-0.5, 1.0, 0.0, -0.5, 0.0, 1.0),\r\n 'width': 185}\r\n```\r\nWith `osgeo.gdal` (in a separate session)\r\n```python\r\nfrom osgeo import gdal\r\ndat = gdal.Open('my_grib_file.grib2')\r\ndat.GetProjectionRef()\r\ndat.GetGeoTransform()\r\n```\r\nwhich produces\r\n```python\r\n>>> 'PROJCS[\"unnamed\",GEOGCS[\"Coordinate System imported from GRIB file\",DATUM[\"unknown\",SPHEROID[\"Sphere\",6371229,0]],PRIMEM[\"Greenwich\",0],UNIT[\"degree\",0.0174532925199433]],PROJECTION[\"Lambert_Conformal_Conic_2SP\"],PARAMETER[\"standard_parallel_1\",25],PARAMETER[\"standard_parallel_2\",25],PARAMETER[\"latitude_of_origin\",25],PARAMETER[\"central_meridian\",265],PARAMETER[\"false_easting\",0],PARAMETER[\"false_northing\",0]]'\r\n>>> (-4246424.496915466, 40635.0, 0.0, 4388899.238982436, 0.0, -40635.0)\r\n```\r\n\r\n## Operating systems\r\n\r\nRHEL 6\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio 0.36.0 via conda-forge\r\ngdal 2.1.3 via conda-forge\r\npython 3.6.4 via conda-forge\r\n\r\n## Other information\r\n\r\nI have verified that both `osgeo.gdal` and `rasterio` are using the same GDAL C library. When I use the same methods as above on another GRIB (this time version 1) from a different weather forecast model, the georeference metadata are read correctly. This would indicate it could be an issue with individual files, but, as I show above, the same GDAL library reads the correct georeference data when not using `rasterio`.\r\n\r\nI determined that the issue occurs when `GDALGetProjectionRef` is called in `read_crs` from `_base.pyx`. What I did then was to create a small C program that uses `GDALGetProjectionRef` to access the georeference information and print it to STDOUT. That worked just fine and produced the same information as when using `osgeo.gdal`. I also built rasterio from source in a separate conda environment and still had the same problem. This is what ultimately led me to believe that the issue has something to do with what is getting passed around in `rasterio` versus the GDAL C library itself or something with my conda environments.", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1248/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "hackedbellini": {"issues": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/1242", "title": "Windowed read for a large single-block data", "body": "I have a large data (2gb geotiff image) that I need to process and write to a new image, but the computer I'm going to process it only has 512mb of ram.\r\n\r\nLooking at the windowed read/write from the documentation I wrote a code that reads and writes using a window of 50cols x 50rows. I slide that window through all the image.\r\n\r\nI'm testing the code in my development machine, which has 8gb of ram. I notied that, when doing the processing, the whole image got loaded in the memory, even though I was using windowed  read/write.\r\n\r\nOne thing that I noticed is that the image has only one block. More specifically, if I call `src.block_windows(1)` it will give me only one window, and that window takes the whole image.\r\n\r\nSo, I don't know if this is an issue in rasterio or is something that I'm doing wrong", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mheppner": {"issues": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/1241", "title": "Recreating gdalwarp with alpha band", "body": "I apologize in advance that this is for help and not a bug report, but the rasterio tag on StackOverflow seems to get little traffic, and I couldn't find a Gitter or Slack channel. Are there are places for usage help or examples?\r\n\r\nI'm trying to figure out how to convert a `gdalwarp` command into a rasterio-equivilant, but can't quite figure it out. I'm basically trying to make a tile:\r\n\r\n```sh\r\ngdalwarp \\\r\n    -of PNG \\                                       # output format\r\n    -t_srs EPSG:3857 \\                              # target SRS\r\n    -ts 256 256 \\                                   # target size, width x height\r\n    -te 4696291.0 3757032.8 5009377.0 4070118.8 \\   # target bounds\r\n    -dstalpha \\                                     # add an alpha band to represent nodata\r\n    /tmp/input.tiff \\\r\n    /tmp/output.png\r\n```\r\n\r\nWhich looks something like this (notice the source image is zoomed out, scaled, positioned relative to the bounds, and surrounded by transparency):\r\n\r\n![gdalwarp](https://user-images.githubusercontent.com/2390428/34447122-06bd5fd4-ecaf-11e7-953b-a3a38f2862b2.png)\r\n\r\nI've noticed a few opened issues about adding support for the alpha band in `warp.reproject()`, but I'm wondering if something could be achieved using `WarpedVRT` instead. This is about as close as I can get:\r\n\r\n```python\r\nimport rasterio\r\nfrom rasterio.vrt import WarpedVRT\r\nfrom rasterio.io import MemoryFile\r\nfrom rasterio.windows import Window\r\n\r\n\r\nbounds = [4696291.0, 3757032.8, 5009377.0, 4070118.8]\r\nwidth = height = 256\r\n\r\nwith rasterio.open('/tmp/input.tiff') as src:\r\n    dst_window = Window(*bounds)\r\n\r\n    with WarpedVRT(src,\r\n                   dst_crs='EPSG:3857',\r\n                   dst_window=dst_window,\r\n                   width=width,\r\n                   height=height) as vrt:\r\n        \r\n        vrt_window = vrt.window(*bounds)\r\n\r\n        data = vrt.read(window=vrt_window)\r\n\r\n        profile = vrt.profile.copy()\r\n        profile['width'] = width\r\n        profile['height'] = height\r\n        profile['driver'] = 'PNG'\r\n        profile['transform'] = vrt.window_transform(vrt_window)\r\n\r\n        with open('/tmp/output.png', 'w', **profile) as dst:\r\n            dst.write(data)\r\n```\r\n\r\nWhich results in an image like this:\r\n\r\n![rasterio](https://user-images.githubusercontent.com/2390428/34447359-100e47e0-ecb1-11e7-8269-eaa33d967d44.png)\r\n\r\nDoes a `WarpedVRT` snap to it's own maximum bounds if the `dst_window` is larger? Can it be used to keep an alpha channel for nodata?\r\n\r\n## Operating system\r\n\r\nMac OS X 10.13.2\r\n\r\n## Rasterio version and provenance\r\n\r\nPython 3.6.3\r\nGDAL 2.2.3\r\nnumpy==1.13.3\r\nrasterio==1.0a12\r\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1241/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "whlteXbread": {"issues": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/1240", "title": "`rasterio.mask.mask` masks images with rotation terms in transforms incorrectly", "body": "## Overview\r\n\r\nI've got some images that have rotation terms in their transform. If I attempt to use `rasterio.mask.mask`, I find that the mask is generated incorrectly. It's fairly easy to demonstrate this issue in `rasterio.features.geometry_window`. \r\n\r\nBasically, the code that finds the bounds of the shapes does so in the CRS domain. The `top`, `bottom`, `left`, and `right` are calculated by finding the extrema in the CRS domain, which is a reasonable approach, but assumes that the image transform has no rotation terms (even though north can be up or down!). This results in corners that don't correspond to corners in the raster's pixel domain which causes incorrect and sometimes faulty window generation.\r\n\r\nI was able to get results that made more sense by converting the shape vertices to values in the pixel domain, and then finding the extrema. But of course it's silly to convert to the raster pixel domain only to convert them back to the CRS domain, which is what `rasterio.windows.from_bounds` expects. That said, it's unclear how I would go about addressing this issue.\r\n\r\nInterestingly, the mask itself is generated correctly. I don't know the codebase well enough to know if there is potential for synergy there.\r\n\r\nI will work on creating some data that will reproduce the issues I'm seeing.\r\n\r\n## Expected behavior:\r\nUsing `rasterio.mask.mask` on an image with rotation components in its transform should correctly mask an image based on shape specified.\r\n\r\n## Actual behavior:\r\nIn some cases,  the error `width and height must be > 0` (`rasterio.features`, line 288) is raised.\r\n\r\nIn other cases, a mask is generated (properly) but the window cuts off part of the mask.\r\n\r\n## Steps to reproduce the problem:\r\nUsing an image with rotation terms in the transform, attempt to use `rasterio.mask.mask`.\r\n\r\n## Operating system:\r\n\r\nUbuntu 17.04 (but the bug is OS independent)\r\n\r\n## Rasterio version and provenance\r\nInstalled from source.\r\n\r\n```\r\n>>> import rasterio\r\n>>> rasterio.__version__\r\n'1.0a12'```\r\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "geowurster": {"issues": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/1234", "title": "A color interp test fails when running against GDAL trunk", "body": "`tests/test_colorinterp.py::test_set_colorinterp_all` has been failing for a few months [on Travis against GDAL trunk](https://travis-ci.org/mapbox/rasterio/jobs/315618227).\r\n\r\nhttps://github.com/mapbox/rasterio/blob/5f1c3ed9d2e2b5bc8dabde0f5cb8bdd00759fc7d/tests/test_colorinterp.py#L86\r\n\r\nFor `GDAL<=2.2` the first band could never be `undefined` and GDAL would change it to `gray`, but it looks like `undefined` is now an allowed value on GDAL trunk.  @rouault is this correct?  I couldn't find any recent tickets in trac.\r\n\r\nFailure report:\r\n\r\n```\r\n=================================== FAILURES ===================================\r\n_________________ test_set_colorinterp_all[ColorInterp.grey0] __________________\r\npath_4band_no_colorinterp = '/tmp/pytest-of-travis/pytest-0/test_set_colorinterp_all_Color1/4band-byte-no-ci.tif'\r\nci = <ColorInterp.grey: 1>\r\n    @pytest.mark.parametrize(\"ci\", ColorInterp.__members__.values())\r\n    def test_set_colorinterp_all(path_4band_no_colorinterp, ci):\r\n    \r\n        \"\"\"Test setting with all color interpretations.\"\"\"\r\n    \r\n        with rasterio.open(path_4band_no_colorinterp, 'r+') as src:\r\n            all_ci = list(src.colorinterp)\r\n            all_ci[1] = ci\r\n            src.colorinterp = all_ci\r\n    \r\n        with rasterio.open(path_4band_no_colorinterp) as src:\r\n>           assert src.colorinterp[1] == ci\r\nE           assert <ColorInterp.undefined: 0> == <ColorInterp.grey: 1>\r\ntests/test_colorinterp.py:96: AssertionError\r\n---------------------------- Captured stderr setup -----------------------------\r\n```\r\n\r\nThe failing test takes an image with no color interpretation and sets the color interpretation of the first band to each of the color interpretation options.  More specifically it takes a 4 band image with color interpretation `gray undefined undefined undefined` because older versions of GDAL silently switched an `undefined` first band to `gray`.\r\n\r\nThis snippet illustrates the problem, succeeds on `GDAL<=2.2` and fails on GDAL trunk:\r\n\r\n```python\r\nimport affine\r\nimport rasterio\r\nfrom rasterio import shutil as rio_shutil\r\nfrom rasterio.enums import ColorInterp\r\n\r\n\r\npath_4band_no_colorinterp = '4band-no-ci.tif'\r\n\r\n\r\n# This seems to be a GDAL default.  GDAL 2.2 allows 'undefined' for first\r\n# band, but older versions silently convert to 'gray'\r\nundefined_ci = (\r\n    ColorInterp.gray,\r\n    ColorInterp.undefined,\r\n    ColorInterp.undefined,\r\n    ColorInterp.undefined)\r\n\r\n\r\nprofile = {\r\n    'height': 10,\r\n    'width': 10,\r\n    'count': 4,\r\n    'dtype': rasterio.ubyte,\r\n    'transform': affine.Affine(1, 0.0, 0,\r\n                               0.0, -1, 1),\r\n    'driver': 'GTiff',\r\n    'photometric': 'minisblack'\r\n}\r\n\r\nwith rasterio.open(path_4band_no_colorinterp, 'w', **profile) as src:\r\n    src.colorinterp = undefined_ci\r\n\r\n# Ensure color interp was set.\r\nwith rasterio.open(path_4band_no_colorinterp) as src:\r\n    if src.colorinterp != undefined_ci:\r\n        raise ValueError(\r\n            \"Didn't properly set color interpretation.  GDAL can \"\r\n            \"forcefully make assumptions.\")\r\n\r\n\r\nfor ci in ColorInterp.__members__.values():\r\n\r\n    with rasterio.open(path_4band_no_colorinterp, 'r+') as src:\r\n        all_ci = list(src.colorinterp)\r\n        # Adjust CI for first band.  This appears to be failing on GDAL\r\n        # trunk for 'ColorInterp.gray' and 'ColorInterp.grey', which are\r\n        # aliases for the same value.\r\n        all_ci[1] = ci\r\n        src.colorinterp = all_ci\r\n\r\n    with rasterio.open(path_4band_no_colorinterp) as src:\r\n        assert src.colorinterp[1] == ci, \"Expected {!r} but found {!r}\".format(src.colorinterp[1], ci)\r\n```", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1227", "title": "Cleanup doc warnings", "body": "Docs are built with:\r\n\r\n```console\r\n$ cd docs\r\n$ make html\r\n```\r\n\r\nbut emit a ton of warnings.  It looks like some things have moved around.  Switching from `numpydoc` to Sphinx's builtin [`sphinx.ext.napoleon`](http://www.sphinx-doc.org/en/stable/ext/napoleon.html`) [may remove some warnings](https://stackoverflow.com/questions/12206334/sphinx-autosummary-toctree-contains-reference-to-nonexisting-document-warnings).  `napoleon` is a builtin Sphinx extension and supports translating Numpy-style docstrings, which is what we use.\r\n\r\nHere are the current warnings:\r\n\r\n```console\r\n$ cd docs && make html\r\nsphinx-build -b html -d _build/doctrees   . _build/html\r\nRunning Sphinx v1.6.5\r\nloading pickled environment... done\r\nbuilding [mo]: targets for 0 po files that are out of date\r\nbuilding [html]: targets for 0 source files that are out of date\r\nupdating environment: 0 added, 4 changed, 0 removed\r\nreading sources... [100%] topics/index                                             \r\n/Users/wursterk/code/rasterio/docs/cli.rst:174: WARNING: toctree contains reference to nonexisting document 'calc'\r\n/Users/wursterk/code/rasterio/docs/index.rst:61: WARNING: toctree contains reference to nonexisting document 'topics/nodata'\r\n/Users/wursterk/code/rasterio/docs/python_manual.rst:15: WARNING: toctree contains reference to nonexisting document 'reading'\r\n/Users/wursterk/code/rasterio/docs/python_manual.rst:15: WARNING: toctree contains reference to nonexisting document 'working_with_datasets'\r\n/Users/wursterk/code/rasterio/docs/python_manual.rst:15: WARNING: toctree contains reference to nonexisting document 'writing'\r\n/Users/wursterk/code/rasterio/docs/python_manual.rst:15: WARNING: toctree contains reference to nonexisting document 'topics'\r\n/Users/wursterk/code/rasterio/docs/python_manual.rst:15: WARNING: toctree contains reference to nonexisting document 'osgeo_gdal_migration'\r\n/Users/wursterk/code/rasterio/docs/topics/index.rst:4: WARNING: toctree contains reference to nonexisting document 'topics/nodata'\r\nlooking for now-outdated files... none found\r\npickling environment... done\r\nchecking consistency... /Users/wursterk/code/rasterio/docs/python_manual.rst: WARNING: document isn't included in any toctree\r\n/Users/wursterk/code/rasterio/docs/rasterio.rst: WARNING: document isn't included in any toctree\r\n/Users/wursterk/code/rasterio/docs/topics/calc.rst: WARNING: document isn't included in any toctree\r\n/Users/wursterk/code/rasterio/docs/topics/configuration.rst: WARNING: document isn't included in any toctree\r\n/Users/wursterk/code/rasterio/docs/topics/index.rst: WARNING: document isn't included in any toctree\r\n/Users/wursterk/code/rasterio/docs/topics/profiles.rst: WARNING: document isn't included in any toctree\r\n/Users/wursterk/code/rasterio/docs/topics/reading.rst: WARNING: document isn't included in any toctree\r\n/Users/wursterk/code/rasterio/docs/topics/writing.rst: WARNING: document isn't included in any toctree\r\ndone\r\npreparing documents... done\r\nwriting output... [100%] topics/index                                              \r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.coords.BoundingBox.count'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.coords.BoundingBox.index'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.is_epsg_code'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.is_geographic'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.is_projected'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.is_valid'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.wkt'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.clear'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.copy'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.from_epsg'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.from_string'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.from_wkt'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.fromkeys'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.get'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.items'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.keys'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.pop'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.popitem'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.setdefault'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.to_dict'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.to_string'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.update'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.crs.CRS.values'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.env.Env.is_credentialized'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.env.Env.can_credentialize_on_enter'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.env.Env.credentialize'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.env.Env.drivers'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.env.GDALVersion.at_least'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.env.GDALVersion.from_string'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.env.GDALVersion.runtime'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.affine'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.block_shapes'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.bounds'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.closed'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.colorinterp'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.compression'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.count'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.crs'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.descriptions'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.driver'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.dtypes'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.files'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.gcps'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.height'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.indexes'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.interleaving'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.is_tiled'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.kwds'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.mask_flag_enums'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.mask_flags'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.meta'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.mode'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.name'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.nodata'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.nodatavals'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.options'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.photometric'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.profile'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.res'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.shape'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.subdatasets'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.transform'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.units'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.width'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.block_size'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.block_window'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.block_windows'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.build_overviews'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.checksum'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.close'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.colormap'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.dataset_mask'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.get_crs'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.get_gcps'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.get_nodatavals'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.get_transform'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.index'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.lnglat'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.overviews'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.read'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.read_crs'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.read_mask'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.read_masks'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.read_transform'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.sample'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.set_crs'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.set_description'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.set_gcps'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.set_nodatavals'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.set_units'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.start'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.stop'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.tags'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.update_tags'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.window'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.window_bounds'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.window_transform'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.write'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.write_band'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.write_colormap'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.write_mask'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.write_transform'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.BufferedDatasetWriter.xy'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.affine'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.block_shapes'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.bounds'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.closed'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.colorinterp'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.compression'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.count'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.crs'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.descriptions'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.driver'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.dtypes'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.files'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.gcps'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.height'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.indexes'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.interleaving'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.is_tiled'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.kwds'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.mask_flag_enums'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.mask_flags'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.meta'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.mode'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.name'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.nodata'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.nodatavals'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.options'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.photometric'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.profile'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.res'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.shape'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.subdatasets'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.transform'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.units'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.width'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.block_size'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.block_window'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.block_windows'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.checksum'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.close'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.colormap'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.dataset_mask'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.get_crs'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.get_gcps'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.get_nodatavals'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.get_transform'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.index'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.lnglat'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.overviews'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.read'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.read_crs'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.read_mask'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.read_masks'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.read_transform'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.sample'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.stop'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.tags'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.window'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.window_bounds'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.window_transform'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetReader.xy'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.affine'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.block_shapes'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.bounds'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.closed'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.colorinterp'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.compression'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.count'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.crs'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.descriptions'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.driver'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.dtypes'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.files'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.gcps'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.height'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.indexes'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.interleaving'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.is_tiled'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.kwds'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.mask_flag_enums'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.mask_flags'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.meta'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.mode'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.name'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.nodata'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.nodatavals'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.options'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.photometric'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.profile'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.res'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.shape'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.subdatasets'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.transform'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.units'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.width'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.block_size'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.block_window'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.block_windows'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.build_overviews'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.checksum'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.close'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.colormap'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.dataset_mask'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.get_crs'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.get_gcps'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.get_nodatavals'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.get_transform'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.index'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.lnglat'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.overviews'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.read'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.read_crs'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.read_mask'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.read_masks'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.read_transform'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.sample'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.set_crs'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.set_description'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.set_gcps'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.set_nodatavals'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.set_units'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.start'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.stop'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.tags'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.update_tags'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.window'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.window_bounds'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.window_transform'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.write'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.write_band'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.write_colormap'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.write_mask'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.write_transform'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.DatasetWriter.xy'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.MemoryFile.close'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.MemoryFile.exists'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.MemoryFile.getbuffer'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.MemoryFile.open'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.MemoryFile.read'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.MemoryFile.seek'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.MemoryFile.tell'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.MemoryFile.write'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.ZipMemoryFile.close'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.ZipMemoryFile.exists'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.ZipMemoryFile.getbuffer'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.ZipMemoryFile.open'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.ZipMemoryFile.read'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.ZipMemoryFile.seek'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.ZipMemoryFile.tell'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.io.ZipMemoryFile.write'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.DefaultGTiffProfile.__call__'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.DefaultGTiffProfile.clear'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.DefaultGTiffProfile.copy'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.DefaultGTiffProfile.fromkeys'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.DefaultGTiffProfile.get'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.DefaultGTiffProfile.items'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.DefaultGTiffProfile.keys'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.DefaultGTiffProfile.pop'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.DefaultGTiffProfile.popitem'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.DefaultGTiffProfile.setdefault'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.DefaultGTiffProfile.update'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.DefaultGTiffProfile.values'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.Profile.__call__'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.Profile.clear'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.Profile.copy'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.Profile.fromkeys'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.Profile.get'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.Profile.items'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.Profile.keys'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.Profile.pop'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.Profile.popitem'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.Profile.setdefault'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.Profile.update'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.profiles.Profile.values'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.transform.TransformMethodsMixin.index'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.transform.TransformMethodsMixin.xy'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.windows.Window.crop'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.windows.Window.flatten'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.windows.Window.from_offlen'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.windows.Window.from_ranges'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.windows.Window.from_slices'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.windows.Window.intersection'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.windows.Window.round_lengths'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.windows.Window.round_offsets'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.windows.Window.round_shape'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.windows.Window.todict'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.windows.Window.toranges'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.windows.Window.toslices'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.windows.WindowMethodsMixin.window'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.windows.WindowMethodsMixin.window_bounds'\r\n/Users/wursterk/code/rasterio/docs/index.rst:: WARNING: toctree contains reference to nonexisting document 'api/rasterio.windows.WindowMethodsMixin.window_transform'\r\ngenerating indices... genindex py-modindex\r\nhighlighting module code... [100%] rasterio.vrt                                    \r\nwriting additional pages... search\r\ncopying static files... WARNING: html_static_path entry '/Users/wursterk/code/rasterio/docs/_static' does not exist\r\ndone\r\ncopying extra files... done\r\ndumping search index in English (code: en) ... done\r\ndumping object inventory... done\r\nbuild succeeded, 310 warnings.\r\ntouch _build/html/.nojekyll\r\n\r\nBuild finished. The HTML pages are in _build/html.\r\n``", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1214", "title": "Add Cloud Optimized GeoTIFF profile", "body": "Relates to #987\r\n\r\nAdd a `rasterio.profile` for Cloud [Optimized GeoTIFF](http://www.cogeo.org/) to make producing compliant images easier.  GDAL includes a [validation script](https://github.com/OSGeo/gdal/blob/b9f7526103b961f8fec87acb75743b1cad14fed3/gdal/swig/python/samples/validate_cloud_optimized_geotiff.py) we can use for testing.", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1214/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1203", "title": "Omitting 'driver' when creating a new image does not produce a helpful error", "body": "## Expected behavior and actual behavior.\r\n\r\nAttempting to create an image without a driver produces a cryptic error that does not inform the user of the underlying problem.\r\n\r\n```console\r\nTraceback (most recent call last):\r\n  File \"buh.py\", line 12, in <module>\r\n    with rio.open('image.tif', 'w', **profile) as dst:\r\n  File \"/Users/kevin.wurster/code/rasterio/rasterio/__init__.py\", line 248, in open\r\n    s = get_writer_for_driver(driver)(fp, mode, driver=driver,\r\n  File \"/Users/kevin.wurster/code/rasterio/rasterio/io.py\", line 163, in get_writer_for_driver\r\n    if driver_can_create(driver):\r\n  File \"rasterio/_base.pyx\", line 102, in rasterio._base.driver_can_create (rasterio/_base.c:3871)\r\n    return driver_supports_mode(drivername, 'DCAP_CREATE')\r\n  File \"rasterio/_base.pyx\", line 85, in rasterio._base.driver_supports_mode (rasterio/_base.c:3586)\r\n    drivername = drivername.encode('utf-8')\r\nAttributeError: 'NoneType' object has no attribute 'encode'\r\n```\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nimport rasterio as rio\r\n\r\nprofile = {\r\n    'height': 1,\r\n    'width': 1,\r\n    'count': 1,\r\n    'nodata': None,\r\n    'dtype': rio.uint8,\r\n}\r\n\r\n\r\nwith rio.open('image.tif', 'w', **profile) as dst:\r\n    pass\r\n```\r\n\r\nAdding `driver='GTiff'` creates the image without issue.", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1203/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1187", "title": "Isolate test files", "body": "I learned a lot about `GDALPAMDataset()` in https://github.com/mapbox/rasterio/pull/1134 and the unexpected pains it can introduce when testing against the same file.  One way we can guard ourselves from unexpected behavior is to have all of our `pytest` fixtures copy files from `tests/data` every time they execute.  This copy must be performed with Python's `shutil.copy()` function as using GDAL can trigger a PAM (`.aux.xml`) file to be written.", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1187/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1181", "title": "Deprecate '-f' for '--force-overwrite' and '--force-overwrite' in favor of '--overwrite'", "body": "See https://github.com/mapbox/rasterio/pull/1173#discussion_r144642158 for background.  We have `-f` for `--format`, but also `--force-overwrite`.  The plan is to:\r\n\r\n- Deprecate the use of `-f` as a short option for `--force-overwrite` as `-f` is a better short option for `--format`.\r\n- Deprecate `--force-overwrite`.\r\n- Add the more universal `--overwrite`.", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1178", "title": "'src.dataset_mask()' ignores alpha band when more than 4 bands are present", "body": "Given a 5 band image where the last band is a valid alpha band, `src.dataset_mask()` will entirely ignore the alpha band and produce a completely unmasked array.\r\n\r\nHere's what's happening:\r\n\r\n1. Create a 5 band image.\r\n2. Write different constant values to bands 1 through 4.\r\n3. Write an alpha band to band 5 that only has a transparent 3 x 3 square in the upper left corner.\r\n4. Force the color interpretation of the file's 5th band to be alpha.\r\n5. Generate a mask with `src.dataset_mask()` and drop that in a new file.\r\n6. Write only the alpha band to a new file.\r\n7. Compare alpha band file to `src.dataset_mask()`.  The latter should be entirely transparent.\r\n\r\n```\r\nfrom osgeo import gdal\r\n\r\nimport numpy as np\r\nimport rasterio as rio\r\n\r\n\r\ndsm_input = 'dsm-input.tif'\r\nalpha_file = 'alpha.tif'\r\nds_mask_file = 'dataset-mask.tif'\r\n\r\n# GDALPAMDataset can get weird.  Make sure none of the test files exist.\r\nfor path in [dsm_input, alpha_file, ds_mask_file]:\r\n    try:\r\n        gdal.Unlink(path)\r\n    except:\r\n        pass\r\n\r\n\r\nprofile = {\r\n    'driver': 'GTiff',\r\n    'height': 10,\r\n    'width': 10,\r\n    'count': 5,\r\n    'dtype': rio.ubyte,\r\n}\r\nwith rio.open(dsm_input, 'w', **profile) as dst:\r\n    data = np.zeros(dst.shape, dtype=profile['dtype'])\r\n    \r\n    # Write a constant value to each band.\r\n    dst.write(data + 1, 1)\r\n    dst.write(data + 2, 2)\r\n    dst.write(data + 3, 3)\r\n    dst.write(data + 4, 4)\r\n    \r\n    # Make a 3x3 square in the upper left corner transparent.\r\n    alpha = np.zeros(dst.shape, dtype=profile['dtype'])\r\n    alpha[:3, :3] = 255\r\n    dst.write(alpha, 5)\r\n\r\n\r\n# Force last band to be alpha.  This may create a '.aux.xml' to set the\r\n# new color interpreation.  That's fine.\r\nds = gdal.Open(dsm_input, gdal.GA_Update)\r\nband = ds.GetRasterBand(5)\r\nband.SetColorInterpretation(gdal.GCI_AlphaBand)\r\nband = None\r\nds = None\r\n\r\n\r\nwith rio.open(dsm_input) as src:\r\n        \r\n    profile = src.profile.copy()\r\n    profile['count'] = 1\r\n    \r\n    # Write the output of 'src.dataset_mask()' and just the alpha band\r\n    with rio.open(ds_mask_file, 'w', **profile) as dst:\r\n        dst.write(src.dataset_mask(), 1)\r\n    \r\n    # Copy just the alpha band to a new file\r\n    with rio.open(alpha_file, 'w', **profile) as dst:\r\n        dst.write(src.read(5), 1)\r\n```", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1175", "title": "Replace 'src.set_*()' methods with getter/setter properties", "body": "Like `src.colorinterp() -> src.colorinterp` in https://github.com/mapbox/rasterio/pull/1134.  A quick search shows these:\r\n\r\n```\r\n$ git grep \"def set_\"\r\nrasterio/_env.pyx:cpdef set_gdal_config(key, val, normalize=True):\r\nrasterio/_io.pyx:    def set_crs(self, crs):\r\nrasterio/_io.pyx:    def set_nodatavals(self, vals):\r\nrasterio/_io.pyx:    def set_description(self, bidx, value):\r\nrasterio/_io.pyx:    def set_units(self, bidx, value):\r\nrasterio/_io.pyx:    def set_gcps(self, gcps, crs=None):\r\n```\r\n\r\nLooks like `src.gcps` might be a bit harder.", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1170", "title": "transform_geom() not properly catching NULL", "body": "I haven't dug into the code, but it looks like we're not catching a `NULL` somewhere in `transform_geom()` in some cases.\r\n\r\nSample code:\r\n\r\n```python\r\nimport rasterio as rio\r\nfrom rasterio.warp import transform, transform_geom\r\n\r\n\r\n# A polygon around 180, 90 with a single point falling outside the bounds\r\n# of EPSG:4326.\r\ngeom = {\r\n    'type': 'Polygon',\r\n    'coordinates': [[\r\n        [178, 83],\r\n        [178, 84],\r\n        [181, 91],  # Out of bounds\r\n        [179, 83],\r\n        [178, 83]\r\n    ]]\r\n}\r\n\r\n\r\n# Everything is fine.  Only 3 out of 4 points are reprojected as expected.\r\nprint(\"---> rasterio.Env(OGR_ENABLE_PARTIAL_REPROJECTION=True)\")\r\nwith rio.Env(OGR_ENABLE_PARTIAL_REPROJECTION=True):\r\n    reproj = transform_geom('EPSG:4326', 'EPSG:3857', geom)\r\n\r\n\r\n# A SystemError\r\nprint(\"---> rasterio.Env(OGR_ENABLE_PARTIAL_REPROJECTION=False)\")\r\ntry:\r\n    with rio.Env(OGR_ENABLE_PARTIAL_REPROJECTION=False):\r\n        reproj = transform_geom('EPSG:4326', 'EPSG:3857', geom)\r\nexcept SystemError as e:\r\n    print(str(e))\r\n\r\n\r\n# Error handler picks up the error\r\nprint(\"---> Default rasterio.Env(), which has OGR_ENABLE_PARTIAL_REPROJECTION=False\")\r\ntry:\r\n    reproj = transform_geom('EPSG:4326', 'EPSG:3857', geom)\r\nexcept Exception as e:\r\n    print(str(e))\r\n```\r\n\r\nproduces:\r\n\r\n```\r\n---> rasterio.Env(OGR_ENABLE_PARTIAL_REPROJECTION=True)\r\n---> rasterio.Env(OGR_ENABLE_PARTIAL_REPROJECTION=False)\r\n<built-in function _transform_geom> returned NULL without setting an error\r\n---> Default rasterio.Env(), which has OGR_ENABLE_PARTIAL_REPROJECTION=False\r\nFull reprojection failed, but partial is possible if you define OGR_ENABLE_PARTIAL_REPROJECTION configuration option to TRUE\r\n```\r\n\r\nThe second and third test cases both use `OGR_ENABLE_PARTIAL_REPROJECTION=False`, but an error is triggered in the second that is not in the third.", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1149", "title": "Rasterio's GDAL config value normalization doesn't always work", "body": "Rasterio normalizes creation options like [`str(v).upper()`](https://github.com/mapbox/rasterio/blob/b69f4c061574952dd78ba924b8b3cc64df1122e0/rasterio/_io.pyx#L1873), which works for strings and ints, but not always for `True` and `False`. \r\n GeoTIFF's `ALPHA` creation option requires [`YES` or `NO`](http://www.gdal.org/frmt_gtiff.html) (and some other strings).  Using `True` results in a 4 band image where photometric interpretation is RGB, but the 4th band's color interpretation is `undefined`.  We normalize config options to [`ON` and `OFF`](https://github.com/mapbox/rasterio/blob/master/rasterio/_env.pyx#L141), but that also won't work for this creation option.  Verified on `1.0a9` and `master`.\r\n\r\nExample:\r\n\r\n```python\r\nimport rasterio\r\n\r\n\r\nprofile = {\r\n    'height': 1,\r\n    'width': 1,\r\n    'dtype': rasterio.uint8,\r\n    'count': 4,\r\n    'driver': 'GTiff',\r\n    'photometric': 'rgb',\r\n    'alpha': True\r\n}\r\n\r\n\r\ntrue_profile = profile.copy()\r\ntrue_profile['alpha'] = True\r\nwith rasterio.open('true.tif', 'w', **true_profile) as dst:\r\n    pass\r\nprint(\"True\")\r\nwith rasterio.open('true.tif') as src:\r\n    print([src.colorinterp(i) for i in range(1, src.count + 1)])\r\n\r\n\r\nyes_profile = profile.copy()\r\nyes_profile['alpha'] = 'yes'\r\nwith rasterio.open('yes.tif', 'w', **yes_profile) as dst:\r\n    pass\r\nprint(\"Yes\")\r\nwith rasterio.open('yes.tif') as src:\r\n    print([src.colorinterp(i) for i in range(1, src.count + 1)])\r\n\r\n\r\non_profile = profile.copy()\r\non_profile['alpha'] = 'on'\r\nwith rasterio.open('on.tif', 'w', **on_profile) as dst:\r\n    pass\r\nprint(\"On\")\r\nwith rasterio.open('on.tif') as src:\r\n    print([src.colorinterp(i) for i in range(1, src.count + 1)])\r\n\r\n\r\nfalse_profile = profile.copy()\r\nfalse_profile['alpha'] = False\r\nprint(\"False\")\r\nwith rasterio.open('false.tif', 'w', **true_profile) as dst:\r\n    pass\r\nwith rasterio.open('false.tif') as src:\r\n    print([src.colorinterp(i) for i in range(1, src.count + 1)])\r\n\r\n\r\nno_profile = profile.copy()\r\nno_profile['alpha'] = 'no'\r\nprint(\"No\")\r\nwith rasterio.open('no.tif', 'w', **true_profile) as dst:\r\n    pass\r\nwith rasterio.open('no.tif') as src:\r\n    print([src.colorinterp(i) for i in range(1, src.count + 1)])\r\n\r\n\r\noff_profile = profile.copy()\r\noff_profile['alpha'] = 'off'\r\nwith rasterio.open('off.tif', 'w', **on_profile) as dst:\r\n    pass\r\nprint(\"Off\")\r\nwith rasterio.open('off.tif') as src:\r\n    print([src.colorinterp(i) for i in range(1, src.count + 1)])\r\n```\r\n\r\nproduces:\r\n\r\n```python\r\nTrue\r\n[<ColorInterp.red: 3>, <ColorInterp.green: 4>, <ColorInterp.blue: 5>, <ColorInterp.undefined: 0>]\r\nYes\r\n[<ColorInterp.red: 3>, <ColorInterp.green: 4>, <ColorInterp.blue: 5>, <ColorInterp.alpha: 6>]\r\nOn\r\n[<ColorInterp.red: 3>, <ColorInterp.green: 4>, <ColorInterp.blue: 5>, <ColorInterp.undefined: 0>]\r\nFalse\r\n[<ColorInterp.red: 3>, <ColorInterp.green: 4>, <ColorInterp.blue: 5>, <ColorInterp.undefined: 0>]\r\nNo\r\n[<ColorInterp.red: 3>, <ColorInterp.green: 4>, <ColorInterp.blue: 5>, <ColorInterp.undefined: 0>]\r\nOff\r\n[<ColorInterp.red: 3>, <ColorInterp.green: 4>, <ColorInterp.blue: 5>, <ColorInterp.undefined: 0>]\r\n```", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/mapbox/rasterio/pulls/1079", "title": "[WIP] Support non-path connection strings", "body": "**Not ready**\r\n\r\nCloses #871\r\n\r\nI tried demonstrating this with a PostGIS raster table, but had some problems with my `$ brew install`'ed version of PostGIS lacking `raster2pgsql`.  The only other raster driver I am aware of that uses connection strings is Planet's `PLScenes` driver, although it requires setting up a https://planet.com/explorer account to get an API key.\r\n\r\nCurrently on master:\r\n\r\n```console\r\n$ PL_API_KEY=$(cat planet-api) rio info \"PLScenes:scene=20170602_180403_1008\"\r\nUsage: rio info [OPTIONS] INPUT\r\n\r\nError: Invalid value for \"INPUT\": PLScenes:scene=20170602_180403_1008 is not a valid input file\r\n```\r\n\r\nThe analogous GDAL command: `$ PL_API_KEY=$(cat planet-api) gdalinfo \"PLScenes:scene=20170602_180403_1008\"`\r\n\r\n### Problems ###\r\n\r\nThere are a bunch of `click.Path(exists=True)` that need to be resolved, but before I do that:\r\n\r\nMy initial goal for this PR was to change as little behavior as possible, however because the CLI does an existence check on every input image before executing, the CLI now incurs all of the network overhead associated with a `rasterio.open()` on remote datasets, including S3.  The tradeoff is that the CLI can raise a useful \"the input raster doesn't exist\" but the network overhead is a major drag that translates to real money for heavy users of the CLI in production.\r\n\r\nThe solution is to never do a file existence check and just let `rasterio.open()` fail, but that won't work for ensuring existing output files aren't overwritten, plus the resulting error isn't nearly as useful:\r\n\r\n```console\r\n$ rio info trash\r\nERROR:rasterio._gdal:CPLE_OpenFailed in trash: No such file or directory\r\nAborted!\r\n```\r\n\r\nThe above error is less useful than:\r\n\r\n```console\r\n$ gdalinfo trash\r\nERROR 4: trash: No such file or directory\r\ngdalinfo failed - unable to open 'trash'.\r\n```\r\n\r\n### Solution ###\r\n\r\nAnyone working with remote rasters is probably at least a little bit experienced with this stuff, and the CLI level sanity checks are _most_ useful for those that are inexperienced.  I think I can rework the `click` handlers to just assume a connection string exists, which is how VSI URL's work right now on `master`, so for most cases we still get the errors, but in some cases users will have to parse the CPLE log to figure out what went wrong.  The remaining `click.Path()` instances will all have to be replaced with a smarter callback, but I think we already have a generic one somewhere.\r\n\r\nThis PR does not address write support, but to my knowledge none of the remote raster drivers do, including [PostGIS Raster](https://trac.osgeo.org/gdal/wiki/frmts_wtkraster.html).  I left the `os.path.exists()` checks in the core write code path, so if its actually a problem eventually someone will hit them.", "author_association": "COLLABORATOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "johanvdw": {"issues": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/1219", "title": "windows 2.7 segfaults", "body": "The following script causes a segfault when run in python 2.7 with version 1.0.0a12:\r\n```\r\nimport rasterio\r\nimport numpy as np\r\nimport affine\r\n\r\nband = np.zeros((5, 5))\r\n\r\ntransform = affine.Affine(25, 0, 1000, 0, -25, 1000)\r\n\r\nwith rasterio.open(\"temp.tif\", \"w\", width=5, height=5, driver=\"GTiff\",\r\n                   count=1, transform=transform, dtype=\"uint8\") as dst:\r\n    dst.write(band, 1)\r\n```\r\n\r\nI have reported similar issues here: https://github.com/conda-forge/rasterio-feedstock/issues/44", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "ungarj": {"issues": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/1206", "title": "WarpedVRT resampling behavior", "body": "``WarpedVRT`` shows unexpected behavior when using other resampling methods than ``Resampling.nearest``.\r\n\r\n## Expected behavior and actual behavior.\r\n\r\n``Resampling.bilinear`` returns the same output than ``Resampling.nearest``. However, when resampling with GDAL, the output image is smoothed.\r\n\r\nGDAL bilinear:\r\n![gdal_bilinear](https://user-images.githubusercontent.com/3802285/33208787-3dc1029a-d113-11e7-80a7-bf918cdcb5fb.jpg)\r\n\r\n``Resampling.nearest``:\r\n![rio_nearest](https://user-images.githubusercontent.com/3802285/33208785-3d86cf3a-d113-11e7-8473-ff010bee37d1.jpg)\r\n\r\n``Resampling.bilinear``:\r\n![rio_bilinear](https://user-images.githubusercontent.com/3802285/33208786-3da0bbb6-d113-11e7-9c9b-5b188b9e1910.jpg)\r\n\r\n## Steps to reproduce the problem.\r\n\r\nHere is a zip file containing the example data (a CleanTOPO extract) and the script that reproduces all outputs: [warpedvrt_resampling.zip](https://github.com/mapbox/rasterio/files/1501490/warpedvrt_resampling.zip)\r\n\r\nthis is the code snipped that reads and resamples the window:\r\n```\r\n    with rasterio.open(input_file, \"r\") as src:\r\n        with WarpedVRT(src, dst_crs=tile.crs, resampling=Resampling.bilinear) as vrt:\r\n            bilinear = vrt.read(\r\n                window=vrt.window(*tile.bounds()),\r\n                out_shape=tile.shape(),\r\n                indexes=1\r\n            )\r\n```\r\nNot sure whether I used all of the parameters correctly. I used the [example](https://mapbox.github.io/rasterio/topics/virtual-warping.html) from the docs.\r\n\r\n## Operating system\r\n\r\nUbuntu 16.04\r\n\r\n## Rasterio version and provenance\r\n\r\n1.0a11 installed from PyPI using pip 9.0.1, using Python 2.7\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1206/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sgillies": {"issues": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/1204", "title": "Create a mapbox/rasterio team to use GitHub discussions", "body": "We've got nothing quite like GDAL's gdal-dev, but maybe this will be enough: https://github.com/blog/2471-introducing-team-discussions.\r\n\r\nThoughts? Any reservations or concerns @geowurster @brendan-ward @perrygeo ?", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1204/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1197", "title": "Document shim module strategy", "body": "A follow up to my work on #1196. The design of the GDAL shim modules and the source juggling in setup.py is under-documented. It's testament to your ingenuity if you can figure out how to contribute to this part of Rasterio.\r\n\r\nI'm on the hook for documenting this in our contributing doc and elsewhere at 1.0.", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1190", "title": "URLs and schemes for Rasterio 1.0", "body": "I'd like to update https://github.com/mapbox/rasterio/blob/master/docs/switch.rst#dataset-identifiers for 1.0 and want to run this by everyone before I do. Feedback, please \ud83d\ude4f \r\n\r\n## Datasets in local files\r\n\r\n### Rasterio\r\n\r\n`path/to/file.tif`\r\n\r\nor equivalently\r\n\r\n`file://path/to/file.tif`\r\n\r\n### GDAL translation\r\n\r\n`path/to/file.tif`\r\n\r\n## Datasets within a local zip file\r\n\r\n### Rasterio\r\n\r\nSee https://commons.apache.org/proper/commons-vfs/filesystems.html#Zip_Jar_and_Tar.\r\n\r\n`zip://path/to/file.zip!/folder/file.tif`\r\n\r\nor equivalently\r\n\r\n`zip+file://path/to/file.zip!/folder/file.tif`\r\n\r\n### GDAL translation\r\n\r\n`/vsizip/path/to/file.zip/folder/file.tif`\r\n\r\n## Datasets on the web\r\n\r\n### Rasterio\r\n\r\n`https://example.com/file.tif`\r\n\r\n### GDAL translation\r\n\r\n`/vsicurl/https://example.com/file.tif`\r\n\r\n## Datasets within a zip file on the web\r\n\r\n### Rasterio\r\n\r\nA variation on https://commons.apache.org/proper/commons-vfs/filesystems.html#Zip_Jar_and_Tar. The `protocol+https` pattern (see https://pip.pypa.io/en/stable/reference/pip_install/#git, https://docs.npmjs.com/cli/install) seems to have won out on the web over Apache's `protocol:https`.\r\n\r\n`zip+https://example.com/file.tif&p=x&q=y!/folder/file.tif`\r\n\r\n### GDAL translation\r\n\r\n`/vsizip/{/vsicurl/https://example.com/file.tif&p=x&q=y}/folder/file.tif`", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1190/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1151", "title": "Map zip+https:// to GDAL /vsizip/vsicurl", "body": "As well as `zip+file://` -> `vsizip` and `zip+s3://` -> `/vsizip/vsis3`.\r\n\r\nSee https://trac.osgeo.org/gdal/wiki/UserDocs/ReadInZip#Complexexamplecombiningwithvsizip.", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1151/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [{"url": "https://api.github.com/repos/mapbox/rasterio/commits/c075358b162298074db10054411553e2d845ae3b", "message": "Merge pull request #1245 from mapbox/issue1217\n\nUse enum for rasterize merge algorithm"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/92104fbdc29fe6751956dbe7ac108f1fbebd9e6f", "message": "Comment has not been valid in a long time"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/3662de90a662f92fabc0656ea0581b62808cc363", "message": "Merge pull request #1243 from mapbox/window-mask\n\nsupport writing windowed internal masks"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/27676a1fb6ca48216dbcac9cbd67e2156d9cc9b1", "message": "Merge pull request #1239 from mapbox/boundless-vrt-nearest\n\nBoundless reads that don't alter pixels"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/711400a1bd005bde8c310b144873cf48a03cb426", "message": "Add resampling help to read methods"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/b6fdb9dddefc0b04970b464efb3ad433e96e9151", "message": "Even more variable windows and cleaner asserts"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/ccdba45f39ada0615b7c5e347e46261586e57a52", "message": "Outer boundless reads"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/60350ebc4f615d515d8f4eb2fa5f459479e0a391", "message": "Add docstring"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/cddb90c3206ec16e953eaec0dce34271f0d4f8c4", "message": "Add test of pixel fidelity"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/08df92cf160e77660ee5f9f6190be4d19537f236", "message": "Use nearest resampling for VRT\n\nSince we're not changing resolution in boundless reads, nearest is\nA-ok. The important thing is to forward the resampling algo when\nwe read()."}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/0f72e35bbc36cc4a07cc11c33a1aa5e9e0374424", "message": "Merge pull request #1236 from omad/patch-1\n\nFix link to TravisCI CloudFormation IAM template"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/fef7353c6f6371628d5ce6d38913d0d3fc2ed406", "message": "Remove stranded text"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/84958d7a36e9cbb7bc7d6088e9f66bc9160cfbbc", "message": "Add note about dataset objects"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/3adfdd25548463a2a9692c492a4ad47e142aaab4", "message": "Merge pull request #1229 from mapbox/issue1208\n\nNew decorator for requiring specific GDAL version"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/b71fa43290f0f9b07dbc7fb3d5604eca88a2a72b", "message": "Merge pull request #1222 from DHI-GRAS/naming\n\nNaming raster / source / dataset"}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29265265", "body": "Using ReadBlock and WriteBlock as in http://www.gdal.org/classGDALRasterBand.html#a09e1d83971ddff0b43deffd54ef25eef?\n\nA major concern for me is how RasterIO and Block access can't be mixed, explained in http://osgeo-org.1560.x6.nabble.com/gdal-dev-Best-practices-for-concurrent-writes-with-GDAL-was-RasterIO-in-paralel-td3746104.html#a3746106, and how to protect programmers from mixing them.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29265265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29299794", "body": "Don't take this the wrong way, anyone, but I'm going to prune away off-topic or tangential comments in this repo.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29299794/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29301870", "body": "Thanks, @AsgerPetersen, I think I get it.\n\nIn your example above, I see block reads and a windowed write. Is that deliberate? It could be a good usage pattern: block writing is tricky and as you said, requires understanding of GDAL internals, while block reading is more forgiving, just iterate over blocks as the driver gives them to you.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29301870/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29301962", "body": "I'm probably in favor of this, but what exactly is the difference from #6?\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29301962/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30175196", "body": "I'm going to try to keep issues actionable and moving forward, so will close this one. do send a pull request when ready!\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30175196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30184894", "body": "That interface looks almost exactly right to me. For a start, let's just have the native blocks as (offsetx, offsety, width, height) tuples from a src.blocks iterator. I'd rather we aggregate them (for the 2x2 case) using an itertools-ish grouping approach.\n\n```\nfor double_blocks in double_the_blocks(src.blocks(1)):\n    ...\n```\n\nBut if this won't work a chunksize kwarg would be okay. How about window as a kwarg?\n\n```\n    for block in src.blocks(1):\n        data = src.read_band(1, window=block)\n        dst.write_band(1, data, window=block)\n```\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30184894/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30246399", "body": "Great. While we're discussing blocks, I've got a half-formed idea that a function returning the block window for a given pixel coordinate would be helpful. Yes? No? \n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30246399/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30259698", "body": "Implemented in a8e0533 (I messed up the commit message, should have mentioned this issue). \n\nLemme know if it works like you'd expect. And thanks again for the help on this!\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30259698/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30342183", "body": "@AsgerPetersen you mean the window tuples, right? If so, I agree 100% and this is the time to switch. \n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30342183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30347399", "body": "Can you check out the commit above?\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30347399/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30390413", "body": "@hobu, any comment on this interface for windowed reading and writing? https://github.com/sgillies/rasterio/blob/issue13/docs/windowed-rw.rst\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30390413/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30486933", "body": "@AsgerPetersen after a little more thought: to get closer to numpy syntax should the windows be tuples like \n\n```\n(row_start, row_stop, col_start, col_stop)\n```\n\nor even\n\n```\nwindow = ((row_start, row_stop), (col_start, col_stop))\n```\n\n? The second form is directly convertible to numpy slices for 2d subsets:\n\n```\narr[window[0]:window[1]]\n```\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30486933/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30523031", "body": "@hobu thanks!\n\n@AsgerPetersen: windows don't apply to .ul(). It's there to serve the \"I have x,y coordinates in space, what pixel do they fit?\" question. But yes, it could accept either a tuple or x, y positional params.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30523031/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30599230", "body": "@RutgerK: it's an interesting idea, but I think it complicates rasterio and is better left out of the library. I suspect it would be less code to extend rasterio yourself with a new function that took a list of filenames and made itself into a context manager for all those files, closing them on exit, etc.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30599230/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30677276", "body": "Agreed. How about another band-ordered list property (like band_shapes) called \"nodata\"?\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30677276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/31664866", "body": "Looks pretty good. I see a couple little things to change, but I'll do that after I merge.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/31664866/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/mapbox/rasterio/comments/6100902", "body": "@AsgerPetersen have you looked into parallel processing with rasterio? I thought you might be interested in this example. Turning it into a useful tool becomes a matter of choosing optimal window sizes, among other things, but this could be a good starting point.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/6100902/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/6144313", "body": "@AsgerPetersen thanks for the feedback. Yeah, that's our parallelization strategy at Mapbox, too.\n\nI read through GDAL's warper code this weekend and discovered that in multi mode it does this: multiple threads each doing the full read-process-write chunk-wise but with mutexes that ensure that only one is doing IO on a file at any time. Better than what I suggested and worth exposing in rasterio someday.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/6144313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/6872946", "body": "@kapadia How about returning a ColorInterp enum here?\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/6872946/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8002097", "body": "@brendan-ward check this out :) another function that both Fiona and Rasterio have needed.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8002097/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8451730", "body": "@jfloyd99 @brendan-ward is this better?\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8451730/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8823708", "body": "Yes, yes. Good comments all.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8823708/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8904988", "body": "@kapadia I think both will work in this case.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8904988/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9379205", "body": "Fixed in next revision\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9379205/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9488111", "body": "@AsgerPetersen how's this for closure on #261?\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9488111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9490237", "body": "@synflyn28 Whadaya think? Is this example helpful?\n\nMixing extent changes _and_ coordinate reference system (CRS) changes gets a little more complicated, for sure, because the destination transform needs to be in the units of the output CRS.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9490237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9978925", "body": "@mwtoews can you check that this is consistent with your original intent?\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9978925/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9978939", "body": "@IamJeffG what do you think of this docstring change?\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9978939/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22242597", "body": "I'm torn about this. Feels premature, I'd rather wait until it would be used in another command.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22242597/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22363887", "body": ":+1: \n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22363887/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22675788", "body": "Good idea!\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22675788/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22892825", "body": "@mwtoews good point... i'll undo this and rethink my approach. Looking at the files I'm using to test rio-merge, they are uint8 with a defined nodata value of -9999.0. A terrible practice since this is also the value that GDAL returns from `GDALGetRasterNoDataValue()` when there's no defined nodata value. And I need to deal with this because a naive `.fill(nodataval)` leads to this:\n\n``` python\n>>> arr = np.zeros((2,2), np.uint8)\n>>> arr\narray([[0, 0],\n       [0, 0]], dtype=uint8)\n>>> arr.fill(-9999.0)\n>>> arr\narray([[241, 241],\n       [241, 241]], dtype=uint8)\n```\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22892825/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22905134", "body": "Awesome. Yes.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22905134/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22907774", "body": "Fixed. Also added more tests to get coverage of rasterio.rio.merge back to 100%.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22907774/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "fmaussion": {"issues": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/1199", "title": "Can rasterio coordinates be non rectilinear?", "body": "We are currently trying to [fix a bug](https://github.com/pydata/xarray/pull/1712) in xarray's rasterio backend.  \r\n\r\nTo compute the dataset's cartesian coordinates, I'm replacing the current error prone homegrown code with the following:\r\n\r\n```python\r\nif LooseVersion(rasterio.__version__) < '1.0':\r\n    transform = riods.affine\r\nelse:\r\n    transform = riods.transform\r\nnx, ny = riods.width, riods.height\r\nif transform.is_rectilinear:\r\n    # Coordinates are 1D\r\n    # xarray's convention is to have pixel center coordinates\r\n    x, _ = (np.arange(nx)+0.5, np.zeros(nx)+0.5) * transform\r\n    _, y = (np.zeros(ny)+0.5, np.arange(ny)+0.5) * transform\r\nelse:\r\n    # Can this happen?\r\n```\r\n\r\nI have two questions: \r\n- is the code above OK? It works for my use cases, but I'm not sure it's working for *all* uses cases. \r\n- can files opened by rasterio have non-rectilinear (i.e.: 2D) coordinates? I never encountered one, and none of the test files on the rasterio repository has non-rectilinear coordinates, but I thought I'd rather ask here...\r\n\r\nThanks!\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sebhahn": {"issues": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/1198", "title": "VRT format to create an image stack and read a time series", "body": "I was going through the rasterio documentation and found the class 'rasterio.vrt.WarpedVRT`. However, I'm not sure if this is what I'm looking for. In my use case I would like to read a certain subset of many raster files (i.e. basically a time series from an image stack). Is this supported at the moment in rasterio?", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mojodna": {"issues": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/1191", "title": "Sidecar masks are lost when using WarpedVRTs", "body": "**Version**: `51968aee58101d6fb264dfd4e13008a6ee3f3adb` (`master` post `1.0a11`)\r\n\r\nSidecar masks (`.msk`) are ignored when the source is wrapped in a `WarpedVRT`, probably because we're not doing anything special to preserve / mark them (in the same way that an XML VRT would).\r\n\r\nFailing test:\r\n\r\n```diff\r\ndiff --git i/tests/test_band_masks.py w/tests/test_band_masks.py\r\nindex f6cf3ac..fdd248d 100644\r\n--- i/tests/test_band_masks.py\r\n+++ w/tests/test_band_masks.py\r\n@@ -6,8 +6,11 @@ import numpy as np\r\n import pytest\r\n \r\n import rasterio\r\n+from rasterio import warp\r\n+from rasterio.crs import CRS\r\n from rasterio.enums import MaskFlags\r\n from rasterio.errors import NodataShadowWarning, RasterioDeprecationWarning\r\n+from rasterio.vrt import WarpedVRT\r\n \r\n \r\n @pytest.fixture(scope='function')\r\n@@ -175,3 +176,30 @@ def test_masking_sidecar_mask(tiffs):\r\n         assert r.mask.all()\r\n         masks = src.read_masks()\r\n         assert not masks.any()\r\n+\r\n+\r\n+def test_masking_vrt_sidecar_mask(tiffs):\r\n+    # If the dataset has a .msk sidecar mask band file, all masks will\r\n+    # be derived from that file.\r\n+    with rasterio.open(str(tiffs.join('sidecar-masked.tif'))) as src:\r\n+        dst_crs = CRS.from_epsg(4326)\r\n+        transform, dst_width, dst_height = warp.calculate_default_transform(\r\n+            src.crs, dst_crs, src.width, src.height, *src.bounds)\r\n+\r\n+        with WarpedVRT(\r\n+                src,\r\n+                dst_crs=dst_crs,\r\n+                dst_width=dst_width,\r\n+                dst_height=dst_height,\r\n+                dst_transform=transform) as vrt:\r\n+\r\n+            for flags in vrt.mask_flag_enums:\r\n+                assert MaskFlags.per_dataset in flags\r\n+                assert MaskFlags.alpha not in flags\r\n+                assert MaskFlags.nodata not in flags\r\n+            rgb = vrt.read(masked=True)\r\n+            assert rgb.mask.all()\r\n+            r = vrt.read(1, masked=True)\r\n+            assert r.mask.all()\r\n+            masks = vrt.read_masks()\r\n+            assert not masks.any()\r\n```\r\n\r\nTest output:\r\n\r\n```\r\n________________________________________ test_masking_vrt_sidecar_mask _________________________________________\r\n\r\ntiffs = local('/tmp/pytest-of-root/pytest-1/test_masking_vrt_sidecar_mask0')\r\n\r\n    def test_masking_vrt_sidecar_mask(tiffs):\r\n        # If the dataset has a .msk sidecar mask band file, all masks will\r\n        # be derived from that file.\r\n        with rasterio.open(str(tiffs.join('sidecar-masked.tif'))) as src:\r\n            dst_crs = CRS.from_epsg(4326)\r\n            transform, dst_width, dst_height = warp.calculate_default_transform(\r\n                src.crs, dst_crs, src.width, src.height, *src.bounds)\r\n\r\n            with WarpedVRT(\r\n                    src,\r\n                    dst_crs=dst_crs,\r\n                    dst_width=dst_width,\r\n                    dst_height=dst_height,\r\n                    dst_transform=transform) as vrt:\r\n\r\n                for flags in vrt.mask_flag_enums:\r\n>                   assert MaskFlags.per_dataset in flags\r\nE                   assert <MaskFlags.per_dataset: 2> in [<MaskFlags.all_valid: 1>]\r\nE                    +  where <MaskFlags.per_dataset: 2> = MaskFlags.per_dataset\r\n\r\ntests/test_band_masks.py:197: AssertionError\r\n```", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "four43": {"issues": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/1159", "title": "vsis3 write capabilities", "body": "This is an enhancement. I have been searching around and haven't been able to find any docs or explanation of this issue. It would be great if direct S3 writing was possible. According to this announcement it's supported by the /vsis3/ handler: \r\n\r\nhttps://lists.osgeo.org/pipermail/gdal-dev/2015-October/042975.html\r\n\r\nSequential writing only which I understand could be kind of a pain to enforce/clunky. In Rasterio, it looks like here a type error is explicitly raised: \r\n\r\nhttps://github.com/mapbox/rasterio/blob/master/rasterio/_io.pyx#L942\r\n\r\nThat seems like kind of an anti pattern. Instead of forcing an error for that feature could you try the write, then bubble up the error from the underlying VFS? I could totally be looking in the wrong place, but that's where I found my error was generated.\r\n\r\nThis is a great library, thanks for all the effort on it. I can try and help where I can. \r\n\r\nThanks,\r\n-Seth \r\n\r\nEnvironment:\r\n```\r\n$ pip freeze | grep rasterio\r\nrasterio==0.36.0\r\n\r\nGDAL Version 2.2.1\r\n\r\n$ python --version\r\nPython 3.5.2\r\n\r\n$ uname -a\r\nLinux seth-ws 4.4.0-96-generic #119-Ubuntu SMP Tue Sep 12 14:59:54 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n```", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1159/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "arthur-e": {"issues": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/1157", "title": "CLI calc to consider NoData values; CLI warp to clear NoData values?", "body": "## Feature Request\r\n\r\nI would really like to be able to perform calculations over NoData (and other values) using the CLI `calc` program. Right now (version 0.36.0), it seems like the CLI `calc` program ignores NoData areas. Doubtless this is useful in many cases but it is problematic for other applications (e.g., merging masks). It would be nice if there was a switch to force NoData values to be treated like any other value.\r\n\r\nAlternatively, or perhaps in conjunction with the improvement above, the CLI `warp` tool could allow for the resetting of the NoData value. Right now, it is possible to change the NoData value to a new value, but it is not clear how to clear the NoData value entirely. The GDAL utility gdalwarp, for instance, [allows the NoData value to be unset in the output](http://www.gdal.org/gdalwarp.html).\r\n\r\nThanks for considering!\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nI expected, e.g., a calculation over two binary masks (ones and zeroes everywhere):\r\n\r\n```sh\r\nls *some_files.tiff | xargs rio calc \"(greater (+ (read 1) (read 2)) 0)\" -o output.tiff\r\n```\r\n\r\nTo produce an image where NoData areas remain 0 in the output. But, instead, the NoData areas appear as 1. The NoData values are set to the Landsat convention, -9999.\r\n\r\n## Operating system\r\n\r\nUbuntu 16.04, Python 3\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio 0.36.0 installed with `pip`\r\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "brendan-ward": {"issues": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/1143", "title": "Internal rounding within windows.py::round_offsets() and round_lengths() should be optional", "body": "Use case:\r\ngiven a floating point window, for example, derived from a polygon intersected with a raster\r\n```\r\nWindow(col_off=1.9999, row_off=1.9999, width=3.001, height=3.001)\r\n```\r\n\r\nWe want to be able to derive the outermost pixel indices that contain that polygon by default:\r\n```\r\nWindow(col_off=1, row_off=1, width=4, height=4)\r\n```\r\nWe can opt-in to rounding if that is desirable for a given use case (e.g., to snap to closest rather than outermost index).\r\n\r\nRight now, `round_offsets()` and `round_lengths()` use internal rounding prior to applying `ceil` or `floor` to a given value:\r\nhttps://github.com/mapbox/rasterio/blob/master/rasterio/windows.py#L601-L603\r\n\r\nSeems like we have 2 options:\r\n1. make the `pixel_precision` parameter optional, default `None`.  Only apply rounding if provided.\r\n2. add a pair of new functions `snap_offsets()` and `snap_lengths()` that apply only `ceil` or `floor` and not internal rounding.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1143/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}], "commits": [{"url": "https://api.github.com/repos/mapbox/rasterio/commits/eca50a816e7fe5ae2ede117158856ce2724d46f1", "message": "Use enum for rasterize merge algorithm"}], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/mapbox/rasterio/comments/8006369", "body": "@sgillies this breaks in cython 0.20 (on windows) due to casting of python temporary string to char*, but works fine in 0.21 ( [one of several new features](https://github.com/cython/cython/blob/master/CHANGES.rst#021-2014-09-10) ).  May want to up the version required in `requirements_dev.txt`\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8006369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8451858", "body": "Looks better to me - thanks!.  :+1: \n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8451858/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8808845", "body": "Possibly overkill, but please consider adding numpy-style docstrings such as in [features.py](https://github.com/mapbox/rasterio/blob/master/rasterio/features.py#L25), as per #161.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8808845/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8808854", "body": "Please move comment to it's own line (before or within `if`)\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8808854/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8808958", "body": "Looks like you are sidestepping some of the validation of window parameters that you are doing in `eval_window`.  Might be a good idea to do some of that validation here or validation errors may get masked by `IndexErrors` or the like.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8808958/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8808971", "body": "Leaving this unqualified seems like it risks catching too many kinds of exceptions, some of which are true errors (e.g., `IOError`?).  Are you trying to handle the `AssertionError` here or something else?\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8808971/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8809010", "body": "could be simplified to: `if len(set(nodatavals)):` and avoid otherwise unused local variable above.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8809010/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9369978", "body": "@sgillies Does this need to be closed below, ~ line 874?\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9369978/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9370004", "body": "@sgillies Please add a newline here; with two parameter lists that wrap like this it is hard to see breaks between function calls.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9370004/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9370115", "body": "@sgillies The docstring is now incorrect; image is not modified in place.  Not always a \"band\" either; may simply be an array.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9370115/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9370128", "body": "@sgillies you can return here and avoid possibly undefined `ret` below if `with` statement fails.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9370128/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}], "review_comments": [{"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/21583781", "body": "Consider a little consolidation:\n\n```\ngdal_root = os.path.join(sys.prefix, 'share/gdal')\nif os.path.exists(os.path.join(gdal_root, 'pcs.csv')):\n    os.environ['GDAL_DATA'] = gdal_root\n```\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/21583781/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/21623377", "body": "@sgillies in cases of simple edits like this, would you prefer I:\n1) flag this for you to fix, then I merge when you are done      (this is closest to our process at CBI and why I defaulted to this)\n\nOR \n\n2) I make edits directly in your pull request, and ping you for approval\n\nOR \n\n3) I make edits then merge\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/21623377/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22075761", "body": "just out of curiosity, why not use `pop` for this case?\n\n`output = files.pop()`\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22075761/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22256944", "body": "@snorfalorpagus Please consider adding a bit more description to this from the GDAL docs describing the algorithm (and suggested uses or uses to avoid).\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22256944/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22257019", "body": "@snorfalorpagus typo: \"valud\" -> \"valued\".\n\nConsider rewriting a little to make it more clear, e.g.,:\n\n```\nA mask band indicating pixels to be interpolated.  Pixels to interpolate into are indicated by the value 0.  Values of 1 indicate areas to use during interpolation.  Must be same shape as image.\n```\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22257019/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22257045", "body": "@snorfalorpagus If `smoothing_iterations` is retained, please add a little more detail to this description to indicate what smoothing applies to: interpolated pixels, or full image.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22257045/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22240749", "body": "Please consider adding a little more to this message.\n\n```\nhelp=\"Use RS (0x1E) as a text separator between records \n(per the draft-ietf-json-text-sequence).  Default is False.\"\n```\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22240749/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22240789", "body": "Consider moving this option to `params.py`\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22240789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22363749", "body": "@sgillies Consider moving `nodata_mask = None` up here so it transcends the `if` branching below.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22363749/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22668026", "body": "@sgillies shouldn't this be based on the data type for `dest` or that automatically handled?\n\nThis could be:\n`nodataval = dest.flat[0]`\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22668026/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22695903", "body": "@sgillies I'm not a fan of using exception handling to differentiate masked arrays from regular ndarrarys (here and above).\n\nHow about: \n`if isinstance(data, np.ma.masked_array):`\nOr \n`if hasattr(data, 'mask'):`\n\nIf I recall correctly, we do this test in many places in rasterio (in various ways), perhaps a tiny, obvious utility function would help us do this more consistently?  E.g., `is_masked_array(arr)`  (which could implement the highest performance way of detecting if masked or regular array).\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22695903/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22835656", "body": "@sgillies Please remove commented code\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22835656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22835831", "body": "@sgillies This `if` and the one on 694 are unnecessary since they do not change the value of `roff` and `coff`\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22835831/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22836018", "body": "@sgillies adding tuples seems unnecessary since everything is at hand here, couldn't you just do this?\n\n`dest = np.zeros((first.count, output_height, output_width), dtype=first.dtypes[0])`\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22836018/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22836168", "body": "@sgillies Consider adding:\n\n```\nelse:\n    nodataval = 0\n```\n\nand then remove the `or 0` part of the conditionals on lines 111 and 117.  Those seem risky unless handled here, since 0 is only indicating nodata when `nodataval is None`   (otherwise 0 is possibly a valid pixel value).\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22836168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22836307", "body": "@sgillies try / catch doesn't seem necessary here.  You are just verifying that src.window() executes.    (and if it throws something other than `ValueError` we'd want this test to fail here)\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22836307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22836413", "body": "@sgillies this seems potentially risky across platforms since it is a floating point precision equality comparison.  What about\n\n`assert abs(data[0].mean() - src.read(1).mean()) < 0.0001`\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22836413/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22836912", "body": "@sgillies I've been reconsidering how we are using fixtures here and in #241 based on my initial addition of them.  Obviously I didn't come up with a good precedent; the goal for fixtures should be something we reuse across multiple tests (my example originally did but I later modified the tests and ended up using it only once; I should have stripped it back out).  If the fixture is only used in one test, we could accomplish the same thing by having at the beginning of the test.  That said, your changes here are fine to leave as is for now.\n\nI'd like to take a pass at refactoring this pattern once this and #241 are merged into the codebase.  I'm also thinking that we'll probably want to move these fixtures from this module into `tests/conftest.py` so we can use them in other tests (there's other tests that could benefit from using these rather than the test files for performance reasons).\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22836912/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22903768", "body": "@sgillies Consider using a conditional instead of exception handling:\n\n```\ntry: \n    if np.dtype(dtype).kind in ('i', 'u'):\n        info = np.iinfo(dtype)\n        inrange = (info.min <= nodataval <= info.max)\n    else:\n        info = np.finfo(dtype)\n        inrange = (info.min <= nodataval <= info.max)\n\nexcept:\n    pass\n```\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22903768/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22905279", "body": "@sgillies this has the risk of `info` being undefined at this point.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22905279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}]}, "vincentsarago": {"issues": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/1141", "title": "Error when reading a dataset with window and boundless to a buffer ", "body": "**Version:** `master (1.0a10)`\r\n\r\nWhen reading window at resolution higher native resolution `src.read` return an error.\r\n\r\n```python\r\ndata = src.read(window=window, \r\n    out_shape=(512, 512), \r\n    indexes=1,  boundless=True)\r\n\r\nValueError: could not broadcast input array from shape (515,515) into shape (512,512)\r\n```\r\n\r\nThis error wasn't present in rasterio `1.0a9`. I believe the error is happening somewhere here\r\nhttps://github.com/mapbox/rasterio/blob/6fc3ab334200920819dc2ae063c7845988bcd9fc/rasterio/_io.pyx#L336-L347\r\n\r\nThe major change I'm seing between `1.0a9` to `1.0a10` is the window overlap calculation : https://github.com/mapbox/rasterio/blob/6fc3ab334200920819dc2ae063c7845988bcd9fc/rasterio/_io.pyx#L324-L325\r\n\r\nthat could have an impact on https://github.com/mapbox/rasterio/blob/6fc3ab334200920819dc2ae063c7845988bcd9fc/rasterio/_io.pyx#L342-L344\r\n\r\nThe issue is summarized in this [notebook](https://gist.github.com/vincentsarago/e7e0ec1edf4732108c7ef27deca0a5d5)\r\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1141/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "perrygeo": {"issues": [], "commits": [{"url": "https://api.github.com/repos/mapbox/rasterio/commits/779bad70c43ebf79845b495772e25aee3abe5df2", "message": "catch only CPLE_BaseError"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/2e22ca9263e9116eaa1176debdc33c5bfaf46552", "message": "only create mask if per_dataset mask doesn't exist yet"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "omad": {"issues": [], "commits": [{"url": "https://api.github.com/repos/mapbox/rasterio/commits/5f9c225cf764a59ab7c8bf5abe613dd8282b7b30", "message": "Fix link to TravisCI CloudFormation IAM template"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "j08lue": {"issues": [], "commits": [{"url": "https://api.github.com/repos/mapbox/rasterio/commits/927cae58e3c25150b73d3a3549c5b163c404fb33", "message": "Merge branch 'master' into naming"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/f4f1740f944e0cdaac6f8ae3da2fc6a860b97cfd", "message": "opened in 'r' mode"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/7ab07aecf3b7184bebe9301b09c1f4e82b2078e8", "message": "DatasetReader -> dataset"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/57ed398ab86ccd74a50e6de7bcf21ea6bc837a65", "message": "DatasetReader -> dataset"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/9548a6beb5416ee32210d3d9b57ad22c905000f4", "message": "DatasetReader -> dataset"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/849e3e1b2973773ad8efad8f6a41333986067d9b", "message": "DatasetReader -> dataset"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/839123f3edc2253d437a1c117d01f5470f47f282", "message": "DatasetReader -> dataset"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/15837f4c6e19b2c74d3f4ea471305832c8eba823", "message": "DatasetReader -> dataset"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/b74581f5571590461012d4ce35b739a00bf16061", "message": "DatasetReader -> dataset"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/666176c4fb9c297ac79975cdef8d056656e3a75f", "message": "DatasetReader -> dataset"}, {"url": "https://api.github.com/repos/mapbox/rasterio/commits/de666ff5887e5ffb1d70860d7540856f8128889b", "message": "DatasetReader -> dataset"}], "pull_requests": [{"url": "https://api.github.com/repos/mapbox/rasterio/pulls/1235", "title": "WIP:add indexes / bidx parameter to merge", "body": "Sorry for bombarding you with PRs... \r\n\r\nThis one adds the `indexes` parameter to `rasterio.merge.merge`, equivalent to the PR you just merged for `rasterio.mask.mask` (#1225).\r\n\r\nI also added the functionality to `rio merge` as a `--bidx` parameter.", "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/1226", "title": "WIP:use non-square test image", "body": "I have a suspicion that `raster_geometry_mask` with `crop=True` is returning a square image even though the inputs should give a rectangular image.\r\n\r\nIt is only a suspicion yet, but we would not catch this error with our current tests, because we are always using a square input image. \r\n\r\nI think it would be better to use a non-square test image to maybe also detect inconsistencies as discussed in https://github.com/mapbox/rasterio/issues/525 (have not yet checked whether they use this image).\r\n\r\nNB: This PR is only for investigating which tests fail when I just deform the test image.", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "celoyd": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29094970", "body": "Makes complete sense. Of the conflicting conventions, this seems like the less painful one to apply.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29094970/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "commit_comments": [], "review_comments": []}, "prologic": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29264866", "body": "IHMO I don't think it's a big deal to depend on six\nI do so in a few of my projects and it's quite a minimal dependency.\nPlus if you already have it installed by some other dependency than it's no\nproblems at all.\n\noverall if you plan on supporting both Python 2/3 six is the way to go and\nyou'll just end up duplicating six code if you don't use six.\n\ncheers\nJames\n\nJames Mills / prologic\n\nE: prologic@shortcircuit.net.au\nW: prologic.shortcircuit.net.au\n\nOn Tue, Nov 26, 2013 at 11:07 AM, Mike Toews notifications@github.comwrote:\n\n> Currently there is a very limited used of the six module dependency.\n> \n> In rasterio/**init**.py:\n> \n> from six import string_types\n> \n> Looking at the source codehttps://github.com/kelp404/six/blob/master/six.py#L31,\n> this function from the module can be replaced by:\n> \n> import sysif sys.version_info[0] >= 3:\n>     string_types = str,else:\n>     string_types = basestring,\n> \n> Or, an alternative solution is to define:\n> \n> if sys.version_info[0] >= 3:\n>     basestring = str\n> \n> and replace instances of string_types with basestring.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/sgillies/rasterio/issues/9\n> .\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29264866/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30182237", "body": "No problems. I'll try to add this to rasterio soon. We have the code in our\nproject's codebase, just need to make it more rasterio-ish :)\n\nJames Mills / prologic\n\nE: prologic@shortcircuit.net.au\nW: prologic.shortcircuit.net.au\n\nOn Tue, Dec 10, 2013 at 7:27 AM, Sean Gillies notifications@github.comwrote:\n\n> I'm going to try to keep issues actionable and moving forward, so will\n> close this one. do send a pull request when ready!\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/sgillies/rasterio/issues/1#issuecomment-30175196\n> .\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30182237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30632406", "body": "Congrats on a great release!\n\nJames Mills / prologic\n\nE: prologic@shortcircuit.net.au\nW: prologic.shortcircuit.net.au\n\nOn Mon, Dec 16, 2013 at 1:47 PM, Sean Gillies notifications@github.comwrote:\n\n> Closed #15 https://github.com/sgillies/rasterio/issues/15.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/sgillies/rasterio/issues/15\n> .\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30632406/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "AsgerPetersen": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29273497", "body": "I was thinking more along the lines of using windowed read/write and just have a convenient way to align the processing chunks with the block size of the source raster.\n\nThis is not as fast as using block indexes directly, but it is significantly faster than making badly aligned reads, and it should prevent mistakes as you mention.\n\nMoreover this approach will always work regardless of differences in source and destination layout (for instance going from a tiled source to a scanline destination). At worst it will perform more or less as bad as choosing you own chunks.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29273497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29277850", "body": "Basically I want to be able to process my rasters in chunks which should match the block layout from the source raster. Preferably without having to know too much about the \"block\" concept from GDAL.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29277850/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29369492", "body": "Assuming the raster for some reason cannot be loaded entirely into RAM windowed reads are necessary to allow efficient random access. In my opinion this is a very common use case. For instance when calculating zonal stats, getting single pixel value etc.\n\n#6 allows efficient processing of the entire raster in smaller chunks.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29369492/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29416692", "body": "Yes, I think windowed write is the way to go. I am a little unsure whether it could maybe be a good idea to read the data out using windowed reads also.\n\nWith something like these methods (completely untested) exposed on RasterReader:\n\n``` python\ndef block_shapes(self):\n        \"\"\"Returns an ordered list of block shapes for all bands\"\"\"\n        cdef void *hband = NULL\n        cdef int *xsize, *ysize\n        if not self._block_shapes:\n            if not self._hds:\n                raise ValueError(\"Can't read closed raster file\")\n            for i in range(self._count):\n                hband = _gdal.GDALGetRasterBand(self._hds, i+1)\n                _gdal.GDALGetBlockSize(hband, xsize, ysize)\n                self._block_shapes.append( (xsize, ysize) )\n        return self._block_shapes\n\ndef get_chunks(self, bandix, chunk_shape = None):\n        block_shape = chunk_shape or self.block_shapes[bandix - 1]\n        cols = int(ceil(float(self.width) / block_shape[0]))\n        rows = int(ceil(float(self.height / block_shape[1]))\n        for c in xrange(cols):\n            yoffset = c * block_shape[0]\n            height = min(block_shape[0], self.height - yoffset)\n            r in xrange(rows):\n                xoffset = r * block_shape[1]\n                width = min(block_shape[1], self.width - xoffset)\n                yield (xoffset, yoffset, width, height)\n```\n\nWhich would then be used like this\n\n``` python\nwith rasterio.open('source.tif') as src:\n    kwargs = src.meta\n    with rasterio.open('destination.tif', 'w', **kwargs) as dst:\n        for window in src.get_chunks( 1 ):\n            data = src.read_band( 1, window)\n            dst.write_band( 1, data, window)\n```\n\nIf one want larger to process 2x2 blocks at a time:\n\n``` python\nwith rasterio.open('source.tif') as src:\n    kwargs = src.meta\n    with rasterio.open('destination.tif', 'w', **kwargs) as dst:\n        chunksize = map(lambda x: x*2, src.block_shapes[bandix - 1])\n        for window in src.get_chunks( 1, chunksize ):\n            data = src.read_band( 1, window)\n            dst.write_band(1, data, window)\n```\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29416692/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30207168", "body": "I think your approach with the \"itertool-ish grouping\" gives a cleaner and more understandable interface.\n\nThe block concept is difficult for people who are not raster aficionados, and having a \"chunksize\" param on a \"blocks\" method will only make things more confusing.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30207168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30360796", "body": "The commit looks good, I think. I believe this will make rasterio a lot easier to use correctly.\n\nThank you! \n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30360796/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30514528", "body": "The second form looks nice, I think.\n\nShould the ul-method take a coordinate tuple then?\n\nLike:\nsrc.ul(window [0])\n\nSent from Samsung Mobile\n\n-------- Original message --------\nFrom: Sean Gillies notifications@github.com \nDate:  \nTo: sgillies/rasterio rasterio@noreply.github.com \nCc: Asger Skovbo Petersen mail@asgerpetersen.dk \nSubject: Re: [rasterio] Harmonize indexing throughout the API (#13) \n\n@AsgerPetersen after a little more thought: to get closer to numpy syntax should the windows be tuples like\n\n(row_start, row_stop, col_start, col_stop)\nor even\n\nwindow = ((row_start, row_stop), (col_start, col_stop))\n? The second form is directly convertible to numpy slices for 2d subsets:\n\narr[window[0]:window[1]]\n\u2014\nReply to this email directly or view it on GitHub.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30514528/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30526571", "body": "If the elements of a window specifies the coords of a certain pixel. Wouldn't it be logical if the same way of specifying pixel coords is used throughout the api?\n\nSent from Samsung Mobile\n\n-------- Original message --------\nFrom: Sean Gillies notifications@github.com \nDate:  \nTo: sgillies/rasterio rasterio@noreply.github.com \nCc: Asger Skovbo Petersen mail@asgerpetersen.dk \nSubject: Re: [rasterio] Harmonize indexing throughout the API (#13) \n\n@hobu thanks!\n\n@AsgerPetersen: windows don't apply to .ul(). It's there to serve the \"I have x,y coordinates in space, what pixel do they fit?\" question. But yes, it could accept either a tuple or x, y positional params.\n\n\u2014\nReply to this email directly or view it on GitHub.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30526571/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}], "commit_comments": [{"url": "https://api.github.com/repos/mapbox/rasterio/comments/6139025", "body": "@sgillies I prefer to split big rasters into separate tiffs and then process these datasets in parallel if the algorithm allows. This approach scales well, performs well (for large enough processing jobs), and it saves me from a lot of headache :-)\n\nRegarding the example above: I guess the mentioned IOErrors come from trying to update the destination raster concurrently, which is generally not a good idea. Then having to reprocess the block every time the writing fails seems like a waste of good CPU cycles :-) Also, for large tiffs there will be a lot of overhead opening the files once for each block.\n\nI think a better pattern for parallelization would be 1 thread reading, n threads processing and 1 thread writing. Unfortunately I don't know Python multiprocessing well enough to shake an example out of my sleeve.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/6139025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9493394", "body": "@sgillies Much better. Still, I think that it is not clear that the \"output array\" will not necessarily hold the final result. I have been reading Numpy docs, and I haven't been able to find this fact about ufuncs documented anywhere.  \n\nStating directly at the \"out\" parameter that it shouldn't be used as result would probably prevent a lot of hair pulling. Maybe \"output array\" could be changed to just \"array\". And how about adding something like this to the doc for \"out\": \"Note: The method result may be a view on this array.\" \n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9493394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9557400", "body": "That is very clear. Thank you @sgillies  \n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9557400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}], "review_comments": []}, "hobu": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29593268", "body": "gdal.py has never really had a successful interface to the warper. VRT is probably the most flexible interface to the warper at this time. I will say it'd be damn handy to be able to define your warp kernels in python and have GDAL use them. That's something that no one's done AFAIK.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/29593268/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30512796", "body": ":+1: on the harmonization of ordering.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/issues/comments/30512796/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "kapadia": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/mapbox/rasterio/comments/6873073", "body": "@sgillies makes sense.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/6873073/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/6873346", "body": "@sgillies done. also added the [enum to the setter](https://github.com/mapbox/rasterio/blob/9903d59a71e01285fe2632a0f4ed83a4f1dcc37d/rasterio/_io.pyx#L1576). That way if there's an invalid color interp, the enum will raise an error before calling the C function.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/6873346/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8904553", "body": "@sgillies gcs.csv\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/8904553/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22696067", "body": "+1.\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22696067/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "synflyn28": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/mapbox/rasterio/comments/9490328", "body": "Thanks Sean! This is a great example, though I'm thinking I'm letting gdalwarp do some assumption magic for my specific usecase. What I want to do simply take a raster with a given coordinate system (such as LCC) and then convert it into another one like WGS:84. With gdalwarp I don't mess with the any array dimensions and I let GDAL do all the destination optimization. I believe what I'm wanting to accomplish is what you mentioned as a TODO in your blog post here: http://sgillies.net/blog/2014/02/25/warping-images-with-rasterio.html\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/comments/9490328/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "mwtoews": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22891841", "body": "Doesn't this unset the NoData value if -9999 is used?\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22891841/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22907139", "body": "agree, like `'c'` [kind](http://docs.scipy.org/doc/numpy/reference/generated/numpy.dtype.kind.html) for complex types, which can use `ffinfo`. Just change `elif` to `else`, and this should work (`np.finfo(np.cdouble)`).\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22907139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}, {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22913400", "body": "add `'c'` for complex kinds, i.e. `np.dtype(dtype).kind in ('f', 'c')`\n", "reactions": {"url": "https://api.github.com/repos/mapbox/rasterio/pulls/comments/22913400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "COLLABORATOR"}]}}}}