{"_default": {"1": {"zhang-bin": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/1455", "title": "FUTEX_WAIT  Resource temporarily unavailable", "body": "Please answer these questions before submitting your issue. Thanks!\r\n\r\n1. What did you do? If possible, provide a recipe for reproducing the error.\r\n\r\n\u662f\u7ebf\u4e0a\u6e38\u620f\u7684\u804a\u5929\u670d\u52a1\uff0c\u4eba\u6570\u6bd4\u8f83\u591a\uff0c\u53ef\u80fd\u65e0\u9650\u590d\u73b0\r\n\r\n2. What did you expect to see?\r\n\r\n\u73a9\u5bb6\u6b63\u5e38\u53d1\u9001\u6570\u636e\r\n\r\n3. What did you see instead?\r\n\r\nstrace pid\u4e4b\u540e\u51fa\u73b0\u4e86\r\n\r\nstat(\"/etc/localtime\", {st_mode=S_IFREG|0644, st_size=388, ...}) = 0\r\nwrite(5, \"[2018-01-18 16:32:59 ^15061.250]\"..., 118) = 118\r\nfutex(0x7f3e2afad1c0, FUTEX_WAKE, 1)    = 1\r\nnanosleep({0, 1000}, NULL)              = 0\r\nfutex(0x7f3e2afad1c0, FUTEX_WAIT, 2, NULL) = -1 EAGAIN (Resource temporarily unavailable)\r\nfutex(0x7f3e2afad1c0, FUTEX_WAIT, 2, NULL) = -1 EAGAIN (Resource temporarily unavailable)\r\nfutex(0x7f3e2afad1c0, FUTEX_WAIT, 2, NULL) = -1 EAGAIN (Resource temporarily unavailable)\r\n\r\n4. What version of Swoole are you using (`php --ri swoole`)?\r\n\r\n1.9.21\r\n\r\n\r\n5. What is your machine environment used (including version of kernel & php & gcc) ? \r\nuname -a:   Linux eater_ios_chat 3.10.0-693.5.2.el7.x86_64 #1 SMP Fri Oct 20 20:32:50 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\nPHP 7.1.11\r\ngcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-16)\r\n\r\n\r\n6. If you are using ssl, what is your openssl version?\r\n\u6ca1\u7528\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "brandonpoc": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/1454", "title": "Missing from configure - HAVE_SOCKETS - compilation failed for php_socket datatype", "body": "**My system**\r\n  OS: Linux (Ubuntu 16.04.3 LTS) x86_64\r\n  PHP: 7.0.22-0ubuntu0.16.04.1 ( NTS )\r\n  gcc: gcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.5)\r\n  autoconf 2.69\r\n  swoole version: latest git clone from github /swoole/swoole-src (2.0.12?)\r\n\r\n**PROBLEM:**\r\n\r\nWhen compiling Swoole, I was getting an error about the data type 'php_socket' (from ext/sockets/php_sockets.h, in the PHP extension includes) not being found. I was unable to compile Swoole. php_sockets.h was being included (as the -I flag to gcc was giving it the base directory of where ext/sockets/php_sockets.h could be found). Yet, the data type was missing still!\r\n\r\nThere are ifdefs that check for either HAVE_SOCKETS or COMPILE_DL_SOCKETS (as seen here):\r\n\r\nphp_swoole.h:\r\n\r\n`#if PHP_VERSION_ID >= 50301 && (HAVE_SOCKETS || defined(COMPILE_DL_SOCKETS))`\r\n\r\n(from php70-dev package file \"ext/sockets/php_sockets.h\"):\r\n\r\n```\r\n#if HAVE_SOCKETS\r\n ... all the data typedefs and structs for sockets, like php_socket ..\r\n#endif\r\n\r\n```\r\nHowever, HAVE_SOCKETS is not defined anywhere in the autoconf that makes configure nor the build.sh script. See below:\r\n\r\negrep -r '(HAVE_SOCKETS|COMPILE_DL_SOCKETS)' .\r\n\r\n`./php_swoole.h:#if PHP_VERSION_ID >= 50301 && (HAVE_SOCKETS || defined(COMPILE_DL_SOCKETS))`\r\n\r\n So, the data type is never declared as php_sockets.h also checks for HAVE_SOCKETS (see above), and Swoole fails to compile.\r\n\r\n**THE FIX**\r\n\r\nTo fix this, I added -DHAVE_SOCKETS to the Makefile in the DEFS declaration (along with PHP_ATOM_INC etc). However, this needs to be added with the socket check / --enable-sockets in the source for the autogen of ./configure.\r\n\r\n\r\nJust thought I'd bring this to everyone's attention, in case someone can't figure out why it's not compiling on their system. I don't know if this is specific to my environment or what, as I haven't tested anywhere else.\r\n\r\nRegards,\r\n\r\nBrandon\r\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1454/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "twose": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/1447", "title": "I hope Mysql query can return the data with type.", "body": "Please answer these questions before submitting your issue. Thanks!\r\n\r\n1. What did you do? If possible, provide a recipe for reproducing the error.\r\n\r\n### PDO\r\n```php\r\n$db = new \\PDO('mysql:dbname='.$options['database'].';host='.$options['host'], $options['user'], $options['password']);\r\n$db->setAttribute(\\PDO::ATTR_EMULATE_PREPARES, false);\r\n$r = ($db->query('SELECT cid FROM `user` LIMIT 1', \\PDO::FETCH_ASSOC))->fetch();\r\nvar_dump($r);\r\n```\r\n```php\r\narray(1) {\r\n  [\"cid\"]=>\r\n  int(16)\r\n}\r\n```\r\n\r\n### Swoole\r\n```php\r\nco::create(function () use ($options) {\r\n    $db = new \\Swoole\\Coroutine\\Mysql();\r\n    $db->connect($options);\r\n    $r = $db->query('SELECT cid FROM `user` LIMIT 1');\r\n    var_dump($r[0]);\r\n    \r\n    exit();\r\n});\r\n```\r\n\r\n```php\r\narray(1) {\r\n  [\"cid\"]=>\r\n  string(2) \"16\"\r\n}\r\n```\r\n\r\n\r\n\r\n2. What did you expect to see?\r\nlike PDO.\r\n```php\r\narray(1) {\r\n  [\"cid\"]=>\r\n  int(16)\r\n}\r\n```\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1447/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1446", "title": "How can I solve redirect in concurrent(multi) requests?", "body": "\u8fd9\u4e2a\u8bf4\u8d77\u6765\u6bd4\u8f83\u590d\u6742\r\n\u6839\u636e [#1314](https://github.com/swoole/swoole-src/issues/1314)\r\nclient\u6ca1\u6709\u5e95\u5c42\u5b9e\u73b0\u7684\u81ea\u52a8\u8ddf\u8e2a\u91cd\u5b9a\u5411,\u9700\u8981\u81ea\u5df1\u901a\u8fc7header\u4e2d\u7684location\u6765\u91cd\u5b9a\u5411\r\n\u5728Coroutine Client\u4e2d, defer\u7279\u6027\u53ef\u4ee5\u5b9e\u73b0\u591a\u4e2a\u8bf7\u6c42\u5e76\u53d1, \u4f46\u524d\u63d0\u6761\u4ef6\u662f\u8fd9\u4e9b\u8bf7\u6c42\u662f\u63d0\u524d\u88ab\u8bbe\u5b9a\u597d\u7684.\r\n\u8fd9\u6837\u4e00\u6b21\u5e76\u53d1\u8bf7\u6c42, \u7f51\u7edcIO\u7684\u65f6\u95f4\u5c31\u63a5\u8fd1\u4e8e ```MAX([\u8bf7\u6c421,\u8bf7\u6c422,\u8bf7\u6c423,....])```\r\n\u4f46\u662f\u5982\u679c\u5728\u5e76\u53d1\u4e2d\u8bf7\u6c421\u906d\u9047\u4e86\u91cd\u5b9a\u5411,\u5c31\u9700\u8981new\u4e00\u4e2aclient\u6765\u91cd\u65b0\u8bf7\u6c42.\r\n\u90a3\u4e48\u7f51\u7edcIO\u65f6\u95f4\u5c31\u53d8\u6210\u4e86 ```MAX([\u8bf7\u6c421,\u8bf7\u6c422,\u8bf7\u6c423,....]) + \u91cd\u5b9a\u5411\u8bf7\u6c42```\r\n\r\n\u4f46\u662f\u5728\u4e00\u822c\u4f7f\u7528\u7684curl\u60c5\u5883\u4e0b, \u8bbe\u7f6eCURLOPT_FOLLOWLOCATION\u81ea\u52a8\u5b9e\u73b0\u4e86follow redirect,\r\n\u4f7f\u7528curl_multi_*\u65f6\u4e5f\u65e0\u9700\u5173\u5fc3\u8fd9\u4e00\u95ee\u9898, \u751a\u81f3\u53ef\u4ee5\u5728\u5e76\u53d1\u8bf7\u6c42\u7684\u8fc7\u7a0b\u4e2d\u52a0\u5165\u65b0\u7684\u8bf7\u6c42\u5230\u5e76\u53d1\u961f\u5217\u4e2d.\r\n\u4e0d\u8fc7curl_multi\u4f7f\u7528\u7684\u662fselect.\r\n\u8fd9\u6837\u7f51\u7edcIO\u65f6\u95f4\u53ef\u80fd\u5c31\u7b49\u4e8e``` MAX([\u8bf7\u6c421+\u91cd\u5b9a\u5411\u8bf7\u6c42,\u8bf7\u6c422,\u8bf7\u6c423,....])```\r\n\r\n\u60f3\u77e5\u9053swoole\u80fd\u5426\u4ece\u5e95\u5c42\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898? \u8fd8\u662f\u8bf4\u8fd9\u4e00\u95ee\u9898\u5e76\u4e0d\u91cd\u8981?\r\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1446/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1445", "title": "Unable to get the correct IPV6 address.", "body": "Please answer these questions before submitting your issue. Thanks!\r\n\r\n1. What did you do? If possible, provide a recipe for reproducing the error.\r\n```php\r\nuse Swoole\\Coroutine as co;\r\nco::create(function () {\r\n        $ip = swoole_async_dns_lookup_coro('www.goole.com');\r\n        var_dump($ip);\r\n    \r\n        $ip = co::getHostByName('www.goole.com');\r\n        var_dump($ip);\r\n    \r\n        $ip = co::getHostByName('m.cust.edu.cn',AF_INET6);\r\n        var_dump($ip);\r\n    \r\n        exit();\r\n});\r\n```\r\n\r\n2. What did you expect to see?\r\n[swoole_wiki](https://wiki.swoole.com/wiki/page/790.html)\r\n> swoole_async_dns_lookup_coro based on UDP, unsupported`/etc/hosts`.\r\nSo it means ```Coroutine::getHostByName``` should support hosts.\r\nHere is my hosts\r\n```hosts\r\n2404:6800:4008:c02::63 www.google.com\r\n```\r\nAnd m.cust.edu.cn ipv6 is enable, it's ```[2001:250:7404:b001:3de8:452a:bb5a:2339]```\r\n\r\n3. What did you see instead?\r\n\r\n```php\r\nstring(13) \"87.106.83.127\"\r\nstring(13) \"87.106.83.127\"\r\nstring(9) \"32.1.2.80\"\r\n```\r\n\r\n\r\n4. What version of Swoole are you using (`php --ri swoole`)?\r\n\r\n```php\r\nswoole\r\n\r\nswoole support => enabled\r\nVersion => 2.0.12\r\nAuthor => tianfeng.han[email: mikan.tenny@gmail.com]\r\nkqueue => enabled\r\nrwlock => enabled\r\nasync redis client => enabled\r\nasync http/websocket client => enabled\r\nopenssl => enabled\r\nhttp2 => enabled\r\npcre => enabled\r\nzlib => enabled\r\nmysqlnd => enabled\r\n```\r\n\r\n\r\n5. What is your machine environment used (including version of kernel & php & gcc) ? \r\n```MacOS Sierra 10.12.6```\r\n```\r\nPHP 7.2.1 (cli) (built: Jan  5 2018 17:31:27) ( NTS )\r\nCopyright (c) 1997-2017 The PHP Group\r\nZend Engine v3.2.0, Copyright (c) 1998-2017 Zend Technologies\r\n```\r\n\r\n6. If you are using ssl, what is your openssl version?\r\n```openssl/1.0.2n```\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1445/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "gouchaoer": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/1444", "title": "dns return multi ip address", "body": "hey, if a dns server multi ip address, how do i get them?", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1444/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1426", "title": "swoole make warning", "body": "Please answer these questions before submitting your issue. Thanks!\r\n\r\n1. What did you do? If possible, provide a recipe for reproducing the error.\r\nfor commit:dfe877562410806640259a1f5bf7a5620db32e08\r\nunzip swoole-src-master.zip\r\ncd swoole-src-master\r\nphpize\r\n./configure --enable-coroutine --enable-mysqlnd --enable-debug\r\nmake\r\n\r\n2. What did you expect to see?\r\n\r\n\r\n\r\n3. What did you see instead?\r\n\r\n```\r\n/home/gou_chao/swoole-src-master/swoole_mysql.c: In function 'mysql_response':\r\n/home/gou_chao/swoole-src-master/swoole_mysql.c:897:13: warning: 'len' may be used uninitialized in this function [-Wmaybe-uninitialized]\r\n     ulong_t len;\r\n\r\n```\r\n\r\n\r\n\r\n4. What version of Swoole are you using (`php --ri swoole`)?\r\n\r\n\r\n\r\n\r\n5. What is your machine environment used (including version of kernel & php & gcc) ? \r\n\r\ncentos7, php70, gcc version 4.8.5 20150623 (Red Hat 4.8.5-11) (GCC)\r\n\r\n\r\n6. If you are using ssl, what is your openssl version?\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1426/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1359", "title": "coroutine Swoole\\Http\\Server error", "body": "Please answer these questions before submitting your issue. Thanks!\r\n\u5728\u63d0\u4ea4Issue\u524d\u8bf7\u56de\u7b54\u4ee5\u4e0b\u95ee\u9898\uff1a\r\n\r\n1. What did you do? If possible, provide a recipe for reproducing the error.\r\n\u8bf7\u8be6\u7ec6\u63cf\u8ff0\u95ee\u9898\u7684\u4ea7\u751f\u8fc7\u7a0b\uff0c\u8d34\u51fa\u76f8\u5173\u7684\u4ee3\u7801\uff0c\u6700\u597d\u80fd\u63d0\u4f9b\u53ef\u7a33\u5b9a\u91cd\u73b0\u7684\u6700\u5c0f\u5b9e\u4f8b\u3002\r\n\r\n```\r\n<?php\r\n$server = new Swoole\\Http\\Server('127.0.0.1', 9501);\r\n\r\n$server->on('Request', function($request, $response) {\r\n\r\n//    $tcp_cli = new Swoole\\Coroutine\\Client(SWOOLE_SOCK_TCP);\r\n //   $ret = $tcp_cli->connect('127.0.0.1', 9906);\r\n  //  $tcp_cli ->send('test for the coroutine');\r\n  //  $ret = $tcp_cli->recv(5);\r\n  //  $tcp_cli->close();\r\n\r\n  //  if ($ret) {\r\n        $response->end(' swoole response is ok');\r\n   // }\r\n   // else{\r\n    //    $response->end(\" recv failed error : {$client->errCode}\");\r\n   // }\r\n});\r\n\r\n$server->start();\r\n\r\n```\r\n\r\n2. What did you expect to see?\r\n\u671f\u671b\u7684\u7ed3\u679c\u662f\u4ec0\u4e48\uff1f\r\n\r\n\r\n\r\n3. What did you see instead?\r\n\u5b9e\u9645\u8fd0\u884c\u7684\u7ed3\u679c\u662f\u4ec0\u4e48\uff1f\r\n\r\n[2017-09-25 15:05:09 *4131.2]\tNOTICE\thttp_onReceive (ERROR 1005): connection[1] is closed.\r\n\r\n4. What version of Swoole are you using (`php --ri swoole`)?\r\n\u4f60\u6240\u4f7f\u7528\u7684Swoole\u7248\u672c\u53f7\u662f\u4ec0\u4e48\uff08\u4f7f\u7528php --ri swoole\u53ef\u4ee5\u83b7\u53d6\uff09\uff1f\r\n```\r\nswoole\r\n\r\nswoole support => enabled\r\nVersion => 2.0.9\r\nAuthor => tianfeng.han[email: mikan.tenny@gmail.com]\r\nepoll => enabled\r\neventfd => enabled\r\ntimerfd => enabled\r\nsignalfd => enabled\r\ncpu affinity => enabled\r\nspinlock => enabled\r\nrwlock => enabled\r\nasync redis client => enabled\r\nasync http/websocket client => enabled\r\nLinux Native AIO => enabled\r\npcre => enabled\r\nzlib => enabled\r\nmutex_timedlock => enabled\r\npthread_barrier => enabled\r\nfutex => enabled\r\n\r\nDirective => Local Value => Master Value\r\nswoole.aio_thread_num => 2 => 2\r\nswoole.display_errors => On => On\r\nswoole.use_namespace => On => On\r\nswoole.fast_serialize => Off => Off\r\nswoole.unixsock_buffer_size => 8388608 => 8388608\r\n\r\n```\r\n\r\n\r\n5. What is your machine environment used (including version of kernel & php & gcc) ? \r\n\u4f60\u4f7f\u7528\u7684\u673a\u5668\u7cfb\u7edf\u73af\u5883\u662f\u4ec0\u4e48\uff08\u5305\u62ec\u5185\u6838\u3001PHP\u3001gcc\u7f16\u8bd1\u5668\u7248\u672c\u4fe1\u606f\uff09\uff1f\r\n\r\n```\r\nCentOS7, remi\u6e90\u5b89\u88c5\u7684php\uff0cswoole\u4e3a\u624b\u52a8\u7f16\u8bd12.0.9\u7248\u672c\r\n\r\n[gouchaoer@localhost yii2-swoole-demo]$ uname -a\r\nLinux localhost.localdomain 3.10.0-693.el7.x86_64 #1 SMP Tue Aug 22 21:09:27 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\nphp70 -v\r\nPHP 7.0.23 (cli) (built: Aug 29 2017 16:33:19) ( NTS )\r\nCopyright (c) 1997-2017 The PHP Group\r\nZend Engine v3.0.0, Copyright (c) 1998-2017 Zend Technologi\r\n\r\nphp70 -m\r\n[PHP Modules]\r\nbz2\r\ncalendar\r\nCore\r\nctype\r\ncurl\r\ndate\r\nexif\r\nfileinfo\r\nfilter\r\nftp\r\ngettext\r\nhash\r\niconv\r\njson\r\nlibxml\r\nopenssl\r\npcntl\r\npcre\r\nPDO\r\npdo_sqlite\r\nPhar\r\nposix\r\nreadline\r\nReflection\r\nsession\r\nshmop\r\nsockets\r\nSPL\r\nsqlite3\r\nstandard\r\nswoole\r\nsysvmsg\r\nsysvsem\r\nsysvshm\r\ntokenizer\r\nzlib\r\n\r\n[Zend Modules]\r\n\r\n\r\ngcc -v\r\n\u4f7f\u7528\u5185\u5efa specs\u3002\r\nCOLLECT_GCC=gcc\r\nCOLLECT_LTO_WRAPPER=/usr/libexec/gcc/x86_64-redhat-linux/4.8.5/lto-wrapper\r\n\u76ee\u6807\uff1ax86_64-redhat-linux\r\n\u914d\u7f6e\u4e3a\uff1a../configure --prefix=/usr --mandir=/usr/share/man --infodir=/usr/share/info --with-bugurl=http://bugzilla.redhat.com/bugzilla --enable-bootstrap --enable-shared --enable-threads=posix --enable-checking=release --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-gnu-unique-object --enable-linker-build-id --with-linker-hash-style=gnu --enable-languages=c,c++,objc,obj-c++,java,fortran,ada,go,lto --enable-plugin --enable-initfini-array --disable-libgcj --with-isl=/builddir/build/BUILD/gcc-4.8.5-20150702/obj-x86_64-redhat-linux/isl-install --with-cloog=/builddir/build/BUILD/gcc-4.8.5-20150702/obj-x86_64-redhat-linux/cloog-install --enable-gnu-indirect-function --with-tune=generic --with-arch_32=x86-64 --build=x86_64-redhat-linux\r\n\u7ebf\u7a0b\u6a21\u578b\uff1aposix\r\ngcc \u7248\u672c 4.8.5 20150623 (Red Hat 4.8.5-16) (GCC) \r\n\r\n```\r\n\r\n6. If you are using ssl, what is your openssl version?\r\n\u5982\u679c\u4f60\u4f7f\u7528\u4e86SSL\uff0c\u4f60\u7684openssl\u7248\u672c\u662f\u4ec0\u4e48\uff1f\r\n\r\n```\r\n[gouchaoer@localhost yii2-swoole-demo]$ sudo yum install openssl-devel\r\n\u5df2\u52a0\u8f7d\u63d2\u4ef6\uff1afastestmirror, langpacks\r\nLoading mirror speeds from cached hostfile\r\n * base: mirrors.aliyun.com\r\n * epel: mirrors.tuna.tsinghua.edu.cn\r\n * extras: mirrors.aliyun.com\r\n * remi-safe: mirror.innosol.asia\r\n * updates: mirrors.aliyun.com\r\n\u8f6f\u4ef6\u5305 1:openssl-devel-1.0.2k-8.el7.x86_64 \u5df2\u5b89\u88c5\u5e76\u4e14\u662f\u6700\u65b0\u7248\u672c\r\n\u65e0\u987b\u4efb\u4f55\u5904\u7406\r\n\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1359/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "godtail": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/1442", "title": "Swoole\\Http\\Server swoole_http_server is same\uff1f", "body": "Please answer these questions before submitting your issue. Thanks!\r\n\r\n1. What did you do? If possible, provide a recipe for reproducing the error.\r\n\r\n    I see use `Swoole\\Http\\Server` but not `swoole_http_server` in readme document.\r\n\r\n    It means i can use `Swoole\\Server` or `Swoole\\Client` too ? I want know how many class i can use by the namespace way.\r\n\r\n\r\n\r\n2. What did you expect to see?\r\n\r\n    Changelog about this.\r\n\r\n3. What did you see instead?\r\n\r\n    none.\r\n\r\n4. What version of Swoole are you using (`php --ri swoole`)?\r\n\r\n    none.\r\n\r\n5. What is your machine environment used (including version of kernel & php & gcc) ? \r\n\r\n    none.\r\n\r\n6. If you are using ssl, what is your openssl version?\r\n\r\n    none.\r\n\r\n\r\n\r\n\r\n  ", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1442/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "HongjiangHuang": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/1413", "title": "\u534f\u7a0b2.0.10\u7248\u672c dispatch_mode\u8bbe\u7f6e\u4e3a1 \u6216 2\u5219\u4f1a\u51fa\u73b0 WARNING swProcessPool_wait: [Manager]unknow worker[pid=-1]", "body": "\u5f53dispatch_mode \u8bbe\u7f6e\u4e3a \u975e 3\u9009\u9879\u65f6\u3002\r\n![image](https://user-images.githubusercontent.com/20190812/33892233-3cb98212-df93-11e7-8b0e-af2b317c7f08.png)\r\n\u5982\u56fe\u663e\u793a\u7684\u9519\u8bef.\r\n\r\n![image](https://user-images.githubusercontent.com/20190812/33892272-5849eac6-df93-11e7-87bf-fd4a7b61a3a5.png)\r\n![image](https://user-images.githubusercontent.com/20190812/33892277-5d873098-df93-11e7-80ea-1c5cf4b88f22.png)\r\n![Uploading image.png\u2026]()\r\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1413/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "simonhf": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/1405", "title": "http2 out of order responses causes responses to go missing ?", "body": "Please answer these questions before submitting your issue. Thanks!\r\n\r\n1. What did you do? If possible, provide a recipe for reproducing the error.\r\n\r\nI've hacked the swoole http2 server example so that it can receive two requests and only responds to all three on the third request:\r\n\r\n```\r\n$ cat swoole-http2-server.php \r\n<?php\r\n$server = new swoole_http_server(\"127.0.0.1\", 9501, SWOOLE_PROCESS, SWOOLE_SOCK_TCP | SWOOLE_SSL);\r\n\r\n$server->set([\r\n    'ssl_cert_file' => '.' . '/ssl.crt',\r\n    'ssl_key_file' => '.' . '/ssl.key',\r\n    'ssl_passphrase' => '5524001',\r\n    'open_http2_protocol' => true, // Enable HTTP2 protocol\r\n]);\r\n\r\n$server->on('start', function ($server) {\r\n    echo \"Swoole http2 server is started at http://127.0.0.1:9501\\n\";\r\n});\r\n\r\n$server->on('request', function (swoole_http_request $request, swoole_http_response $response) {\r\n        preg_match('~^/r=(\\d+)$~', $request->server['request_uri'], $matches);\r\n        #var_dump($matches);\r\n        $r = $matches[1];\r\n        printf(\"Got request: %s // r=%u\\n\", $request->server['request_uri'], $r);\r\n        var_dump($request->server); # https://www.easyswoole.com/Manual/Cn/_book/Base/Swoole/event.html\r\n        if      ($r == 1) { $GLOBALS['req1'] = & $request; $GLOBALS['res1'] = & $response; }\r\n        else if ($r == 2) { $GLOBALS['req2'] = & $request; $GLOBALS['res2'] = & $response; }\r\n        else {\r\n                $GLOBALS['res1']->header(\"Content-Type\", \"text/plain\");\r\n                $GLOBALS['res1']->end(\"Hello World 1\\n\");\r\n\r\n                $GLOBALS['res2']->header(\"Content-Type\", \"text/plain\");\r\n                $GLOBALS['res2']->end(\"Hello World 2\\n\");\r\n\r\n                $response->header(\"Content-Type\", \"text/plain\");\r\n                $response->end(\"Hello World 3\\n\");\r\n        }\r\n});\r\n\r\n$server->start();\r\n```\r\n\r\nHere's the hacked http2 client to test against it:\r\n\r\n```\r\n$ cat swoole-http2-client.php    \r\n<?php\r\n$host = '127.0.0.1';\r\n//$host = \"wiki.swoole.com\";\r\n//$host = 'www.jd.com';\r\n$port = 9501;\r\n//$port = 443;\r\n//$ssl = false;\r\n$ssl = true;\r\n$array = array(\r\n    \"host\" => $host,\r\n    \"accept-encoding\" => \"gzip, deflate\",\r\n    'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',\r\n    'accept-language' => 'zh-CN,zh;q=0.8,en;q=0.6,zh-TW;q=0.4,ja;q=0.2',\r\n    'cache-control' => 'max-age=0',\r\n    'user-agent' => 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3026.3 Safari/537.36',\r\n);\r\n$list = array();\r\nfor($i = 0; $i < 1; $i++) {\r\n    $client = new swoole_http2_client($host , $port, $ssl);\r\n    \r\n    $client->setHeaders($array);\r\n    //$client->setCookies(array(\"a\" => \"1\", \"b\" => \"2\"));\r\n    $client->post(\"/r=1\", $array, function ($o) use($client) {\r\n        echo \"#{$client->sock} hello world 1\\n\";\r\n        //var_dump($o);\r\n        echo $o->body;\r\n        #$client->close();\r\n    });\r\n    $client->post(\"/r=2\", $array, function ($o) use($client) {\r\n        echo \"#{$client->sock} hello world 2\\n\";  \r\n        echo $o->body;\r\n    });\r\n    \r\n    $client->post(\"/r=3\", $array, function ($o) use($client) {\r\n        echo \"#{$client->sock} hello world 3\\n\";\r\n        echo $o->body;\r\n        $client->close();        \r\n    });\r\n    $list[] = $client;\r\n}\r\nSwoole\\Event::wait();\r\n```\r\n\r\nAnd here are the ssl certs:\r\n\r\n```\r\n$ cat ssl.crt \r\n-----BEGIN CERTIFICATE-----\r\nMIICAzCCAWwCCQCgnsxsw2bDrDANBgkqhkiG9w0BAQsFADBFMQswCQYDVQQGEwJB\r\nVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50ZXJuZXQgV2lkZ2l0\r\ncyBQdHkgTHRkMCAXDTE0MDcwOTE0MTIxNloYDzIxMTQwNjE1MTQxMjE2WjBFMQsw\r\nCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50ZXJu\r\nZXQgV2lkZ2l0cyBQdHkgTHRkMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDP\r\nnYsgGr6Q9jqL97xGo2zxrOWGQd96PnItf5uOdvZJjwTLsN8an33UOtFVxwGIaTb8\r\nMtuXiLZbslKWLIOoqq0Lk92RwF4Zxs02Yt+S1sM/9ST7tiJQKYx1+rfaZIj0Dy9y\r\nVoWHGfRmVZMcWkhslaHR/Yz+Ul4CIqr03/BjYjjQfQIDAQABMA0GCSqGSIb3DQEB\r\nCwUAA4GBAJIjeaUeizJ88G1M9fFUTwf11ywWsrzIQxCaMqmzRyrlIhwuC5qXKsA/\r\nwHRfj9+KnfJ1LOAguXa/CSRFCogQnYur4+Kzy/PBchMFjIKS9UzmQQWZYsmzBgTX\r\ne6pGJN2fxTmpGKf0lj7//NWxOmFDFWgyUeIR4TaAJ5dWpS8Cr0Gc\r\n-----END CERTIFICATE-----\r\n```\r\n\r\nand\r\n\r\n```\r\n$ cat ssl.key \r\n-----BEGIN RSA PRIVATE KEY-----\r\nMIICXgIBAAKBgQDPnYsgGr6Q9jqL97xGo2zxrOWGQd96PnItf5uOdvZJjwTLsN8a\r\nn33UOtFVxwGIaTb8MtuXiLZbslKWLIOoqq0Lk92RwF4Zxs02Yt+S1sM/9ST7tiJQ\r\nKYx1+rfaZIj0Dy9yVoWHGfRmVZMcWkhslaHR/Yz+Ul4CIqr03/BjYjjQfQIDAQAB\r\nAoGBAL4DtYp7j8BC61ChOvr3pcUG9cbL0UojjwJfUTKxZDXspHn8diT6pgIwltjH\r\n23pKuZ1Wuq3U3PnNmlKBiTo8g0R4OudAWJi1kIyY9AXVm9Ffr1wS0krRrOXXJws/\r\nP0Y+NtSdpMDEbCiW/GbADPhlWl2JdpOgxdB5mNmCykt4dvRtAkEA7JnxiJWIQg/z\r\nWpy485hrIFwNNNiRJGKVSySZf9itZd+4fC1F6vTlX+ylDemTbYB427dlJ09nINRz\r\ngXMW3xh8hwJBAOCjNdhTXCESSeJyt8U5cN0PzIJuKq1CvJdLgaNN+RIsC8v9ZTJF\r\nnmMOgjSYNWILRSrHlx0g7VKb2GH6LPsqr9sCQQDKuwGdsdsGGBrB6oYDm/c2zAk4\r\n3dRH4/zeXSb1x9iT8QVnyXceYubjsaaf7CM58ZodUeBntX69P60VH2Nal+WjAkEA\r\n2r7TziXOjv3KKNLhFRLMTtf1pAU3VaSpFQMX6DgjlIiDrE7CXmPgykD0ldaqFSE4\r\nZ2IYSusnbswHt9DwQFzfBQJANhJBIvQgj/BcAV+0qV1NgzXbmywtQcwGg+NcimsH\r\nR/tW2SeAXinNkVMjDh5NLzHO5Lz//E0N3lPRljnLfRX69g==\r\n-----END RSA PRIVATE KEY-----\r\n```\r\n\r\nThe client output is as expected:\r\n\r\n```\r\n$ php swoole-http2-client.php\r\n...\r\n#4 hello world 1\r\nHello World 1\r\n#4 hello world 2\r\nHello World 2\r\n#4 hello world 3\r\nHello World 3\r\n```\r\n\r\nHowever, if in the hack server I change the order of the responses, e.g. so that the response to request #3 is sent first, then the client only sees the response to request #3 and not the responses to the first two requests, e.g.:\r\n\r\n```\r\n$ php swoole-http2-client.php\r\n...\r\n#4 hello world 3\r\nHello World 3\r\n```\r\n\r\nAnd if I hack the server so it sends the responses in order 1,3,2 then I get this output:\r\n\r\n```\r\n$ php swoole-http2-client.php\r\n...\r\n#4 hello world 1\r\nHello World 1\r\n#4 hello world 3\r\nHello World 3\r\n```\r\n\r\nWhy do the responses have to be in the right order?\r\n\r\nAlso, is there a better way to code this using swoole than how I have done it using the global variables?\r\n\r\n2. What did you expect to see?\r\n\r\nI expected to see the client show the responses in the order that the server sends them, and not responses going missing.\r\n\r\n3. What did you see instead?\r\n\r\nResponses going missing.\r\n\r\n4. What version of Swoole are you using (`php --ri swoole`)?\r\n\r\n```\r\nv1.9.23\r\n```\r\n\r\n5. What is your machine environment used (including version of kernel & php & gcc) ? \r\n\r\n```\r\n\"PHP_VERSION : 7.1.11-0ubuntu0.17.10.1\"\r\n\"PHP_OS : Linux - Linux simon-virtual-machine 4.13.0-17-generic #20-Ubuntu SMP Mon Nov 6 10:04:08 UTC 2017 x86_64\"\r\n\r\n$ gcc -v\r\nUsing built-in specs.\r\nCOLLECT_GCC=gcc\r\nCOLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/7/lto-wrapper\r\nOFFLOAD_TARGET_NAMES=nvptx-none\r\nOFFLOAD_TARGET_DEFAULT=1\r\nTarget: x86_64-linux-gnu\r\nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 7.2.0-8ubuntu3' --with-bugurl=file:///usr/share/doc/gcc-7/README.Bugs --enable-languages=c,ada,c++,go,brig,d,fortran,objc,obj-c++ --prefix=/usr --with-gcc-major-version-only --program-suffix=-7 --program-prefix=x86_64-linux-gnu- --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-libmpx --enable-plugin --enable-default-pie --with-system-zlib --with-target-system-zlib --enable-objc-gc=auto --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-offload-targets=nvptx-none --without-cuda-driver --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu\r\nThread model: posix\r\ngcc version 7.2.0 (Ubuntu 7.2.0-8ubuntu3)\r\n```\r\n\r\n6. If you are using ssl, what is your openssl version?\r\n\r\n```\r\n$ openssl version\r\nOpenSSL 1.0.2g 1 Mar 2016\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1405/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1404", "title": "Why does swoole http2 not work with command line tools like nghttp ?", "body": "Please answer these questions before submitting your issue. Thanks!\r\n\r\n1. What did you do? If possible, provide a recipe for reproducing the error.\r\n\r\nI compiled swoole v1.9.23 and tried out a swoole http2 client and server which appeared to work. However, nghttp did not work with the swoole server. Why not?\r\n\r\n```php\r\n$ cat swoole-http2-server.php \r\n<?php\r\n$server = new swoole_http_server(\"127.0.0.1\", 9501, SWOOLE_PROCESS, SWOOLE_SOCK_TCP | SWOOLE_SSL);\r\n\r\n$server->set([\r\n    'ssl_cert_file' => '.' . '/ssl.crt',\r\n    'ssl_key_file' => '.' . '/ssl.key',\r\n    'ssl_passphrase' => '5524001',\r\n    'open_http2_protocol' => true, // Enable HTTP2 protocol\r\n]);\r\n\r\n$server->on('start', function ($server) {\r\n    echo \"Swoole http2 server is started at http://127.0.0.1:9501\\n\";\r\n});\r\n\r\n$server->on('request', function ($request, $response) {\r\n    $response->header(\"Content-Type\", \"text/plain\");\r\n    $response->end(\"Hello World\\n\");\r\n});\r\n\r\n$server->start();\r\n```\r\n\r\n```\r\n$ cat ssl.crt \r\n-----BEGIN CERTIFICATE-----\r\nMIICAzCCAWwCCQCgnsxsw2bDrDANBgkqhkiG9w0BAQsFADBFMQswCQYDVQQGEwJB\r\nVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50ZXJuZXQgV2lkZ2l0\r\ncyBQdHkgTHRkMCAXDTE0MDcwOTE0MTIxNloYDzIxMTQwNjE1MTQxMjE2WjBFMQsw\r\nCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50ZXJu\r\nZXQgV2lkZ2l0cyBQdHkgTHRkMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDP\r\nnYsgGr6Q9jqL97xGo2zxrOWGQd96PnItf5uOdvZJjwTLsN8an33UOtFVxwGIaTb8\r\nMtuXiLZbslKWLIOoqq0Lk92RwF4Zxs02Yt+S1sM/9ST7tiJQKYx1+rfaZIj0Dy9y\r\nVoWHGfRmVZMcWkhslaHR/Yz+Ul4CIqr03/BjYjjQfQIDAQABMA0GCSqGSIb3DQEB\r\nCwUAA4GBAJIjeaUeizJ88G1M9fFUTwf11ywWsrzIQxCaMqmzRyrlIhwuC5qXKsA/\r\nwHRfj9+KnfJ1LOAguXa/CSRFCogQnYur4+Kzy/PBchMFjIKS9UzmQQWZYsmzBgTX\r\ne6pGJN2fxTmpGKf0lj7//NWxOmFDFWgyUeIR4TaAJ5dWpS8Cr0Gc\r\n-----END CERTIFICATE-----\r\n```\r\n\r\n```\r\n$ cat ssl.key \r\n-----BEGIN RSA PRIVATE KEY-----\r\nMIICXgIBAAKBgQDPnYsgGr6Q9jqL97xGo2zxrOWGQd96PnItf5uOdvZJjwTLsN8a\r\nn33UOtFVxwGIaTb8MtuXiLZbslKWLIOoqq0Lk92RwF4Zxs02Yt+S1sM/9ST7tiJQ\r\nKYx1+rfaZIj0Dy9yVoWHGfRmVZMcWkhslaHR/Yz+Ul4CIqr03/BjYjjQfQIDAQAB\r\nAoGBAL4DtYp7j8BC61ChOvr3pcUG9cbL0UojjwJfUTKxZDXspHn8diT6pgIwltjH\r\n23pKuZ1Wuq3U3PnNmlKBiTo8g0R4OudAWJi1kIyY9AXVm9Ffr1wS0krRrOXXJws/\r\nP0Y+NtSdpMDEbCiW/GbADPhlWl2JdpOgxdB5mNmCykt4dvRtAkEA7JnxiJWIQg/z\r\nWpy485hrIFwNNNiRJGKVSySZf9itZd+4fC1F6vTlX+ylDemTbYB427dlJ09nINRz\r\ngXMW3xh8hwJBAOCjNdhTXCESSeJyt8U5cN0PzIJuKq1CvJdLgaNN+RIsC8v9ZTJF\r\nnmMOgjSYNWILRSrHlx0g7VKb2GH6LPsqr9sCQQDKuwGdsdsGGBrB6oYDm/c2zAk4\r\n3dRH4/zeXSb1x9iT8QVnyXceYubjsaaf7CM58ZodUeBntX69P60VH2Nal+WjAkEA\r\n2r7TziXOjv3KKNLhFRLMTtf1pAU3VaSpFQMX6DgjlIiDrE7CXmPgykD0ldaqFSE4\r\nZ2IYSusnbswHt9DwQFzfBQJANhJBIvQgj/BcAV+0qV1NgzXbmywtQcwGg+NcimsH\r\nR/tW2SeAXinNkVMjDh5NLzHO5Lz//E0N3lPRljnLfRX69g==\r\n-----END RSA PRIVATE KEY-----\r\n```\r\n\r\n```php\r\n$ cat swoole-http2-client.php \r\n<?php\r\n$host = '127.0.0.1';\r\n//$host = \"wiki.swoole.com\";\r\n//$host = 'www.jd.com';\r\n$port = 9501;\r\n//$port = 443;\r\n//$ssl = false;\r\n$ssl = true;\r\n$array = array(\r\n    \"host\" => $host,\r\n    \"accept-encoding\" => \"gzip, deflate\",\r\n    'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',\r\n    'accept-language' => 'zh-CN,zh;q=0.8,en;q=0.6,zh-TW;q=0.4,ja;q=0.2',\r\n    'cache-control' => 'max-age=0',\r\n    'user-agent' => 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3026.3 Safari/537.36',\r\n);\r\n$list = array();\r\nfor($i = 0; $i < 1; $i++) {\r\n    $client = new swoole_http2_client($host , $port, $ssl);\r\n    \r\n    $client->setHeaders($array);\r\n    //$client->setCookies(array(\"a\" => \"1\", \"b\" => \"2\"));\r\n    $client->get(\"/\", function ($o) use($client) {\r\n        echo \"#{$client->sock} hello world 1\\n\";\r\n        //var_dump($o);\r\n        echo $o->body;\r\n        $client->close();\r\n    });\r\n    /*$client->post(\"/\", $array, function ($o) use($client) {\r\n        echo \"{$client->sock} hello world 2\\n\";  \r\n    });\r\n    \r\n    $client->post(\"/\", $array, function ($o) use($client) {\r\n        echo \"{$client->sock} hello world 3\\n\";\r\n        echo $o->body;\r\n        $client->close();        \r\n    });*/\r\n    $list[] = $client;\r\n}\r\nSwoole\\Event::wait();\r\n```\r\n\r\n```\r\n$ php swoole-http2-client.php \r\n[/home/simon/swoole-src-1.9.23/swoole_http_v2_client.c:240@http2_add_header]k=:method, len=7, v=GET, len=3\r\n[/home/simon/swoole-src-1.9.23/swoole_http_v2_client.c:240@http2_add_header]k=:path, len=5, v=/, len=1\r\n[/home/simon/swoole-src-1.9.23/swoole_http_v2_client.c:240@http2_add_header]k=:scheme, len=7, v=https, len=5\r\n[/home/simon/swoole-src-1.9.23/swoole_http_v2_client.c:240@http2_add_header]k=:authority, len=10, v=127.0.0.1, len=9\r\n[/home/simon/swoole-src-1.9.23/swoole_http_v2_client.c:240@http2_add_header]k=accept-encoding, len=15, v=gzip, deflate, len=13\r\n[/home/simon/swoole-src-1.9.23/swoole_http_v2_client.c:240@http2_add_header]k=accept, len=6, v=text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8, len=74\r\n[/home/simon/swoole-src-1.9.23/swoole_http_v2_client.c:240@http2_add_header]k=accept-language, len=15, v=zh-CN,zh;q=0.8,en;q=0.6,zh-TW;q=0.4,ja;q=0.2, len=44\r\n[/home/simon/swoole-src-1.9.23/swoole_http_v2_client.c:240@http2_add_header]k=cache-control, len=13, v=max-age=0, len=9\r\n[/home/simon/swoole-src-1.9.23/swoole_http_v2_client.c:240@http2_add_header]k=user-agent, len=10, v=Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3026.3 Safari/537.36, len=103\r\n#4 hello world 1\r\nHello World\r\n[/home/simon/swoole-src-1.9.23/src/protocol/SSL.c:588@swSSL_close]SSL_shutdown: 1\r\n```\r\n\r\n```\r\n$ php swoole-http2-server.php \r\n[/home/simon/swoole-src-1.9.23/swoole_server.c:415@php_swoole_server_before_start]Create swoole_server host=127.0.0.1, port=9501, mode=3, type=1\r\nSwoole http2 server is started at http://127.0.0.1:9501\r\n[/home/simon/swoole-src-1.9.23/src/network/Server.c:148@swServer_master_onAccept][Master] Accept new connection. maxfd=3|reactor_id=8|conn=30\r\n[/home/simon/swoole-src-1.9.23/src/network/ReactorThread.c:1351@swReactorThread_dispatch]send string package, size=27 bytes.\r\n[/home/simon/swoole-src-1.9.23/src/network/ReactorThread.c:1409@swReactorThread_dispatch]dispatch, type=10|len=27\r\n\r\n[/home/simon/swoole-src-1.9.23/src/network/ReactorThread.c:1351@swReactorThread_dispatch]send string package, size=209 bytes.\r\n[/home/simon/swoole-src-1.9.23/src/network/ReactorThread.c:1409@swReactorThread_dispatch]dispatch, type=10|len=209\r\n\r\n[/home/simon/swoole-src-1.9.23/src/factory/FactoryProcess.c:272@swFactoryProcess_finish][Worker] send: sendn=105|type=0|content=\r\n[/home/simon/swoole-src-1.9.23/src/network/ReactorThread.c:1351@swReactorThread_dispatch]send string package, size=9 bytes.\r\n[/home/simon/swoole-src-1.9.23/src/network/ReactorThread.c:1409@swReactorThread_dispatch]dispatch, type=10|len=9\r\n\r\n[/home/simon/swoole-src-1.9.23/src/network/Port.c:291@swPort_onRead_check_length]Close Event.FD=30|From=6\r\n[/home/simon/swoole-src-1.9.23/src/factory/FactoryProcess.c:272@swFactoryProcess_finish][Worker] send: sendn=12|type=4|content=(null)\r\n[/home/simon/swoole-src-1.9.23/src/network/ReactorThread.c:311@swReactorThread_close]Close Event.fd=30|from=6\r\n[/home/simon/swoole-src-1.9.23/src/protocol/SSL.c:588@swSSL_close]SSL_shutdown: 1\r\n[/home/simon/swoole-src-1.9.23/src/network/ReactorThread.c:366@swReactorThread_close]set_maxfd=29|close_fd=30\r\n\r\n^C\r\n```\r\n\r\n2. What did you expect to see?\r\n\r\nI expected nghttp to work with the swoole server.\r\n\r\n3. What did you see instead?\r\n\r\n```\r\n$ nghttp --version\r\nnghttp nghttp2/1.25.0\r\n\r\n$ nghttp --verbose --hexdump -nv http://127.0.0.1:9501/\r\n[  0.000] Connected\r\n[  0.000] send SETTINGS frame <length=12, flags=0x00, stream_id=0>\r\n          (niv=2)\r\n          [SETTINGS_MAX_CONCURRENT_STREAMS(0x03):100]\r\n          [SETTINGS_INITIAL_WINDOW_SIZE(0x04):65535]\r\n[  0.000] send PRIORITY frame <length=5, flags=0x00, stream_id=3>\r\n          (dep_stream_id=0, weight=201, exclusive=0)\r\n[  0.000] send PRIORITY frame <length=5, flags=0x00, stream_id=5>\r\n          (dep_stream_id=0, weight=101, exclusive=0)\r\n[  0.000] send PRIORITY frame <length=5, flags=0x00, stream_id=7>\r\n          (dep_stream_id=0, weight=1, exclusive=0)\r\n[  0.000] send PRIORITY frame <length=5, flags=0x00, stream_id=9>\r\n          (dep_stream_id=7, weight=1, exclusive=0)\r\n[  0.000] send PRIORITY frame <length=5, flags=0x00, stream_id=11>\r\n          (dep_stream_id=3, weight=1, exclusive=0)\r\n[  0.000] send HEADERS frame <length=38, flags=0x25, stream_id=13>\r\n          ; END_STREAM | END_HEADERS | PRIORITY\r\n          (padlen=0, dep_stream_id=11, weight=16, exclusive=0)\r\n          ; Open new stream\r\n          :method: GET\r\n          :path: /\r\n          :scheme: http\r\n          :authority: 127.0.0.1:9501\r\n          accept: */*\r\n          accept-encoding: gzip, deflate\r\n          user-agent: nghttp2/1.25.0\r\nSome requests were not processed. total=1, processed=0\r\n\r\n$ php swoole-http2-server.php \r\n[/home/simon/swoole-src-1.9.23/swoole_server.c:415@php_swoole_server_before_start]Create swoole_server host=127.0.0.1, port=9501, mode=3, type=1\r\nSwoole http2 server is started at http://127.0.0.1:9501\r\n[/home/simon/swoole-src-1.9.23/src/network/Server.c:148@swServer_master_onAccept][Master] Accept new connection. maxfd=3|reactor_id=8|conn=30\r\n[2017-12-01 13:49:53 #115661.6] WARNING swSSL_accept: bad SSL client[127.0.0.1:40680].\r\n[/home/simon/swoole-src-1.9.23/src/network/ReactorThread.c:311@swReactorThread_close]Close Event.fd=30|from=6\r\n[/home/simon/swoole-src-1.9.23/src/network/ReactorThread.c:366@swReactorThread_close]set_maxfd=29|close_fd=30\r\n^C\r\n```\r\n\r\n4. What version of Swoole are you using (`php --ri swoole`)?\r\n\r\nv1.9.23\r\n\r\n5. What is your machine environment used (including version of kernel & php & gcc) ? \r\n\r\n```\r\n\"PHP_VERSION : 7.1.11-0ubuntu0.17.10.1\"\r\n\"PHP_OS : Linux - Linux simon-virtual-machine 4.13.0-17-generic #20-Ubuntu SMP Mon Nov 6 10:04:08 UTC 2017 x86_64\"\r\n\r\n$ gcc -v\r\nUsing built-in specs.\r\nCOLLECT_GCC=gcc\r\nCOLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/7/lto-wrapper\r\nOFFLOAD_TARGET_NAMES=nvptx-none\r\nOFFLOAD_TARGET_DEFAULT=1\r\nTarget: x86_64-linux-gnu\r\nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 7.2.0-8ubuntu3' --with-bugurl=file:///usr/share/doc/gcc-7/README.Bugs --enable-languages=c,ada,c++,go,brig,d,fortran,objc,obj-c++ --prefix=/usr --with-gcc-major-version-only --program-suffix=-7 --program-prefix=x86_64-linux-gnu- --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-libmpx --enable-plugin --enable-default-pie --with-system-zlib --with-target-system-zlib --enable-objc-gc=auto --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-offload-targets=nvptx-none --without-cuda-driver --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu\r\nThread model: posix\r\ngcc version 7.2.0 (Ubuntu 7.2.0-8ubuntu3)\r\n```\r\n\r\n6. If you are using ssl, what is your openssl version?\r\n\r\n```\r\n$ openssl version\r\nOpenSSL 1.0.2g 1 Mar 2016\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1404/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1403", "title": "make test failed and stuck", "body": "Please answer these questions before submitting your issue. Thanks!\r\n\r\n1. What did you do? If possible, provide a recipe for reproducing the error.\r\n\r\n```\r\n$ sudo apt install libnghttp2-dev\r\n$ sudo apt install libhiredis-dev\r\n$ # https://github.com/swoole/swoole-src/releases\r\n$ wget https://github.com/swoole/swoole-src/archive/v1.9.23.tar.gz # v1.9.23\r\n$ tar xzvf v1.9.23.tar.gz\r\n$ cd swoole-src-1.9.23/\r\n$ phpize\r\n$ ./configure --enable-swoole-debug --enable-sockets --enable-openssl --with-openssl-dir --enable-http2 --enable-async-redis --enable-timewheel\r\n$ # unrecognized? --enable-ringbuffer\r\n$ make\r\n/home/simon/swoole-src-1.9.23/php_swoole.h:136:2: error: #error \"Enable sockets support, require sockets extension.\"\r\n$ php -m | egrep sockets\r\nsockets\r\n$ # https://github.com/youzan/zan/issues/7\r\n$ sudo cp /home/simon/swoole-src-1.9.23/php_swoole.h /home/simon/swoole-src-1.9.23/php_swoole.h.orig\r\n$ sudo vim /home/simon/swoole-src-1.9.23/php_swoole.h\r\n$ sudo diff /home/simon/swoole-src-1.9.23/php_swoole.h.orig /home/simon/swoole-src-1.9.23/php_swoole.h\r\n131a132\r\n> #define HAVE_SOCKETS 1\r\n$ make\r\n...\r\nBuild complete.\r\nDon't forget to run 'make test'.\r\n$ make test\r\n=====================================================================\r\nPHP         : /usr/bin/php7.1 \r\nPHP_SAPI    : cli\r\nPHP_VERSION : 7.1.11-0ubuntu0.17.10.1\r\nZEND_VERSION: 3.1.0\r\nPHP_OS      : Linux - Linux simon-virtual-machine 4.13.0-17-generic #20-Ubuntu SMP Mon Nov 6 10:04:08 UTC 2017 x86_64\r\nINI actual  : /home/simon/swoole-src-1.9.23/tmp-php.ini\r\nMore .INIs  :   \r\nCWD         : /home/simon/swoole-src-1.9.23\r\nExtra dirs  : \r\nVALGRIND    : Not used\r\n=====================================================================\r\nTIME START 2017-12-01 20:50:28\r\n=====================================================================\r\nPASS swoole_async: linux native aio readfile & writefile [tests/swoole_async/aio1.phpt] \r\nPASS swoole_async: linux native aio read [tests/swoole_async/aio2.phpt] \r\nPASS swoole_async: linux native aio write [tests/swoole_async/aio3.phpt] \r\nFAIL swoole_async: parallel_read_copy_10m_file [tests/swoole_async/parallel_read_copy_10m_file_with_1m_chunk.phpt] \r\nFAIL swoole_async: parallel_read_copy_10m_file [tests/swoole_async/parallel_read_copy_10m_file_with_512k_chunk.phpt] \r\nFAIL swoole_async: swoole_async_read [tests/swoole_async/readfile.phpt] \r\nFAIL swoole_async: recursive write file [tests/swoole_async/recursive_write.phpt] \r\nFAIL swoole_async: sequence copy 10m file [tests/swoole_async/serial_read_copy_10m_file.phpt] \r\nFAIL swoole_async: swoole_async_dns_lookup [tests/swoole_async/swoole_async_dns_lookup.phpt] \r\nFAIL swoole_async: swoole_async_read [tests/swoole_async/swoole_async_read.phpt] \r\nFAIL swoole_async: swoole_async_set [tests/swoole_async/swoole_async_set.phpt] \r\nFAIL swoole_async: swoole_async_write [tests/swoole_async/swoole_async_write.phpt] \r\nFAIL swoole_async: swoole_async_read [tests/swoole_async/writefile.phpt] \r\nPASS swoole_atomic: add/sub/get/cmpset [tests/swoole_atomic/atomic.phpt] \r\nPASS swoole_atomic: wakeup & wait [tests/swoole_atomic/wait.phpt] \r\nPASS swoole_buffer: read and write swoole_buffer [tests/swoole_buffer/buffer_append.phpt] \r\nPASS swoole_buffer: read and write swoole_buffer [tests/swoole_buffer/buffer_clear.phpt] \r\nPASS swoole_buffer: read and write swoole_buffer [tests/swoole_buffer/buffer_expand.phpt] \r\nPASS swoole_buffer: read and write swoole_buffer [tests/swoole_buffer/buffer_read_write.phpt] \r\nPASS swoole_buffer: read and write swoole_buffer [tests/swoole_buffer/buffer_recycle.phpt] \r\nPASS swoole_buffer: read and write swoole_buffer [tests/swoole_buffer/buffer_substr.phpt] \r\nPASS swoole_buffer: default contruct buffer [tests/swoole_buffer/construct_buffer.phpt] \r\nPASS swoole_channel: push & pop & stats [tests/swoole_channel/channel.phpt] \r\nFAIL swoole_client: big_package_memory_leak [tests/swoole_client_async/big_package_memory_leak.phpt] \r\nFAIL swoole_client: onBufferFull & onBufferEmpty [tests/swoole_client_async/buffer_full.php.phpt] \r\nPASS swoole_client: connect refuse [tests/swoole_client_async/connect_refuse.phpt] \r\nPASS swoole_client: connect_host_not_found [tests/swoole_client_async/connect_timeout.phpt] \r\nPASS swoole_client: connect twice [tests/swoole_client_async/connect_twice.phpt] \r\nFAIL swoole_client: eof protocol [async] [tests/swoole_client_async/eof.phpt] \r\nFAIL swoole_client: getSocket debug [tests/swoole_client_async/getSocket_bug.phpt] \r\nFAIL swoole_client: getsockpeername [tests/swoole_client_async/getpeername.phpt] \r\nPASS swoole_client: swoole_client getsockname [tests/swoole_client_async/getsockname.phpt] \r\nFAIL swoole_client: length protocol [async] [tests/swoole_client_async/length_protocol.phpt] \r\nFAIL swoole_client: async sendfile [tests/swoole_client_async/sendfile.phpt] \r\nTEST 35/227 [tests/swoole_client_async/sleep_wake.phpt]\r\n```\r\n\r\n2. What did you expect to see?\r\n\r\nmake test passes without any fail :-)\r\n\r\n3. What did you see instead?\r\n\r\nMany 'FAIL' instead of 'PASS' and make test gets stuck on:\r\n\r\n```\r\n\"TEST 35/227 [tests/swoole_client_async/sleep_wake.phpt]\"\r\n```\r\n\r\n4. What version of Swoole are you using (`php --ri swoole`)?\r\n\r\n```\r\nv1.9.23\r\n```\r\n\r\n5. What is your machine environment used (including version of kernel & php & gcc) ? \r\n\r\n```\r\n\"PHP_VERSION : 7.1.11-0ubuntu0.17.10.1\"\r\n\"PHP_OS      : Linux - Linux simon-virtual-machine 4.13.0-17-generic #20-Ubuntu SMP Mon Nov 6 10:04:08 UTC 2017 x86_64\"\r\n\r\n$ gcc -v\r\nUsing built-in specs.\r\nCOLLECT_GCC=gcc\r\nCOLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/7/lto-wrapper\r\nOFFLOAD_TARGET_NAMES=nvptx-none\r\nOFFLOAD_TARGET_DEFAULT=1\r\nTarget: x86_64-linux-gnu\r\nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 7.2.0-8ubuntu3' --with-bugurl=file:///usr/share/doc/gcc-7/README.Bugs --enable-languages=c,ada,c++,go,brig,d,fortran,objc,obj-c++ --prefix=/usr --with-gcc-major-version-only --program-suffix=-7 --program-prefix=x86_64-linux-gnu- --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-libmpx --enable-plugin --enable-default-pie --with-system-zlib --with-target-system-zlib --enable-objc-gc=auto --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-offload-targets=nvptx-none --without-cuda-driver --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu\r\nThread model: posix\r\ngcc version 7.2.0 (Ubuntu 7.2.0-8ubuntu3) \r\n```\r\n\r\n6. If you are using ssl, what is your openssl version?\r\n\r\n```\r\n$ openssl version\r\nOpenSSL 1.0.2g  1 Mar 2016\r\n```", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1403/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "ivanjaros": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/1401", "title": "Performance comparison", "body": "Could you provide some performance comparisons with libraries like ReactPHP and Amp?", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1401/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "SyuTingSong": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/1390", "title": "\u65e0\u6cd5\u5e8f\u5217\u5316\b\u5b58\u5728\u5faa\u73af\u5f15\u7528\u7684\u7c7b\uff0c\u5373\u4fbf\u5faa\u73af\u5f15\u7528\u7684\u5c5e\u6027\u5df2\u5728__sleep\u51fd\u6570\u4e2d\u6392\u9664", "body": "\u56e0\u4e3a\u6211\u65e0\u6cd5reopen #1296 \u53f7issue\uff0c\u6240\u4ee5\u53ea\u597d\u91cd\u65b0\u63d0\u4e00\u4e2a\u3002\r\n\r\n\u7ecf\u8fc7\u548ctideways\u65b9\u9762\u8c03\u8bd5\uff0c\u786e\u8ba4\u8fd9\u4e2a\u95ee\u9898\u548ctideways\u6269\u5c55\u65e0\u5173\uff0c\u5373\u4f7f\u5173\u95edtideways\u6269\u5c55\uff0c\u4e5f\u6709\u53ef\u80fd\u89e6\u53d1\u8fd9\u4e2a\u95ee\u9898\u3002\r\n\r\n\u6211\u5236\u4f5c\u4e86\u4e00\u4e2a\u65b0\u7684[\u6d4b\u8bd5\u7528\u4f8b][1]\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c[`a.php`][2]\u4e2d\u6709\u5faa\u73af\u5f15\u7528\u7684\u7c7b\uff0c\u5e76\u4ee5`__sleep`\u9b54\u672f\u65b9\u6cd5\u6392\u9664\u6389\u5faa\u73af\u5f15\u7528\u7684\u5c5e\u6027\uff0c`t.php`\u88ab`require_once`\u5305\u542b\u8fdb\u6765\u3002\u8fd0\u884c`a.php`\uff0c`swoole_serialize::pack`\u4f1a\u629b\u51fa\u5faa\u73af\u5f15\u7528\u7684\u5f02\u5e38\u3002\u4f46\u5982\u679c\u5173\u95edopcahe\uff0c\u6216\u8005\u5220\u9664`t.php`\u4e2d\u7684\u7c7b\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u65b9\u6cd5\u6216\u5c5e\u6027\u751a\u81f3\u5e38\u91cf\uff0c\u6b64\u5f02\u5e38\u90fd\u4e0d\u518d\u629b\u51fa\u3002\r\n\r\n\u4e3a\u4e86\u65b9\u4fbf\u91cd\u73b0\u6b64\u95ee\u9898\uff0c\u6211\u57fa\u4e8ePHP7.1\u5236\u4f5c\u4e86\u4e00\u4e2a[docker\u955c\u50cf][3]\uff0c\u53ef\u4ee5\u8fd0\u884c\r\n```\r\ndocker run -ti syutingsong/swoole-debug\r\n```\r\n\u542f\u52a8\u5bb9\u5668\u3002\u5728\u6b64\u5bb9\u5668\u4e2d\uff0cswoole\u7684\u6e90\u7801\u7528\u7684\u662fGithub\u4e0a\u76841.9.22\u7248\uff0c\u4e0b\u8f7d\u5230\u4e86`/tmp`\u76ee\u5f55\u4e0b\uff1bphp\u914d\u7f6e\u6587\u4ef6\u5728`/usr/local/etc/php/conf.d`\u4e2d\uff1b`a.php`\u548c`t.php`\u6587\u4ef6\u5728`/root`\u76ee\u5f55\u3002\r\n\r\n[1]: https://github.com/SyuTingSong/swoole-debug/tree/master/fs/root\r\n[2]: https://github.com/SyuTingSong/swoole-debug/blob/master/fs/root/a.php#L13\r\n[3]: https://hub.docker.com/r/syutingsong/swoole-debug/", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1390/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mhf-ir": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/1385", "title": "make test faild and stuck", "body": "1. What did you do? If possible, provide a recipe for reproducing the error.\r\nCompile swoole from pecl archive in ubuntu 16.04 php 7.1\r\n2. What did you expect to see?\r\nMake test success\r\n3. What did you see instead?\r\nMake test faild some test and stuck on test `FAIL swoole_client: async sendfile [tests/swoole_client_async/sendfile.phpt] `\r\n```\r\n=====================================================================\r\nPHP         : /usr/bin/php7.1 \r\nPHP_SAPI    : cli\r\nPHP_VERSION : 7.1.11-1+ubuntu16.04.1+deb.sury.org+1\r\nZEND_VERSION: 3.1.0\r\nPHP_OS      : Linux - Linux oi-app 4.4.0-98-generic #121-Ubuntu SMP Tue Oct 10 14:24:03 UTC 2017 x86_64\r\nINI actual  : /tmp/swoole-1.9.22/tmp-php.ini\r\nMore .INIs  :   \r\n---------------------------------------------------------------------\r\nPHP         : /usr/bin/phpdbg7.1 \r\nPHP_SAPI    : phpdbg\r\nPHP_VERSION : 7.1.11-1+ubuntu16.04.1+deb.sury.org+1\r\nZEND_VERSION: 3.1.0\r\nPHP_OS      : Linux - Linux oi-app 4.4.0-98-generic #121-Ubuntu SMP Tue Oct 10 14:24:03 UTC 2017 x86_64\r\nINI actual  : /tmp/swoole-1.9.22/tmp-php.ini\r\nMore .INIs  : \r\n---------------------------------------------------------------------\r\nCWD         : /tmp/swoole-1.9.22\r\nExtra dirs  : \r\nVALGRIND    : Not used\r\n=====================================================================\r\nTIME START 2017-11-03 16:42:29\r\n=====================================================================\r\nPASS swoole_async: linux native aio readfile & writefile [tests/swoole_async/aio1.phpt] \r\nPASS swoole_async: linux native aio read [tests/swoole_async/aio2.phpt] \r\nPASS swoole_async: linux native aio write [tests/swoole_async/aio3.phpt] \r\nPASS swoole_async: parallel_read_copy_10m_file [tests/swoole_async/parallel_read_copy_10m_file_with_1m_chunk.phpt] \r\nPASS swoole_async: parallel_read_copy_10m_file [tests/swoole_async/parallel_read_copy_10m_file_with_512k_chunk.phpt] \r\nPASS swoole_async: swoole_async_read [tests/swoole_async/readfile.phpt] \r\nPASS swoole_async: recursive write file [tests/swoole_async/recursive_write.phpt] \r\nPASS swoole_async: sequence copy 10m file [tests/swoole_async/serial_read_copy_10m_file.phpt] \r\nPASS swoole_async: swoole_async_dns_lookup [tests/swoole_async/swoole_async_dns_lookup.phpt] \r\nPASS swoole_async: swoole_async_read [tests/swoole_async/swoole_async_read.phpt] \r\nPASS swoole_async: swoole_async_set [tests/swoole_async/swoole_async_set.phpt] \r\nFAIL swoole_async: swoole_async_write [tests/swoole_async/swoole_async_write.phpt] \r\nPASS swoole_async: swoole_async_read [tests/swoole_async/writefile.phpt] \r\nPASS swoole_atomic: add/sub/get/cmpset [tests/swoole_atomic/atomic.phpt] \r\nPASS swoole_atomic: wakeup & wait [tests/swoole_atomic/wait.phpt] \r\nPASS swoole_buffer: read and write swoole_buffer [tests/swoole_buffer/buffer_append.phpt] \r\nPASS swoole_buffer: read and write swoole_buffer [tests/swoole_buffer/buffer_clear.phpt] \r\nPASS swoole_buffer: read and write swoole_buffer [tests/swoole_buffer/buffer_expand.phpt] \r\nPASS swoole_buffer: read and write swoole_buffer [tests/swoole_buffer/buffer_read_write.phpt] \r\nPASS swoole_buffer: read and write swoole_buffer [tests/swoole_buffer/buffer_recycle.phpt] \r\nPASS swoole_buffer: read and write swoole_buffer [tests/swoole_buffer/buffer_substr.phpt] \r\nPASS swoole_buffer: default contruct buffer [tests/swoole_buffer/construct_buffer.phpt] \r\nPASS swoole_channel: push & pop & stats [tests/swoole_channel/channel.phpt] \r\nFAIL swoole_client: big_package_memory_leak [tests/swoole_client_async/big_package_memory_leak.phpt] \r\nFAIL swoole_client: onBufferFull & onBufferEmpty [tests/swoole_client_async/buffer_full.php.phpt] \r\nPASS swoole_client: connect refuse [tests/swoole_client_async/connect_refuse.phpt] \r\nPASS swoole_client: connect_host_not_found [tests/swoole_client_async/connect_timeout.phpt] \r\nPASS swoole_client: connect twice [tests/swoole_client_async/connect_twice.phpt] \r\nPASS swoole_client: eof protocol [async] [tests/swoole_client_async/eof.phpt] \r\nFAIL swoole_client: getSocket debug [tests/swoole_client_async/getSocket_bug.phpt] \r\nPASS swoole_client: getsockpeername [tests/swoole_client_async/getpeername.phpt] \r\nPASS swoole_client: swoole_client getsockname [tests/swoole_client_async/getsockname.phpt] \r\nPASS swoole_client: length protocol [async] [tests/swoole_client_async/length_protocol.phpt] \r\nFAIL swoole_client: async sendfile [tests/swoole_client_async/sendfile.phpt] \r\n^CMakefile:134: recipe for target 'test' failedke.phpt]\r\n```\r\n\r\n4. What version of Swoole are you using (`php --ri swoole`)?\r\n```\r\nswoole\r\n\r\nswoole support => enabled\r\nVersion => 1.9.22\r\nAuthor => tianfeng.han[email: mikan.tenny@gmail.com]\r\nepoll => enabled\r\neventfd => enabled\r\ntimerfd => enabled\r\nsignalfd => enabled\r\ncpu affinity => enabled\r\nspinlock => enabled\r\nrwlock => enabled\r\nasync redis client => enabled\r\nasync http/websocket client => enabled\r\nopenssl => enabled\r\nhttp2 => enabled\r\nLinux Native AIO => enabled\r\npcre => enabled\r\nzlib => enabled\r\nmutex_timedlock => enabled\r\npthread_barrier => enabled\r\nfutex => enabled\r\nmysqlnd => enabled\r\n\r\nDirective => Local Value => Master Value\r\nswoole.aio_thread_num => 2 => 2\r\nswoole.display_errors => On => On\r\nswoole.use_namespace => Off => Off\r\nswoole.fast_serialize => Off => Off\r\nswoole.unixsock_buffer_size => 8388608 => 8388608\r\n```\r\n\r\n5. What is your machine environment used (including version of kernel & php & gcc) ? \r\nUbuntu 16.04 docker php 7.1 \r\n```\r\ngcc -v    \r\nUsing built-in specs.\r\nCOLLECT_GCC=gcc\r\nCOLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/5/lto-wrapper\r\nTarget: x86_64-linux-gnu\r\nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 5.4.0-6ubuntu1~16.04.5' --with-bugurl=file:///usr/share/doc/gcc-5/README.Bugs --enable-languages=c,ada,c++,java,go,d,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-5 --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-libmpx --enable-plugin --with-system-zlib --disable-browser-plugin --enable-java-awt=gtk --enable-gtk-cairo --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-5-amd64/jre --enable-java-home --with-jvm-root-dir=/usr/lib/jvm/java-1.5.0-gcj-5-amd64 --with-jvm-jar-dir=/usr/lib/jvm-exports/java-1.5.0-gcj-5-amd64 --with-arch-directory=amd64 --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --enable-objc-gc --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu\r\nThread model: posix\r\ngcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.5)\r\n```\r\n\r\n6. If you are using ssl, what is your openssl version?\r\n```\r\nopenssl version\r\nOpenSSL 1.0.2g  1 Mar 2016\r\n```\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1385/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "jesusslim": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/1371", "title": "mqtt,\u4e00\u6b21on receive\u4f1a\u51fa\u73b0\u4e00\u4e2a\u5305\u6bd4\u5b9e\u9645\u957f\u5ea6\u957f\u7684\u95ee\u9898,\u5373\u5206\u5272\u6709\u95ee\u9898", "body": "\u76ee\u524d\u662f2.0.8\u7248\u672c \u5728\u5e76\u53d1\u91cf\u5927\u7684\u60c5\u51b5\u4e0b\u5076\u5c14\u4f1a\u51fa\u73b0\u6570\u636e\u5305\u5206\u5272\u7684\u95ee\u9898 \u6b63\u5e38\u60c5\u51b5\u4e0b\u662f\u6bcf\u6b21onreceive\u5230\u7684\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u5305 \u4f46\u5076\u5c14\u4f1a\u51fa\u73b0\u8fd9\u4e2a\u5305\u7684\u957f\u5ea6\u4e0d\u5bf9 \u6bd4\u81ea\u8eab\u957f\u5ea6\u591a \u5bfc\u81f4\u89e3\u6790\u51fa\u73b0\u95ee\u9898 \u5e76\u4e14\u56e0\u4e3a\u591a\u4e86\u4e00\u4e9b\u672c\u6765\u4e0d\u5c5e\u4e8e\u8fd9\u4e2a\u5305\u7684\u5b57\u8282 \u5c06\u4f1a\u5bfc\u81f4\u540e\u7eed\u6240\u6709\u7684\u5305\u90fd\u4ea7\u751f\u95ee\u9898\r\n\r\n<img width=\"606\" alt=\"qq20171017-095505 2x\" src=\"https://user-images.githubusercontent.com/12554966/31643120-53d5fa04-b2b4-11e7-8198-dc90540ab5a3.png\">\r\n<img width=\"566\" alt=\"qq20171017-101500 2x\" src=\"https://user-images.githubusercontent.com/12554966/31643595-1ffae85e-b2b7-11e7-94ef-5c5980131b1e.png\">\r\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "loyating": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/1367", "title": "buffer overflow detected -  master terminated", "body": "Please answer these questions before submitting your issue. Thanks!\r\n\u5728\u63d0\u4ea4Issue\u524d\u8bf7\u56de\u7b54\u4ee5\u4e0b\u95ee\u9898\uff1a\r\n\r\n1. What did you do? If possible, provide a recipe for reproducing the error.\r\n\u8bf7\u8be6\u7ec6\u63cf\u8ff0\u95ee\u9898\u7684\u4ea7\u751f\u8fc7\u7a0b\uff0c\u8d34\u51fa\u76f8\u5173\u7684\u4ee3\u7801\uff0c\u6700\u597d\u80fd\u63d0\u4f9b\u53ef\u7a33\u5b9a\u91cd\u73b0\u7684\u6700\u5c0f\u5b9e\u4f8b\u3002\r\nswoole_http_server\uff0c\u6b63\u5e38\u8bf7\u6c42\uff0c\u6709\u51e0\u7387\u51fa\u73b0\u6bb5\u9519\u8bef\r\n![qq 20170930142136](https://user-images.githubusercontent.com/5088390/31043203-bd8cd930-a5ea-11e7-89d8-befe823c552a.png)\r\n![qq 20170930142148](https://user-images.githubusercontent.com/5088390/31043205-c2e428e8-a5ea-11e7-838d-7d966e7f3e10.png)\r\n\r\n\r\n2. What did you expect to see?\r\n\u671f\u671b\u7684\u7ed3\u679c\u662f\u4ec0\u4e48\uff1f\r\n\r\n\r\n\r\n3. What did you see instead?\r\n\u5b9e\u9645\u8fd0\u884c\u7684\u7ed3\u679c\u662f\u4ec0\u4e48\uff1f\r\n\r\n\r\n\r\n4. What version of Swoole are you using (`php --ri swoole`)?\r\n\u4f60\u6240\u4f7f\u7528\u7684Swoole\u7248\u672c\u53f7\u662f\u4ec0\u4e48\uff08\u4f7f\u7528php --ri swoole\u53ef\u4ee5\u83b7\u53d6\uff09\uff1f\r\nswoole\r\n\r\nswoole support => enabled\r\nVersion => 1.9.20\r\n\r\n\r\n5. What is your machine environment used (including version of kernel & php & gcc) ? \r\n\u4f60\u4f7f\u7528\u7684\u673a\u5668\u7cfb\u7edf\u73af\u5883\u662f\u4ec0\u4e48\uff08\u5305\u62ec\u5185\u6838\u3001PHP\u3001gcc\u7f16\u8bd1\u5668\u7248\u672c\u4fe1\u606f\uff09\uff1f\r\nLinux version 4.4.0-96-generic\r\ngcc version 5.4.0\r\nubuntu~16.04.4\r\nPHP 7.0.22\r\n\r\n6. If you are using ssl, what is your openssl version?\r\n\u5982\u679c\u4f60\u4f7f\u7528\u4e86SSL\uff0c\u4f60\u7684openssl\u7248\u672c\u662f\u4ec0\u4e48\uff1f\r\n\u672a\u4f7f\u7528\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1367/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "breath-co2": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/1358", "title": "\u5efa\u8bae swoole table \u5185\u589e\u52a0\u65e0\u7b26\u53f7\u7c7b\u578b\u7684 int \u548c float", "body": "\u5927\u90e8\u5206\u4eba\u5b9e\u9645\u4e1a\u52a1\u79cd\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u4e1a\u52a1\u90fd\u662f>=0\u7684\u503c\uff0c\u6709\u65f6\u5019\u6b63\u597d\u67d0\u4e2a\u5b57\u6bb5\u9700\u8981\u7528\u5230\u7684\u6700\u5927\u503c\u662f 256 \u6216 65535 \u7684\u8bdd\u6bd4\u8f83\u5c34\u5c2c\uff0c\u8fd9\u6837\u5fc5\u987b\u8981\u6269\u5927\u4e00\u500d\u7684\u5bb9\u91cf\uff0c\u5982\u679c\u8fd9\u6837\u589e\u52a0\u4e00\u4e2a\u65e0\u7b26\u53f7\u7684\u7c7b\u578b\u4f1a\u597d\u4e9b\uff1a\r\n\r\n\\SWOOLE\\Table::TYPE_INT_UNSIGNED\r\n\\SWOOLE\\Table::TYPE_FLOAT_UNSIGNED", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1358/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "stelin": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/1271", "title": "\\Swoole\\Coroutine::call_user_func_array\u51fd\u6570\u8c03\u7528\u95ee\u9898", "body": "hello,\u5cf0\u54e5\r\n     \\Swoole\\Coroutine::call_user_func_array\u8fd9\u4e2a\u51fd\u6570\u6211\u5982\u4e0b\u4f7f\u7528\u7684\u65f6\u5019\uff0c\u4e0d\u80fd\u6b63\u5e38\u8fd0\u884c\uff0c\u4e0d\u652f\u6301\u8fd9\u79cd\u8c03\u7528\u4e48\uff0c\u8fd8\u662f\u4e0d\u5e94\u8be5\u6709\u8fd9\u79cd\u4f7f\u7528\u573a\u666f\u3002\r\n\r\n```\r\n$data = \"some data\";\r\n$client = new \\Swoole\\Coroutine\\Client(SWOOLE_SOCK_TCP);\r\n...\r\n\\Swoole\\Coroutine::call_user_func_array([$client, 'send'], $data);\r\n```", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1271/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sylingd": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/1161", "title": "Worker will close with signal 11 when received a request", "body": "Here is the coredump:\r\n```\r\n#0  sw_coro_create (fci_cache=0x0, argv=0x7ffe7ae56490, argc=3, retval=0x0,\r\n    post_callback=0x0, params=0x0)\r\n    at /home/sy/swoole-src-2.0.7/swoole_coroutine.c:222\r\n#1  0x00007f3a999c196d in php_swoole_onConnect (serv=<value optimized out>,\r\n    info=<value optimized out>)\r\n    at /home/sy/swoole-src-2.0.7/swoole_server.c:1275\r\n#2  0x00007f3a99a12138 in swWorker_onTask (factory=<value optimized out>,\r\n    task=0x7ffe7ae56530)\r\n    at /home/sy/swoole-src-2.0.7/src/network/Worker.c:293\r\n#3  0x00007f3a99a1253b in swWorker_onPipeReceive (\r\n    reactor=<value optimized out>, event=0x7ffe7ae585a0)\r\n    at /home/sy/swoole-src-2.0.7/src/network/Worker.c:560\r\n#4  0x00007f3a99a0307c in swReactorEpoll_wait (reactor=0x1907f30,\r\n    timeo=<value optimized out>)\r\n    at /home/sy/swoole-src-2.0.7/src/reactor/ReactorEpoll.c:260\r\n#5  0x00007f3a99a1343f in swWorker_loop (factory=<value optimized out>,\r\n    worker_id=<value optimized out>)\r\n    at /home/sy/swoole-src-2.0.7/src/network/Worker.c:518\r\n#6  0x00007f3a99a105e3 in swManager_spawn_worker (factory=0x18d2ba0,\r\n    worker_id=1) at /home/sy/swoole-src-2.0.7/src/network/Manager.c:644\r\n#7  0x00007f3a99a11029 in swManager_start (factory=0x18d2ba0)\r\n    at /home/sy/swoole-src-2.0.7/src/network/Manager.c:133\r\n#8  0x00007f3a999ffd6a in swFactoryProcess_start (factory=0x18d2ba0)\r\n    at /home/sy/swoole-src-2.0.7/src/factory/FactoryProcess.c:86\r\n#9  0x00007f3a99a06a91 in swServer_start (serv=0x18d2770)\r\n    at /home/sy/swoole-src-2.0.7/src/network/Server.c:701\r\n#10 0x00007f3a999dcf7c in zim_swoole_http_server_start (\r\n    execute_data=0x7f3aa0213170, return_value=0x7ffe7ae58800)\r\n    at /home/sy/swoole-src-2.0.7/swoole_http_server.c:1548\r\n#11 0x00000000008dcf0d in ZEND_DO_FCALL_SPEC_RETVAL_UNUSED_HANDLER (\r\n    execute_data=0x7f3aa0213110)\r\n    at /home/sy/php-7.1.2/Zend/zend_vm_execute.h:970\r\n#12 0x00000000008b9048 in execute_ex (ex=<value optimized out>)\r\n    at /home/sy/php-7.1.2/Zend/zend_vm_execute.h:432\r\n#13 0x000000000090bb65 in zend_execute (op_array=<value optimized out>,\r\n    return_value=<value optimized out>)\r\n    at /home/sy/php-7.1.2/Zend/zend_vm_execute.h:474\r\n#14 0x00000000008561a4 in zend_execute_scripts (type=8, retval=0x0,\r\n    file_count=3) at /home/sy/php-7.1.2/Zend/zend.c:1475\r\n#15 0x00000000007e3b10 in php_execute_script (primary_file=0x7ffe7ae5bcf0)\r\n    at /home/sy/php-7.1.2/main/main.c:2537\r\n#16 0x000000000090f456 in do_cli (argc=2, argv=0x15dba50)\r\n    at /home/sy/php-7.1.2/sapi/cli/php_cli.c:993\r\n#17 0x000000000090fd3a in main (argc=2, argv=0x15dba50)\r\n    at /home/sy/php-7.1.2/sapi/cli/php_cli.c:1381\r\n(gdb) f 1\r\n#1  0x00007f3a999c196d in php_swoole_onConnect (serv=<value optimized out>,\r\n    info=<value optimized out>)\r\n    at /home/sy/swoole-src-2.0.7/swoole_server.c:1275\r\n1275            ret = coro_create(cache, args, 3, &retval, NULL, NULL);\r\n(gdb) f 0\r\n#0  sw_coro_create (fci_cache=0x0, argv=0x7ffe7ae56490, argc=3, retval=0x0,\r\n    post_callback=0x0, params=0x0)\r\n    at /home/sy/swoole-src-2.0.7/swoole_coroutine.c:222\r\n222         zend_function *func = fci_cache->function_handler;\r\n```\r\nEnv:\r\n```\r\n[root@Shimmer ~]# php -v\r\nPHP 7.1.2 (cli) (built: Feb 25 2017 13:04:59) ( ZTS )\r\nCopyright (c) 1997-2017 The PHP Group\r\nZend Engine v3.1.0, Copyright (c) 1998-2017 Zend Technologies\r\n    with Zend OPcache v7.1.2, Copyright (c) 1999-2017, by Zend Technologies\r\n[root@Shimmer ~]# gcc -v\r\nUsing built-in specs.\r\nTarget: x86_64-redhat-linux\r\nConfigured with: ../configure --prefix=/usr --mandir=/usr/share/man --infodir=/usr/share/info --with-bugurl=http://bugzilla.redhat.com/bugzilla --enable-bootstrap --enable-shared --enable-threads=posix --enable-checking=release --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-gnu-unique-object --enable-languages=c,c++,objc,obj-c++,java,fortran,ada --enable-java-awt=gtk --disable-dssi --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-1.5.0.0/jre --enable-libgcj-multifile --enable-java-maintainer-mode --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --disable-libjava-multilib --with-ppl --with-cloog --with-tune=generic --with-arch_32=i686 --build=x86_64-redhat-linux\r\nThread model: posix\r\ngcc version 4.4.7 20120313 (Red Hat 4.4.7-17) (GCC)\r\n[root@Shimmer ~]# uname -a\r\nLinux Shimmer 2.6.32-642.11.1.el6.x86_64 #1 SMP Fri Nov 18 19:25:05 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\r\n```\r\n\r\nSwoole started with HttpServer, but each time a request is received, the same error occurs\r\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "kilmas": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/1020", "title": "Swoole\\Coroutine\\MySQL \u5728 ReflectionMethod->invokeArgs()  \u91cc\u5361\u6b7b\uff0c\u65e0\u6cd5\u8fd4\u56de", "body": "\u7a0b\u5e8f\u5361\u6b7b\u65e0\u6cd5\u6267\u884c\u5230\uff1a$response->end($data);\r\n\u4ee3\u7801\u5982\u4e0b\uff1a\r\n```\r\nclass A {\r\n    public function a ()  {\r\n         $swoole_mysql = new \\Swoole\\Coroutine\\MySQL();\r\n         $connect = $swoole_mysql->connect();\r\n         $res = $swoole_mysql->query();\r\n         return [\r\n            'test' => 'ok'\r\n        ];\r\n   }\r\n}\r\n$class   = new A();\r\n$reflect = new \\ReflectionMethod($class, 'a');\r\n$data = $reflect->invokeArgs($args);\r\n$response->end($data);\r\n```", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1020/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Lewiscowles1986": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/1006", "title": "travis tests", "body": "Hi, looks like travis compiles but does not run `make test` (at least not for all PHP versions)\r\n\r\nhttps://travis-ci.org/swoole/swoole-src/jobs/189064116#L534", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/1006/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "netroby": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/970", "title": "RFC: Adjust the file naming rules", "body": "The current naming rules contains two kinds of file name\r\n![naming](https://cloud.githubusercontent.com/assets/278153/21449578/ad4315ec-c929-11e6-80a3-0d09724ae284.PNG)\r\n\r\n\r\n```\r\nChannel.c\r\nUnitTest.c\r\n```\r\nAnd\r\n```\r\narray.c\r\nhashmap.c\r\n```\r\n\r\nWhy not just using one kind of naming rules?\r\n\r\n```\r\nChannel.c\r\nUnitTest.c\r\nArray.c\r\nHashMap.c\r\n```\r\n\r\nlooks well know\r\n\r\nBut other opensource project. like openssh, it using name-with-arg.c this kind naming rules.\r\n\r\nhttps://github.com/openssh/openssh-portable/tree/master/openbsd-compat", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/970/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "piramix": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/962", "title": "SSL Client randomly returns ssl_error_ssl when SWOOLE_SOCK_ASYNC", "body": "I have Issue with SSL Client it randomly returns ssl_error_ssl - connection with openssl s_client -connect 127.0.0.1:9443 - works everytime\r\n\r\nswoole: 1.9.2\r\nlibssl-dev:amd64               1.0.1t-1+deb8u3\r\n\r\nExample:\r\n[2016-12-20 09:57:56 @9412.0]\tWARNING\tswSSL_connect: SSL_connect() failed. Error: (null)[1]\r\nConnection close\r\nroot@acid:/home/acid# php client.php \r\n[2016-12-20 09:57:57 @9414.0]\tWARNING\tswSSL_connect: SSL_connect() failed. Error: (null)[1]\r\nConnection close\r\nroot@acid:/home/acid# php client.php \r\n[2016-12-20 09:57:58 @9415.0]\tWARNING\tswSSL_connect: SSL_connect() failed. Error: (null)[1]\r\nConnection close\r\nroot@acid:/home/acid# php client.php \r\n[2016-12-20 09:57:58 @9416.0]\tWARNING\tswSSL_connect: SSL_connect() failed. Error: (null)[1]\r\nConnection close\r\nroot@acid:/home/acid# php client.php \r\nConnected\r\nReceived: {\"version\":\"0.1\"}\r\n\r\nI'm starting connection like this:\r\n$this->client = new swoole_client(SWOOLE_SOCK_TCP | SWOOLE_SSL, SWOOLE_SOCK_ASYNC);\r\n$this->client->set(array('open_eof_check' => true, 'package_eof' => \"\\n\"));\r\n$this->client->on(\"connect\", [$this, 'onconnect']);\r\n$this->client->on(\"receive\", [$this, 'onreceive']);\r\n$this->client->on(\"error\", [$this, 'onerror']);\r\n$this->client->on(\"close\", [$this, 'onclose']);\r\n$this->client->connect('127.0.0.1', 9443);\r\n\r\n\r\nTested on 1.9.5-alpha and I have still the same problem:\r\n\r\nExample code:\r\n[swoolesslbug.zip](https://github.com/swoole/swoole-src/files/708244/swoolesslbug.zip)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/962/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "jonnywang": {"issues": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/545", "title": "mac\u73af\u5883\u4e0b\u6d4b\u8bd5taskwait\u7ed3\u679c\u7a7a\"\"\u975efalse\u975e\u8d85\u65f6", "body": "``` php\n<?php\n\n$server = new swoole_server('0.0.0.0', 6382);\n$server->set(array(\n     'daemonize'                => 0,\n     'backlog'                  => 128,\n     'reactor_num'              => 4,\n     'worker_num'               => 8,\n     'task_worker_num'          => 10,\n));\n\n$process_handle = new swoole_process(function(swoole_process $process_handle){\n    while (1) {\n        $process_handle->read();\n        //notodo\n    }\n}, false, 2);\n\n$server->addProcess($process_handle);\n\n$server->on('workerStart', function($serv, $worker_id){\n    //echo 'worker start :' . $worker_id . ',pid :' . getmypid() . PHP_EOL;\n});\n\n$server->on('workerStop', function($serv, $worker_id) {\n    echo 'worker stoped:' . $worker_id . ',pid :' . getmypid() . PHP_EOL;\n});\n\n$server->on('task', function($serv, $task_id, int $from_id, string $data) use ($process_handle) {\n    //echo 'on task  :' . $task_id . ',pid :' . getmypid() . PHP_EOL;\n\n    // \u4e3a\u4e86\u89e6\u53d1\u6a21\u62df\n\n    $process_handle->write($data);\n    $process_handle->write($data);\n    $process_handle->write($data);\n\n    //$serv->finish(\"+1\\r\\n\");\n\n    return \"+1\\r\\n\";\n});\n\n$server->on('finish', function($serv, $task_id, string $data){\n    echo 'on finish  :' . $task_id . ',pid :' . getmypid() . PHP_EOL;\n});\n\n$server->on('receive', function ($serv, $fd, $from_id, $data) {\n    try {\n        $result = $serv->taskwait($data, 10);\n       // \u8fd9\u91cc \u8fd4\u56de \u7a7a  \u975e\u8d85\u65f6 \u975e false \u800c\u662f \u7a7a\n        if ($result === \"\") {\n            echo \"EMPTY\\n\";\n        }\n    } catch (Throwable $e) {\n\n    } finally {\n        $serv->send($fd, \"+1\\r\\n\");\n    }\n});\n\n$server->start();\n```\n\n``` shell\n./redis-benchmark -p 6382 -n 10000 hset 100 name ok\n```\n\n```\n\nPHP Fatal error: Allowed memory size of 134217728 bytes exhausted (tried to allocate 12288 bytes) in /data/cli/test/test.php on line 24\nFatal error: Allowed memory size of 134217728 bytes exhausted (tried to allocate 12288 bytes) in /data/cli/test/test.php on line 24\n[2016-02-29 16:12:27 @23436.0] WARN zm_deactivate_swoole: Fatal error: Allowed memory size of 134217728 bytes exhausted (tried to allocate 12288 bytes) in /data/cli/test/test.php on line 24.\n\n```\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/545/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/comments/16385906", "body": "\u53ef\u4ee5\u89e3\u51b3 #545  read\u5d29\u6e83 \n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/16385906/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "matyhtf": {"issues": [], "commits": [{"url": "https://api.github.com/repos/swoole/swoole-src/commits/473f66a02027e21940d69962c20b158ac12207a9", "message": "fixed #1450"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/a902f47e510393196753c94e7d124595486e3915", "message": "Merge branch '1.9'"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/4ae4155d12a3d1cd223af7fcf97ffc3df820a7b6", "message": "added http raw.php"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/a48dbc5a6b81bc814e4dc0932b757ec254a21fe9", "message": "Allow double quotes in content-type boundaries"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/6aa6de9e1b4ed5ed9047335101ef4672778e0639", "message": "warning free"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/d5e30a990959f4ae333e7ce6d4fb3cf075793b79", "message": "Merge branch '1.9'"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/88dc88cfbd0569ba5c85a4f8cc543995def2b4a6", "message": "Merge branch '1.9' of github.com:swoole/swoole-src into 1.9"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/44bf7a68c0d09c40c3b93931582ee09d9dd8b211", "message": "Merge pull request #1451 from lvht/1.9\n\nfix http2 server header name truncate error"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/7d7d0f27f8fa067359141870cb27a3d428dd7ac0", "message": "added chan::isFull and chan::isEmpty"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/8ec52e9d2920e5f66e4fd663a7578fd6109db2f9", "message": "revert swoole_channel.c"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/6ae180c48c94ca0cc1ff51c1e03a65694274f3ea", "message": "added swChannel_print"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/e89e35437c52c7ab213c3a5eceda7574797ddf4f", "message": "Merge branch 'feature-uc'"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/7db18c9aa5bcd77ecd2e83346ea958f28e8f8c93", "message": "ignore the empty string."}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/e4ec1cdb4a2668a6afc3e1745381d31e0e82416b", "message": "ignore the empty string."}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/ab577637305460b7685f5769b2ac67a552662941", "message": "ignore the empty string."}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/c917544c73542ea4d11bbe712fcd4eb4eb30822e", "message": "format code"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/250c3eeb887892d2207393928024614532fff5ee", "message": "Coroutine\\Http\\Client supports http_proxy."}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/0920247d711dd255ca96d795a97675eb66655340", "message": "Merge branch '1.9'"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/057c13f7b45ee79c2bd01e0a20d7fc78c0566edd", "message": "update error message."}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/026aa3e1be9df41dff650fb9cce01431e635a569", "message": "check status for user process."}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/6cc336508618df6188fe22cb7709d08c8f82c00e", "message": "fix Server::stats crash in UserProcess."}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/3e1a0d2693d79de8c4de18edc3f69bfd842f9feb", "message": "fixed redis->exec crash"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/b8d40deda8e2414ce6c18c0f104126329d567433", "message": "Merge branch '1.9'"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/d4de89533b67fca16f0a0c167b39c319ac30318d", "message": "fixed #1438"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/3d121f36184b5e199652039e0088435a705984ab", "message": "add channel_select.php"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/eaf16294add7630ceb48dd5c881c3a1fe207b3a4", "message": "rename"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/1607017e42e84f8d79b7d6b5bdc9403355d8fe6d", "message": "fix memory error."}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/ccc196f939f8bbb7d9e04ffe3507cc1dddba06c6", "message": "merge"}, {"url": "https://api.github.com/repos/swoole/swoole-src/commits/b50c979cb9d6fa0feb650f4dd2fc93c227d69937", "message": "update coro_channel"}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/7684335", "body": "PHP\u5728\u672a\u5f00\u542fZTS\u65f6\uff0cTSRM_C\u4e3a\u7a7a\uff0cswoole_thread_ctx = ; \u8bed\u6cd5\u9519\u8bef\u3002\u5df2\u4fee\u590d\u3002\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/7684335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/16858752", "body": "The epoll event will be triggered when new data arrives fd.\nWe only modify the settings of epoll notification to be completed by the kernel.\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/16858752/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/21698101", "body": "swoole\u652f\u6301\u4e8c\u8fdb\u5236\u4f20\u8f93\uff0cPHP\u7684string\u51fd\u6570\u4e5f\u662f\u4e8c\u8fdb\u5236\u5b89\u5168\u7684\u3002\n\u56fe\u7247\u53ef\u662f\u7528file_get_contents\u8bfb\u53d6\u7136\u540e\u76f4\u63a5\u53d1\u9001\u3002\n\n\\0\u6ca1\u6709\u6536\u5230\u6570\u636e\u662f\u5ba2\u6237\u7aef\u4ee3\u7801swoole_client\u7c7b\u7684\u4e00\u4e2abug\uff0c\u6f0f\u4f20\u957f\u5ea6\u3002\u73b0\u5df2\u89e3\u51b3\uff0c\u8bf7git pull\u4ee3\u7801\u91cd\u65b0\u6d4b\u8bd5\u4e0b\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/21698101/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/21984183", "body": "\u6b64bug\u5df2\u4fee\u590d\u3002\u63a5\u6536\u7684\u6570\u636e\u957f\u5ea6\u6070\u597d\u7b49\u4e8eBUFER_SIZE\u65f6\u4f1a\u89e6\u53d1Close.\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/21984183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/23660303", "body": "\u662fmac\u4e0b\u7684\u5417\uff1f\u53ef\u4ee5\u52a0\u6211\u7684QQ 350749960.\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/23660303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/23763210", "body": "no support.\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/23763210/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/23768386", "body": "You can use the nginx web server as a front end.\nNginx proxy requests to swoole.\n\n------------------ \u539f\u59cb\u90ae\u4ef6 ------------------\n\u53d1\u4ef6\u4eba: \"fallshuang\";notifications@github.com;\n\u53d1\u9001\u65f6\u95f4: 2013\u5e749\u67084\u65e5(\u661f\u671f\u4e09) \u4e0b\u53482:16\n\u6536\u4ef6\u4eba: \"matyhtf/swoole\"swoole@noreply.github.com; \n\u6284\u9001: \"Rango\"apolov@vip.qq.com; \n\u4e3b\u9898: Re: [swoole] Does swoole support listen on openssl socket ?  (#6)\n\nthen , swoole doesn't support https , right? \n\n\u2014\nReply to this email directly or view it on GitHub.\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/23768386/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/23946733", "body": "WebSocket\u534f\u8bae\u7684\u652f\u6301\u5df2\u7ecf\u6d3e\u4e0a\u65e5\u7a0b\u4e86\uff0c10\u6708\u4efd\u4e4b\u524d\u4f1a\u63d0\u4f9b\u3002\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/23946733/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/24296372", "body": "\u5df2\u652f\u6301WebSocket\u534f\u8bae\u3002\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/24296372/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/25065331", "body": "\u6587\u6863\u6b63\u5728\u5efa\u8bbe\u4e2d\u3002http://www4swoole.sinaapp.com/wiki.php\n\u6b22\u8fce\u63d0\u51fa\u597d\u7684\u5efa\u8bae\uff0c\u66f4\u5177\u4f53\u7684\u63cf\u8ff0\u3002\u54ea\u4e9b\u90e8\u5206\u6587\u6863\u4e0d\u591f\u8be6\u7ec6\uff0c\u9700\u8981\u8865\u5145\u4ec0\u4e48\u6837\u7684\u6587\u6863\u3002\n\u53ef\u4ee5\u52a0\u5165\u5b98\u65b9QQ\u7fa4\uff0c\u8fd9\u6837\u53ef\u4ee5\u5373\u65f6\u6c9f\u901a\u3002\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/25065331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/26023043", "body": "merged\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/26023043/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/26110515", "body": "\u6709\u4e00\u4e2achm\u7248\u672c\u7684\u6587\u6863\uff0c\u6bd4\u8f83\u65e7\u4e86\uff0c\u8fd1\u671f\u4f1a\u8fc1\u79fb\u5230GitHub\u4e0a\uff0c\u4f7f\u7528markdown\u91cd\u5199\u3002\nhttps://code.google.com/p/swoole/downloads/detail?name=SwooleV0.96Beta.zip&can=2&q=#makechanges\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/26110515/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/26414911", "body": "\u8fd9\u4e2a\u6ca1\u5173\u7cfb\uff0c\u6b63\u5e38\u7684\u3002\u5f53worker\u8fdb\u7a0b\u5f02\u5e38\u9000\u51fa\u540e\uff0cswoole\u4f1a\u542f\u52a8\u4e00\u4e2a\u65b0\u7684worker\u8fdb\u7a0b\u3002\n\n------------------ \u539f\u59cb\u90ae\u4ef6 ------------------\n\u53d1\u4ef6\u4eba: \"wangchuan3533\";notifications@github.com;\n\u53d1\u9001\u65f6\u95f4: 2013\u5e7410\u670816\u65e5(\u661f\u671f\u4e09) \u665a\u4e0a8:00\n\u6536\u4ef6\u4eba: \"matyhtf/swoole\"swoole@noreply.github.com; \n\n\u4e3b\u9898: Re: [swoole] \u51fa\u9519\u5c31\u9000\u51fa (#11)\n\ntry catch \u5462 \n\n \u53d1\u81ea\u6211\u7684 iPhone \n\n> \u5728 2013\u5e7410\u670814\u65e5\uff0c18:35\uff0cbelieveus notifications@github.com \u5199\u9053\uff1a \n> \n> \u53d1\u73b0\u4e86\u4e00\u4e2a\u5f88\u81f4\u547d\u7684\u95ee\u9898\uff0c\u5c31\u662f\u8fd9\u4e2a\u670d\u52a1\uff0c\u5982\u679c\u5728php\u811a\u672c\u4e2d\u51fa\u73b0\u8bed\u6cd5\uff0c\u627e\u4e0d\u5230\u7c7b\u7b49\u81f4\u547d\u9519\u8bef\u7684\u65f6\u5019\uff0c\u670d\u52a1\u8fdb\u7a0b\u4f1a\u76f4\u63a5\u9000\u51fa\uff0c\u9020\u6210\u670d\u52a1\u4e0d\u53ef\u7528\u3002 \n> \u4f5c\u4e3a\u670d\u52a1\u7684\u8bdd\uff0c\u7a33\u5b9a\u662f\u5fc5\u987b\u7684\u3002\u4e00\u51fa\u9519\u5c31\u4e0d\u63d0\u4f9b\u670d\u52a1\uff0c\u8fd9\u80af\u5b9a\u4e0d\u884c\u3002\u8bf7\u95ee\u6709\u6ca1\u6709\u4ec0\u4e48\u89e3\u51b3\u65b9\u6cd5\uff1f \n> \u7b80\u5355\u8bf4\u5c31\u662f\u867d\u7136\u51fa\u9519\uff0c\u4f46\u5982\u679c\u4e0d\u8c03\u7528\u9519\u8bef\u4ee3\u7801\u670d\u52a1\u4e0d\u4f1a\u9000\u51fa\uff0c\u5373\u4f7f\u8fd0\u884c\u9519\u8bef\u4ee3\u7801\uff0c\u4e5f\u80fdthrow \u51fa\uff0c\u4f46\u4e0d\u9000\u51fa\u670d\u52a1\u8fdb\u7a0b \n> \n> \u2014 \n> Reply to this email directly or view it on GitHub. \n\n\u2014\nReply to this email directly or view it on GitHub.\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/26414911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/29051105", "body": "\u6709websocket\u7684\u652f\u6301\u3002\u5728\u8fd9\u91cc\nhttps://github.com/matyhtf/swoole_framework/tree/master/examples\n\n------------------ \u539f\u59cb\u90ae\u4ef6 ------------------\n\u53d1\u4ef6\u4eba: \"Wolf-man\";notifications@github.com;\n\u53d1\u9001\u65f6\u95f4: 2013\u5e7411\u670821\u65e5(\u661f\u671f\u56db) \u4e0b\u53484:45\n\u6536\u4ef6\u4eba: \"matyhtf/swoole\"swoole@noreply.github.com; \n\n\u4e3b\u9898: [swoole] \u4ec0\u4e48\u65f6\u5019\u51fawebsocket\u7684\u4f8b\u5b50\uff1f (#12)\n\n\u8fd9\u51e0\u5929\u5728\u627ewebsocket\u6765\u5728\u6211\u7684php\u91cc\u5f04\u4e00\u4e2a\u804a\u5929\u529f\u80fd\uff0c\u4f46\u662f\u8bf4php\u4e0d\u652f\u6301\u591a\u7ebf\u7a0b\uff0c\u6211\u5c31\u5404\u79cd\u627e\uff0c\u521a\u51c6\u5907\u7528node.js\u7684\u65f6\u5019\uff0c\u770b\u5230\u4e86swoole,\u770b\u6837\u5b50\u53ef\u884c\uff0c\u5e0c\u671b\u80fd\u51fawebsocket\u7684example\u8ba9\u6211\u8fd9\u83dc\u9e1f\u5b66\u4e60\u5b66\u4e60\n\n\u2014\nReply to this email directly or view it on GitHub.\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/29051105/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/31163733", "body": "Yes. The swoole-1.6.7.tgz is bad. It can not build.\nThere are some errors in the package.xml file.\nI will fix it as soon as possible.\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/31163733/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "commit_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/comments/3804361", "body": "\u6211\u8fd9\u91cc\u7684cmake\u7f16\u8bd1\u901a\u8fc7\u4e86\u3002\u53ef\u4ee5\u52a0\u6211\u7684QQ\uff1a 350749960\u3002\u6c9f\u901a\u4f1a\u6bd4\u8f83\u53ca\u65f6\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/3804361/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/comments/3816033", "body": "\u5df2\u5408\u5e76\u5230\u4e3b\u5e72\u3002\n\n------------------ \u539f\u59cb\u90ae\u4ef6 ------------------\n\u53d1\u4ef6\u4eba: \"wangchuan3533\"notifications@github.com;\n\u53d1\u9001\u65f6\u95f4: 2013\u5e748\u67088\u65e5(\u661f\u671f\u56db) \u4e0b\u53482:11\n\u6536\u4ef6\u4eba: \"matyhtf/swoole\"swoole@noreply.github.com; \n\u6284\u9001: \"Rango\"apolov@vip.qq.com; \n\u4e3b\u9898: Re: [swoole] Fixbug:\u7ebf\u7a0b\u5b89\u5168\u7f16\u8bd1\u4e0d\u901a\u8fc7\u95ee\u9898\u89e3\u51b3 (581a223)\n\n\u8fd0\u884c\n ./configure \n\n\u51fa\u73b0\uff1a\n ./configure: line 3505: PHP_DEBUG: command not found \n\n\u89e3\u51b3\u65b9\u6cd5\n config.m4\u6587\u4ef6\n diff --git a/config.m4 b/config.m4 index 79437ec..118fcec 100644 --- a/config.m4 +++ b/config.m4 @@ -135,8 +135,8 @@ if test \"$PHP_SWOOLE\" != \"no\"; then    PHP_ADD_INCLUDE($SWOOLE_DIR/include)    AC_ARG_ENABLE(debug,      [--enable-debug,  compile with debug symbols], -    [PHP_DEBUG = $enableval], -    [PHP_DEBUG = 0] +    [PHP_DEBUG=$enableval], +    [PHP_DEBUG=0]    ) \n\n\u2014\nReply to this email directly or view it on GitHub.\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/3816033/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/comments/6039274", "body": "Thank you for your advice, I will fix it.\n\n------------------ \u539f\u59cb\u90ae\u4ef6 ------------------\n\u53d1\u4ef6\u4eba: \"Antony Dovgal\";notifications@github.com;\n\u53d1\u9001\u65f6\u95f4: 2014\u5e744\u670816\u65e5(\u661f\u671f\u4e09) \u665a\u4e0a11:51\n\u6536\u4ef6\u4eba: \"matyhtf/swoole\"swoole@noreply.github.com; \n\u6284\u9001: \"Rango\"apolov@vip.qq.com; \n\u4e3b\u9898: Re: [swoole] Fix: udp send error. (3592dd9)\n\nYou really shouldn't be using zend_error().\n Take a look at PHP sources, zend_error() is used only in Zend Engine itself for true engine errors, all PHP extensions use php_error_docref() instead, which allows to call custom error handlers, do the logging and other stuff.\n\n\u2014\nReply to this email directly or view it on GitHub.\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/6039274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/comments/6052595", "body": "Fixed.\nhttps://github.com/matyhtf/swoole/commit/6c55677290feeee34135c03639da0683e06947d4\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/6052595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/comments/8333366", "body": ":) , Thank you. That is really bad description.\nThe next version I will explain in detail every bug fix.\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/8333366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/comments/8713079", "body": "\u5305\u5934\u957f\u5ea6\u4e0d\u8db3\u8865\u9f50\u7684\u903b\u8f91\u3002\u8fd9\u91cc\u5f15\u8d77\u4e86\u4e00\u4e2a\u6b7b\u5faa\u73af\u7684BUG\u3002\u8fd9\u6bb5\u4ee3\u7801\u610f\u4e49\u4e0d\u5927\u5220\u9664\u4e86\u3002\u5982\u679c\u672a\u53d1\u9001\u8db3\u591f\u5927\u7684\u5305\u5934\uff0c\u8ba4\u4e3a\u662f\u6076\u610f\u8fde\u63a5\uff0c\u76f4\u63a5\u5173\u95ed\u3002\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/8713079/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/comments/20328208", "body": "Because coroutine is enabled by default , a higher version of PHP is required.", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/20328208/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/comments/25067922", "body": "This is a synchronous client and does not need to set the event", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/25067922/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "review_comments": []}, "lvht": {"issues": [], "commits": [{"url": "https://api.github.com/repos/swoole/swoole-src/commits/7367353a229ba8b3c6f3964e72f0f181a77cdbc9", "message": "fix http2 server header name truncate error"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/pulls/comments/101730578", "body": "Not changed so much. Just move `struct _swProtocol` ahead of `struct _swConnection`", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/pulls/comments/101730578/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/swoole/swoole-src/pulls/comments/101730822", "body": "now, protocol and onRead function has been added to connection, which make it possible to support different protocol on the same port.", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/pulls/comments/101730822/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/swoole/swoole-src/pulls/comments/101733189", "body": "Now, call `connection->onRead`", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/pulls/comments/101733189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/swoole/swoole-src/pulls/comments/101733328", "body": "copy protocol and onRead function point for every new accepted connection.", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/pulls/comments/101733328/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "wangchuan3533": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/21850976", "body": "\u67e5\u770b\u4e86\u4f5c\u8005\u7684\u4ee3\u7801\uff0c\u627e\u5230\u4e86\u95ee\u9898\u6240\u5728\n\u5728\u670d\u52a1\u5668\u7aef\uff0cswServer_poll_onReceive_no_buffer\u8c03\u7528swRead\u51fd\u6570\uff0c\u6570\u636e\u957f\u5ea6\u521a\u597d\u7b49\u4e8elen\uff0c\u4e8e\u662fswRead\u51fd\u6570\u4f1a\u8bbe\u7f6eerrno=EAGAIN,\u800cswServer_poll_onReceive_no_buffer\u6536\u5230\u8fd9\u4e2aEAGAIN\u540e\u4f1a\u91cd\u65b0\u8c03\u7528swRead\uff0c\u800cswRead\u8fd4\u56de0\uff0c\u8fd9\u65f6swServer_poll_onReceive_no_buffer\u5c31\u4f1a\u8ba4\u4e3asocket\u5df2\u7ecf\u65ad\u5f00\uff0c\u5173\u95ed\u76f8\u5e94\u7684socket\u3002\n\nBase.c\n\n``` c\nSWINLINE int swRead(int fd, char *buf, int len)\n{\n    int n = 0, nread;\n\n    while (1)\n    {\n        nread = read(fd, buf + n, len - n);\n        //\u9047\u5230\u9519\u8bef\n        if (nread < 0)\n        {\n            //\u4e2d\u65ad\n            if (errno == EINTR)\n            {\n                continue;\n            }\n            //\u51fa\u9519\u4e86\n            else\n            {\n                if (errno != EAGAIN)\n                {\n                    sw_errno = -1; //\u5f02\u5e38\n                }\n                break;\n            }\n        }\n        //\u8fde\u63a5\u5df2\u5173\u95ed\n        else if (nread == 0)\n        {\n            sw_errno = ECONNRESET;\n            return 0;\n        }\n        else\n        {\n            n += nread;\n            //\u5185\u5b58\u8bfb\u6ee1\u4e86\uff0c\u8fd8\u53ef\u80fd\u6709\u6570\u636e\n            if (n == len)\n            {\n                sw_errno = EAGAIN;\n                break;\n            }\n            //\u5df2\u8bfb\u5b8c\n            else\n            {\n                sw_errno = 0;\n                continue;\n            }\n        }\n    }\n    return n;\n}\n```\n\nServer.c\n\n``` c\nstatic int swServer_poll_onReceive_no_buffer(swReactor *reactor, swEvent *event)\n{\n    int ret, n;\n    swServer *serv = reactor->ptr;\n    swFactory *factory = &(serv->factory);\n    swEventData buf;\n\n    n = swRead(event->fd, buf.data, SW_BUFFER_SIZE);\n    if (n < 0)\n    {\n        swTrace(\"swRead error: %d\\n\", errno);\n        return SW_ERR;\n    }\n    else if (n == 0)\n    {\n        swTrace(\"Close Event.FD=%d|From=%d\\n\", event->fd, event->from_id);\n        return swServer_close(serv, event);\n    }\n    else\n    {\n        swTrace(\"recv: %s|fd=%d|len=%d\\n\", buf.data, event->fd, n);\n        buf.info.fd = event->fd;\n        buf.info.len = n;\n        buf.info.from_id = event->from_id;\n\n        ret = factory->dispatch(factory, &buf);\n        //\u5904\u7406\u6570\u636e\u5931\u8d25\uff0c\u6570\u636e\u5c06\u4e22\u5931\n        if (ret < 0)\n        {\n            swWarn(\"factory->dispatch fail\\n\");\n        }\n        if (sw_errno == SW_OK)\n        {\n            return ret;\n        }\n        //\u7f13\u5b58\u533a\u8fd8\u6709\u6570\u636e\u6ca1\u8bfb\u5b8c\uff0c\u7ee7\u7eed\u8bfb\uff0cEPOLL\u7684ET\u6a21\u5f0f\n        else if (sw_errno == EAGAIN)\n        {\n            ret = swServer_poll_onReceive_no_buffer(reactor, event);\n        }\n        return ret;\n    }\n    return SW_OK;\n}\n```\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/21850976/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/21993626", "body": "\u597d\u7684\uff0c\u6211\u770b\u770b\uff0c\u8c22\u8c22\n\n2013/8/2 Tianfeng notifications@github.com\n\n> \u6b64bug\u5df2\u4fee\u590d\u3002\u63a5\u6536\u7684\u6570\u636e\u957f\u5ea6\u6070\u597d\u7b49\u4e8eBUFER_SIZE\u65f6\u4f1a\u89e6\u53d1Close.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/matyhtf/swoole/issues/4#issuecomment-21984183\n> .\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/21993626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/26412002", "body": "try catch \u5462\n\n\u53d1\u81ea\u6211\u7684 iPhone\n\n> \u5728 2013\u5e7410\u670814\u65e5\uff0c18:35\uff0cbelieveus notifications@github.com \u5199\u9053\uff1a\n> \n> \u53d1\u73b0\u4e86\u4e00\u4e2a\u5f88\u81f4\u547d\u7684\u95ee\u9898\uff0c\u5c31\u662f\u8fd9\u4e2a\u670d\u52a1\uff0c\u5982\u679c\u5728php\u811a\u672c\u4e2d\u51fa\u73b0\u8bed\u6cd5\uff0c\u627e\u4e0d\u5230\u7c7b\u7b49\u81f4\u547d\u9519\u8bef\u7684\u65f6\u5019\uff0c\u670d\u52a1\u8fdb\u7a0b\u4f1a\u76f4\u63a5\u9000\u51fa\uff0c\u9020\u6210\u670d\u52a1\u4e0d\u53ef\u7528\u3002\n> \u4f5c\u4e3a\u670d\u52a1\u7684\u8bdd\uff0c\u7a33\u5b9a\u662f\u5fc5\u987b\u7684\u3002\u4e00\u51fa\u9519\u5c31\u4e0d\u63d0\u4f9b\u670d\u52a1\uff0c\u8fd9\u80af\u5b9a\u4e0d\u884c\u3002\u8bf7\u95ee\u6709\u6ca1\u6709\u4ec0\u4e48\u89e3\u51b3\u65b9\u6cd5\uff1f\n> \u7b80\u5355\u8bf4\u5c31\u662f\u867d\u7136\u51fa\u9519\uff0c\u4f46\u5982\u679c\u4e0d\u8c03\u7528\u9519\u8bef\u4ee3\u7801\u670d\u52a1\u4e0d\u4f1a\u9000\u51fa\uff0c\u5373\u4f7f\u8fd0\u884c\u9519\u8bef\u4ee3\u7801\uff0c\u4e5f\u80fdthrow \u51fa\uff0c\u4f46\u4e0d\u9000\u51fa\u670d\u52a1\u8fdb\u7a0b\n> \n> \u2014\n> Reply to this email directly or view it on GitHub.\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/26412002/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/comments/3804255", "body": "cmake\u7f16\u8bd1\u95ee\u9898\uff1a\n\n``` diff\ndiff --git a/CMakeLists.txt b/CMakeLists.txt\nindex 32068b3..2032601 100644\n--- a/CMakeLists.txt\n+++ b/CMakeLists.txt\n@@ -5,14 +5,15 @@ include_directories(BEFORE ../include ../)\n file(GLOB_RECURSE SRC_LIST FOLLOW_SYMLINKS src/*.c)\n file(GLOB_RECURSE HEAD_FILES FOLLOW_SYMLINKS include/*.h)\n\n-SET(LIBRARY_OUTPUT_PATH ../lib)\n+SET(LIBRARY_OUTPUT_PATH ./lib)\n SET(EXECUTABLE_OUTPUT_PATH ${PROJECT_BINARY_DIR}/bin)\n set(SERVER_SRC_LIST examples/server.c)\n\n #message(STATUS \"source=${SRC_LIST}\")\n #message(STATUS \"header=${HEAD_FILES}\")\n\n```\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/3804255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/swoole/swoole-src/comments/3814638", "body": "\u8fd0\u884c\n\n``` bash\n./configure\n```\n\n\u51fa\u73b0\uff1a\n\n``` bash\n./configure: line 3505: PHP_DEBUG: command not found\n```\n\n\u89e3\u51b3\u65b9\u6cd5\nconfig.m4\u6587\u4ef6\n\n``` diff\ndiff --git a/config.m4 b/config.m4\nindex 79437ec..118fcec 100644\n--- a/config.m4\n+++ b/config.m4\n@@ -135,8 +135,8 @@ if test \"$PHP_SWOOLE\" != \"no\"; then\n   PHP_ADD_INCLUDE($SWOOLE_DIR/include)\n   AC_ARG_ENABLE(debug,\n     [--enable-debug,  compile with debug symbols],\n-    [PHP_DEBUG = $enableval],\n-    [PHP_DEBUG = 0]\n+    [PHP_DEBUG=$enableval],\n+    [PHP_DEBUG=0]\n   )\n```\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/3814638/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "shenzhe": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/21854737", "body": "\u55ef\uff0c \u8fde\u63a5\u5173\u95ed\u8fd9\u5757\u7684\u903b\u8f91\u9700\u8981\u505a\u4e2aEAGAIN\u5224\u65ad\u4e86\u3002\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/21854737/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "commit_comments": [], "review_comments": []}, "fallshuang": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/23768187", "body": "then , swoole doesn't support https , right? \n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/23768187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/23775107", "body": "It's not a good solution .\n\neg: I wanna verify the client's certificate , only granted certificate can connect to server. \n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/23775107/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "gyf19": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/23941623", "body": "\u6211\u89c9\u5f97\u5982\u679c\u53ef\u4ee5\u652f\u6301WebSocket\u3002\u6bd4\u8f83\u6709\u524d\u9014\u3002   \u5475\u5475\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/23941623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "yc2266": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/25064719", "body": "\u600e\u4e48\u65e0\u4eba\u54cd\u5e94\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/25064719/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "yangchaogit": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/25970746", "body": "add swoole_version function to show swolle version in php code\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/25970746/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/25971169", "body": "you will easy to get the version of swoole not only from phpinfo but also use \n\n'echo SWOOLE_VERSION' or swoole_version()\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/25971169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "commit_comments": [], "review_comments": []}, "believeus": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/26247851", "body": "\u8fd9\u4e2a\u8be6\u7ec6\u770b\u4e86\u4e0b\u4ee3\u7801\uff0c\u9009\u62e9\u4e0d\u540c\u7684\u8fd0\u884c\u6a21\u5f0f\u5c31\u53ef\u4ee5\u4e86\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/26247851/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "ChiayiLee": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/29475077", "body": "\u8fd9\u4e1c\u897f\u4e0d\u9519\u554a\u3002\u600e\u4e48\u4e0d\u5efa\u4e2aQQ\u7fa4\uff0c\u4e00\u8d77\u4ea4\u6d41\uff1f\u4f5c\u8005\u80fd\u4e0d\u80fd\u628aQQ\u7b49\u8054\u7cfb\u65b9\u5f0f\u516c\u5f00\u4e0b\uff01\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/29475077/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/29475254", "body": "www.swoole.com\u3000\u662f\u5b98\u7f51\u5417\uff0c\u600e\u4e48\u4e00\u76f4\u6253\u4e0d\u5f00\u3002\u65e0\u6cd5\u8bbf\u95ee\uff01\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/29475254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "remicollet": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/31161958", "body": "FYI I have create RPM (Fedora, RHEL, Centos, ...) packages of swoole extension and will try to keep them updated.\n\nSee http://blog.famillecollet.com/pages/PECL-extensions-RPM-status\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/31161958/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/31162089", "body": "There are really a lot of build warnings :(\n\nSome are only cleanups (unused-variable), but other could raise unexpected behavior (implicit function declaration, ncompatble pointer type, ...)\n\nI wil try to fix some of them if I found more time... And yes, I use -Wall flags.\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/issues/comments/31162089/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/comments/8330834", "body": "Nominated for changelog bloopers ;)\n\nPlease, don't use such sentence.... \"all known issues\" have really no value for users.\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/8330834/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/swoole/swoole-src/comments/20328069", "body": "if you raise minimal version, previous message is unneeded ;)", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/20328069/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "tony2001": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/comments/6032404", "body": "With convert_to__(_value) you change the original zval itself instead of separating it and making a local copy, if needed.\nThis might lead to some unpredictable results like variables changing their values after function call and (in some cases) memory corruptions. \n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/6032404/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/swoole/swoole-src/comments/6032435", "body": "You really shouldn't be using zend_error().\nTake a look at PHP sources, zend_error() is used only in Zend Engine itself for true _engine_ errors, all PHP extensions use php_error_docref() instead, which allows to call custom error handlers, do the logging and other stuff.\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/6032435/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "praswicaksono": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/comments/13557153", "body": "some function still declared in lowercase for it should be `camelCase`\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/13557153/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "xuguoliangjj": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/comments/15397232", "body": "good~~\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/15397232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "wenqiang-tian": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/comments/18878033", "body": "good\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/18878033/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "iou402": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/comments/19170281", "body": "\u4e3a\u4ec0\u4e48\u6700\u5c0f\u503c\u8981\u4fee\u6539\u62102\u768410\u6b21\u65b9 \uff0c\u5982\u679c\u884c\u6570\u5c11\u7684\uff0c \u8fd9\u6837\u4e0d\u662f\u6d6a\u8d39\u5185\u5b58\u5417\uff1f\n", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/19170281/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "chaojidan": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/comments/19784623", "body": "\u5904\u7406\u795e\u901f\uff01\u8d5e\uff01", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/19784623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "troyscl": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/comments/20794095", "body": "\u975e\u5e38\u611f\u8c22", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/20794095/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "huguijian": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/comments/21485044", "body": "\u591a\u4e86\u4e2a\u5206\u53f7\u3002", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/21485044/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "rokaye": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/comments/21992486", "body": "\u5cf0\u54e5\u5a01\u6b66\uff0c\u7acb\u9a6c\u5c31\u4fee\u590d\u4e86\uff01", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/21992486/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "maskwang": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/comments/22721380", "body": "very good~", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/22721380/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "Dorbmon": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/comments/24799060", "body": "How to set event?No way?", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/24799060/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "deepziyu": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/comments/25021274", "body": "\u5173\u4e8e call_user_func/call_user_func_array \u548c\u534f\u7a0b\u51b2\u7a81\u7684\u95ee\u9898\uff0c\u6211\u662f\u8fd9\u6837\u89e3\u51b3\u7684\uff0c\u4f7f\u7528\u547d\u540d\u7a7a\u95f4\u66ff\u6362\u5168\u90e8\u53ef\u80fd\u51fa\u73b0\u8fd9\u4e24\u65b9\u6cd5\u7684\u5730\u65b9\uff1a\r\nhttps://github.com/deepziyu/yii2-swoole/blob/master/funReplace.php", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/comments/25021274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "yangxikun": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/pulls/comments/108415047", "body": "params_num\u5e94\u8be5\u4e3akeys_num", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/pulls/comments/108415047/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "motecshine": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/pulls/comments/130568120", "body": "```c\r\nif (! ctx->response.ztrailer) {\r\n   \r\n}\r\n```", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/pulls/comments/130568120/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/swoole/swoole-src/pulls/comments/130568587", "body": "\u7f29\u8fdb", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/pulls/comments/130568587/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}, "LinkedDestiny": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/swoole/swoole-src/pulls/comments/130579158", "body": "\u5728\u5b8f \"swoole_http_server_array_init\" \u91cc\u7528\u5230\u4e86ztrailer\u53d8\u91cf\uff0c\u6240\u4ee5\u4e0d\u80fd\u8fd9\u4e48\u5199", "reactions": {"url": "https://api.github.com/repos/swoole/swoole-src/pulls/comments/130579158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}}}}