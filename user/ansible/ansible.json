{"_default": {"1": {"mtnbikenc": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35051", "title": "ansible_virtualization_type and ansible_virtualization_role not recognized for Amazon EC2 C5 Instances", "body": "<!---\r\nVerify first that your issue/request is not already reported on GitHub.\r\nAlso test if the latest release, and master branch are affected too.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest -->\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\n<!---\r\nName of the module, plugin, task or feature\r\nDo not include extra details here, e.g. \"vyos_command\" not \"the network module vyos_command\" or the full path\r\n-->\r\nlib/ansible/module_utils/facts/virtual/linux.py\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.5.0 (devel fb18338cdc) last updated 2018/01/18 11:02:22 (GMT -400)\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/home/rteague/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /home/rteague/git/clusters/aws-c1/ansible/lib/ansible\r\n  executable location = /home/rteague/git/clusters/aws-c1/ansible/bin/ansible\r\n  python version = 2.7.14 (default, Jan 11 2018, 14:45:11) [GCC 7.2.1 20170915 (Red Hat 7.2.1-2)]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\n<!---\r\nIf using Ansible 2.4 or above, paste the results of \"ansible-config dump --only-changed\"\r\nOtherwise, mention any settings you have changed/added/removed in ansible.cfg\r\n(or using the ANSIBLE_* environment variables).\r\n-->\r\n```\r\n$ ansible-config dump --only-changed\r\n(no output)\r\n```\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nN/A\r\n\r\n##### SUMMARY\r\n<!--- Explain the problem briefly -->\r\nAmazon EC2 C5 instances are not properly recognized due to a change in bios_vendor/sys_vendor identifier.\r\n\r\n##### STEPS TO REPRODUCE\r\n<!---\r\nFor bugs, show exactly how to reproduce the problem, using a minimal test-case.\r\nFor new features, show how the feature would be used.\r\n-->\r\nOn a C5 instance:\r\n```\r\n$ ansible -m setup all -i /tmp/c5_host |grep \"virtualization\"\r\n        \"ansible_virtualization_role\": \"NA\", \r\n        \"ansible_virtualization_type\": \"NA\", \r\n```\r\n\r\n\r\n\r\n##### EXPECTED RESULTS\r\n<!--- What did you expect to happen when running the steps above? -->\r\nExpected _role and _type to be properly populated.\r\n\r\n##### ACTUAL RESULTS\r\n<!--- What actually happened? If possible run with extra verbosity (-vvvv) -->\r\n\r\n<!--- Paste verbatim command output between quotes below -->\r\n```\r\nChecked on the EC2 C5 instance:\r\n# cat /sys/devices/virtual/dmi/id/bios_vendor\r\nAmazon EC2\r\n# cat /sys/devices/virtual/dmi/id/sys_vendor\r\nAmazon EC2\r\n# cat /sys/devices/virtual/dmi/id/product_name\r\nc5.large\r\n\r\nChecking on a normal EC2 instance:\r\n# cat /sys/devices/virtual/dmi/id/bios_vendor\r\nXen\r\n# cat /sys/devices/virtual/dmi/id/sys_vendor\r\nXen\r\n# cat /sys/devices/virtual/dmi/id/product_name\r\nHVM domU\r\n```\r\nPlease see related bug: https://bugzilla.redhat.com/show_bug.cgi?id=1533099", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35051/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dagwieers": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35050", "title": "aci_rest: Using status=\"created\" behaves differently than status=\"deleted\"", "body": "##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\naci_rest\r\n\r\n##### ANSIBLE VERSION\r\nv2.4+\r\n\r\n##### SUMMARY\r\nIf you use a REST payload with **aci_rest** using `status=\"created\"` the action is not idempotent. The first time (when the object does not exist) it works (`changed=True`), but a subsequent call fails as the APIC returns an HTTP failure.\r\n\r\nHowever, if you do the same for removing an object using `status=\"deleted\"` the action *is* idempotent. So a subsequent call works (and does not report a change, `changed=False`) as one would expect.\r\n\r\nThis seems an implementation issue in the APIC.\r\n\r\n**PS** If you would add `status=\"created,modified\"` or simply `status=\"modified\"` your task will be idempotent and it will not lead to failures on subsequent runs.\r\n\r\n##### STEPS TO REPRODUCE\r\nThis will cause a failure on a subsequent create:\r\n```xml\r\n<aaaUserCert dn=\"uni/userext/user-admin/usercert-admin\" data=\"-----BEGIN CERTIFICATE-----\\r\\nMII<snip>NGg\\r\\n-----END CERTIFICATE\\r\\n\" name=\"admin\" rn=\"usercert-admin\" status=\"created\"/>\r\n```\r\n\r\nThis will not cause a failure on a subsequent removal:\r\n```xml\r\n<aaaUserCert dn=\"uni/userext/user-admin/usercert-admin\" name=\"admin\" rn=\"usercert-admin\" status=\"deleted\"/>\r\n```\r\n\r\nHowever using `status=\"modified\"` will always work.\r\n\r\nThis report wants to highlight that creation and deletion have a different behaviour.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35050/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35052", "title": "ACI: Fix validate-module tests E322 and E323", "body": "##### SUMMARY\r\nThis PR includes:\r\n- Fix validate-module tests E322 and E323 for newer ACI modules\r\n- Keep a smaller list of (v2.4) modules that have deprecated parameters unlisted in docs\r\n- Move the protocol parameter out of aci_argument_spec and into specific (v2.4) modules\r\n- Fix 3 other issues of missing aliases in documentation (pool_allocation_mode and descr)\r\n\r\n##### ISSUE TYPE\r\n - Docs Pull Request\r\n\r\n##### COMPONENT NAME\r\naci modules\r\n\r\n##### ANSIBLE VERSION\r\nv2.5", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2044503", "body": "I am not too pleased seeing this to be made the default way of adding actions. Not only do we remove the very explicit \"action\" from the syntax (which is part of the terminology), we also make local_action an exception to the default practice, as well as mixing namespaces.\n\nSure it is shorter, but is shorter better ?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2044503/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2406171", "body": "Thanks !\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2406171/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "review_comments": []}, "freeseacher": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35048", "title": "import_tasks inside include_tasks generates confusing error", "body": "\r\n##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\ncore\r\n\r\n##### ANSIBLE VERSION\r\n\r\n```\r\n2.4.2.0 - v2.4.3.0-0.5.rc2\r\n```\r\n\r\n##### CONFIGURATION\r\n<!---\r\n# ansible-config dump --only-changed\r\nANSIBLE_PIPELINING(env: ANSIBLE_SSH_PIPELINING) = True\r\nCACHE_PLUGIN(env: ANSIBLE_CACHE_PLUGIN) = yaml\r\nCACHE_PLUGIN_CONNECTION(env: ANSIBLE_CACHE_PLUGIN_CONNECTION) = /tmp/ansible_cache\r\nDEFAULT_ROLES_PATH(env: ANSIBLE_ROLES_PATH) = [u'/opt/tower/var/tower/roles/NOC', u'/opt/tower/var/tower/playbooks/NOC']\r\nDEFAULT_STDOUT_CALLBACK(env: ANSIBLE_STDOUT_CALLBACK) = debug\r\nHOST_KEY_CHECKING(env: ANSIBLE_HOST_KEY_CHECKING) = False\r\n\r\n-->\r\n\r\n##### OS / ENVIRONMENT\r\nN/A\r\n\r\n##### SUMMARY\r\nwrong error generated if import_tasks found in include_tasks file\r\n\r\n##### STEPS TO REPRODUCE\r\n\r\n```yaml\r\n- include_tasks: \"os/{{ ansible_distribution }}/main.yml\"\r\n...\r\ninside\r\n...\r\n- import_tasks: \"firewall.yml\"\r\n\r\n```\r\n\r\n\r\n##### EXPECTED RESULTS\r\nimport error/lint error/any error\r\n\r\n##### ACTUAL RESULTS\r\n```\r\nfatal: [node1]: FAILED! => {\r\n    \"reason\": \"'ansible_distribution' is undefined\"\r\n}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35048/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "maxgio92": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35046", "title": "s3_lifecycle: Add support for non-current versions", "body": "##### ISSUE TYPE\r\nFeature Idea\r\n\r\n##### COMPONENT NAME\r\ns3_lifecycle\r\n\r\n##### ANSIBLE VERSION\r\n2.4.2.0\r\n\r\n##### OS / ENVIRONMENT\r\nMacOS 10.13.2\r\n\r\n##### SUMMARY\r\nIt would be nice to have control on which versions to apply the rule to (current version or previous non-current versions).\r\n\r\nActually is not possible to apply the rule for non-current version S3 objects and by default the rule will be applied only to current version objects; this is because the s3_lifecycle module uses Boto 2 .\r\n\r\nIn Boto 2 the Rule class does not support the non-current versions of the S3 objects instead Boto 3 does:\r\nhttp://boto.cloudhackers.com/en/latest/ref/s3.html?highlight=lifecycle#boto.s3.lifecycle.Rule\r\nhttps://boto3.readthedocs.io/en/latest/reference/services/s3.html#S3.BucketLifecycle.rules\r\n\r\nThe only solution seems to be to rewrite the entire module using Boto 3.\r\n\r\nThank you all!\r\n\r\n##### EXPECTED RESULTS\r\nIn s3_lifecycle module to have new options, something like this:\r\n- noncurrent_version_transition\r\n- noncurrent_version_storage_class\r\n- noncurrent_version_expiration\r\n\r\nin order to apply a rule to non-current versions of the objects.\r\n\r\n##### ACTUAL RESULTS\r\nIt is not possible to do it.\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35046/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "yamenK": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35042", "title": "Add exclusion list to filetree plugin", "body": "##### ISSUE TYPE\r\n - Feature Idea\r\n\r\n\r\n##### COMPONENT NAME\r\n  - Filetree plugin\r\n\r\n\r\n##### SUMMARY\r\nWhen using the filetree plugin in combination with the template module, I would like to exclude some subdirectories under the root path as these sub-directories contain many files that I don't want to process with the template module.\r\n\r\n```\r\nroot\r\n  |_ directory1\r\n  |_ directory2\r\n              |_ include-subdir\r\n              |_ exclude-subdir\r\n```\r\n\r\nIt is possible to specify the subdirectories separately, however their relative path to the root is lost, when running:\r\n\r\n```\r\n- name: Create directories\r\n  file:\r\n    path: /root/{{ item.path }}\r\n    state: directory\r\n    mode: '{{ item.mode }}'\r\n  with_filetree: root/\r\n  when: item.state == 'directory'\r\n\r\n- name: Template files\r\n  template:\r\n    src: '{{ item.src }}'\r\n    dest: /root/{{ item.path }}\r\n    mode: '{{ item.mode }}'\r\n  with_filetree:\r\n     - /root/directory1\r\n     - /root/directory2/include-subdir\r\n  when: item.state == 'file'\r\n```\r\n\r\n##### EXPECTED RESULTS\r\nAllow for an exclusion list for filetree plugin.\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35042/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "marinus81": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35041", "title": "aci_rest: change not detected", "body": "<!---\r\nVerify first that your issue/request is not already reported on GitHub.\r\nAlso test if the latest release, and master branch are affected too.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest -->\r\n - Bug Report \r\n - maybe Enhancement request?\r\n\r\n##### COMPONENT NAME\r\naci_rest\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.2.0\r\n  config file = None\r\n  configured module search path = [u'/home/dhamann/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible\r\n  executable location = /usr/local/bin/ansible\r\n  python version = 2.7.12 (default, Nov 20 2017, 18:23:56) [GCC 5.4.0 20160609]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\n<!---\r\nIf using Ansible 2.4 or above, paste the results of \"ansible-config dump --only-changed\"\r\nOtherwise, mention any settings you have changed/added/removed in ansible.cfg\r\n(or using the ANSIBLE_* environment variables).\r\n-->\r\nDEFAULT_DEBUG(env: ANSIBLE_DEBUG) = False\r\nDEFAULT_STRATEGY(env: ANSIBLE_STRATEGY) = linear\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nN/A\r\n\r\n##### SUMMARY\r\n<!--- Explain the problem briefly -->\r\naci_rest module does not always detect changed config, but reports it as unchanged (\"ok:\")\r\n\r\n##### STEPS TO REPRODUCE\r\n<!---\r\nFor bugs, show exactly how to reproduce the problem, using a minimal test-case.\r\nFor new features, show how the feature would be used.\r\n-->\r\nDepending on how you push the config to APIC the aci_rest module detects it as changed or not:\r\n\r\nThis example will always report as unchanged:\r\n<!--- Paste example playbooks or commands between quotes below -->\r\n```yaml\r\n- name: Create CDP Policies\r\n      tags:\r\n        - create\r\n        - network\r\n      aci_rest:\r\n        host: \"{{ apic_hostname }}\"\r\n        username: \"{{ apic_username }}\"\r\n        password: \"{{ apic_password }}\"\r\n        validate_certs: false\r\n        method: post\r\n        path: \"api/node/mo/uni/infra.xml?rsp-subtree=modified\"\r\n        content: |\r\n          <infraInfra>\r\n            <cdpIfPol adminSt=\"{{item.state}}\"  name=\"{{item.name}}\" descr=\"CDP set to {{item.state}}\"/>\r\n          </infraInfra>\r\n      with_items:\r\n        - \"{{cdp_policies}}\"\r\n```\r\n\r\nThis playbook works as expected (\"ok:\" if nothing has changed and \"changed:\" otherwise)\r\n```yaml\r\n- name: Create CDP Policies\r\n      tags:\r\n        - create\r\n        - network\r\n      aci_rest:\r\n        host: \"{{ apic_hostname }}\"\r\n        username: \"{{ apic_username }}\"\r\n        password: \"{{ apic_password }}\"\r\n        validate_certs: false\r\n        method: post\r\n        path: \"api/node/mo/uni/infra/.xml?rsp-subtree=modified\"\r\n        content: |\r\n            <cdpIfPol adminSt=\"{{item.state}}\"  name=\"{{item.name}}\" descr=\"CDP set to {{item.state}}\"/>\r\n      with_items:\r\n        - \"{{cdp_policies}}\"\r\n```\r\nNote the difference in path: parameter (infra.xml vs. infra/.xml) as well as adjusted content.\r\n\r\n<!--- You can also paste gist.github.com links for larger files -->\r\n\r\n##### EXPECTED RESULTS\r\nIn both cases changes to actual APIC config should result in \"changed:\" status\r\n\r\n##### ACTUAL RESULTS\r\n<!--- What actually happened? If possible run with extra verbosity (-vvvv) -->\r\nThe reason why the first playbook does not behave as expected is that APIC does not populate the \"status=\" parameter as expected by the aci_rest module (it will only report change if this parameter is set to either of 'created', 'modified', 'deleted')\r\n(see https://github.com/datacenter/aci-ansible/blob/e87db8f15e34ea7dc2e1b30fd445a4c59561bbc9/library/aci_rest.py#L270-L284)\r\n<!--- Paste verbatim command output between quotes below -->\r\n```\r\nok: [localhost] => (item={u'state': u'enabled', u'name': u'cdp_on2'}) => {\r\n    \"changed\": false, \r\n    \"error_code\": 0, \r\n    \"error_text\": \"Success\", \r\n    \"imdata\": [\r\n        {\r\n            \"infraInfra\": {\r\n                \"attributes\": {\r\n                    \"childAction\": \"deleteNonPresent\", \r\n                    \"dn\": \"uni/infra\", \r\n                    \"lcOwn\": \"local\", \r\n                    \"modTs\": \"2017-08-17T01:40:52.471+01:00\", \r\n                    \"monPolDn\": \"uni/fabric/monfab-default\", \r\n                    \"name\": \"infra\", \r\n                    \"nameAlias\": \"\", \r\n                    \"ownerKey\": \"\", \r\n                    \"ownerTag\": \"\", \r\n                    \"rn\": \"\", \r\n                    \"status\": \"\", \r\n                    \"uid\": \"0\"\r\n                }, \r\n                \"children\": [\r\n                    {\r\n                        \"cdpIfPol\": {\r\n                            \"attributes\": {\r\n                                \"adminSt\": \"enabled\", \r\n                                \"childAction\": \"deleteNonPresent\", \r\n                                \"descr\": \"\", \r\n                                \"extMngdBy\": \"\", \r\n                                \"lcOwn\": \"local\", \r\n                                \"modTs\": \"2018-01-17T09:45:05.902+01:00\", \r\n                                \"monPolDn\": \"\", \r\n                                \"name\": \"cdp_on2\", \r\n                                \"nameAlias\": \"\", \r\n                                \"ownerKey\": \"\", \r\n                                \"ownerTag\": \"\", \r\n                                \"rn\": \"cdpIfP-cdp_on2\", \r\n                                \"status\": \"\", \r\n                                \"uid\": \"17805\"\r\n                            }\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    ], \r\n    \"invocation\": {\r\n        \"module_args\": {\r\n            \"content\": \"<infraInfra>\\n  <cdpIfPol adminSt=\\\"enabled\\\"  name=\\\"cdp_on2\\\" />\\n</infraInfra>\\n\", \r\n            \"host\": \"apic.ddsdnlab.at\", \r\n            \"hostname\": \"apic.ddsdnlab.at\", \r\n            \"method\": \"post\", \r\n            \"password\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\", \r\n            \"path\": \"api/node/mo/uni/infra.xml?rsp-subtree=modified\", \r\n            \"protocol\": \"https\", \r\n            \"src\": null, \r\n            \"timeout\": 30, \r\n            \"use_proxy\": true, \r\n            \"use_ssl\": true, \r\n            \"username\": \"ansible\", \r\n            \"validate_certs\": false\r\n        }\r\n    }, \r\n    \"item\": {\r\n        \"name\": \"cdp_on2\", \r\n        \"state\": \"enabled\"\r\n    }, \r\n    \"response\": \"OK (544 bytes)\", \r\n    \"status\": 200, \r\n    \"totalCount\": \"1\", \r\n    \"url\": \"https://apic.ddsdnlab.at/api/node/mo/uni/infra.xml?rsp-subtree=modified\"\r\n}\r\n```\r\n\r\nOn the other hand the second playbook runs as expected as returned data from APIC contains (status='modified'):\r\n\r\n```\r\nchanged: [localhost] => (item={u'state': u'enabled', u'name': u'cdp_on'}) => {\r\n    \"changed\": true, \r\n    \"error_code\": 0, \r\n    \"error_text\": \"Success\", \r\n    \"imdata\": [\r\n        {\r\n            \"cdpIfPol\": {\r\n                \"attributes\": {\r\n                    \"adminSt\": \"enabled\", \r\n                    \"childAction\": \"deleteNonPresent\", \r\n                    \"descr\": \"CDP set to enabled\", \r\n                    \"dn\": \"uni/infra/cdpIfP-cdp_on\", \r\n                    \"extMngdBy\": \"\", \r\n                    \"lcOwn\": \"local\", \r\n                    \"modTs\": \"2018-01-18T05:26:34.072+01:00\", \r\n                    \"monPolDn\": \"uni/fabric/monfab-default\", \r\n                    \"name\": \"cdp_on\", \r\n                    \"nameAlias\": \"\", \r\n                    \"ownerKey\": \"\", \r\n                    \"ownerTag\": \"\", \r\n                    \"rn\": \"\", \r\n                    \"status\": \"modified\", \r\n                    \"uid\": \"15374\"\r\n                }\r\n            }\r\n        }\r\n    ], \r\n    \"invocation\": {\r\n        \"module_args\": {\r\n            \"content\": \"<cdpIfPol adminSt=\\\"enabled\\\"  name=\\\"cdp_on\\\" descr=\\\"CDP set to enabled\\\"/>\\n\", \r\n            \"host\": \"apic.ddsdnlab.at\", \r\n            \"hostname\": \"apic.ddsdnlab.at\", \r\n            \"method\": \"post\", \r\n            \"password\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\", \r\n            \"path\": \"api/node/mo/uni/infra/.xml?rsp-subtree=modified\", \r\n            \"protocol\": \"https\", \r\n            \"src\": null, \r\n            \"timeout\": 30, \r\n            \"use_proxy\": true, \r\n            \"use_ssl\": true, \r\n            \"username\": \"ansible\", \r\n            \"validate_certs\": false\r\n        }\r\n    }, \r\n    \"item\": {\r\n        \"name\": \"cdp_on\", \r\n        \"state\": \"enabled\"\r\n    }, \r\n    \"response\": \"OK (375 bytes)\", \r\n    \"status\": 200, \r\n    \"totalCount\": \"1\", \r\n    \"url\": \"https://apic.ddsdnlab.at/api/node/mo/uni/infra/.xml?rsp-subtree=modified\"\r\n}\r\n```\r\n\r\nGiven this (weired?) behavior of APIC (I confirmed this behavior is the same on APIC versions 3.0, 3.1 and 2.1), I think the current implementation of aci_changed() might be insufficient.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "tiraboschi": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35039", "title": "ovirt_hosts has iscsidiscover and iscsilogin state but it misses iscsilogout", "body": "##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\novirt_hosts\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug  4 2017, 00:39:18) [GCC 4.8.5 20150623 (Red Hat 4.8.5-16)]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\n\r\n\r\n##### OS / ENVIRONMENT\r\nCentos 7\r\n\r\n##### SUMMARY\r\novirt_hosts has iscsidiscover and iscsilogin state but it misses iscsilogout, \r\noVIrt REST APIs lacks it as well: https://bugzilla.redhat.com/show_bug.cgi?id=1535951\r\n\r\novirt_host_storage_facts then performs an implicit iSCSI login:\r\nhttps://github.com/ansible/ansible/blob/devel/lib/ansible/modules/cloud/ovirt/ovirt_host_storage_facts.py#L134 and so you need the full iSCSI parameters set while according to its example it should simply Gather facts about HostStorages with specified target and address\r\n\r\n\r\n\r\n##### STEPS TO REPRODUCE\r\nTry an iSCSI logout\r\n\r\n##### EXPECTED RESULTS\r\niscsilogout state\r\n\r\n##### ACTUAL RESULTS\r\niscsidiscover and iscsilogin state are there but iscsilogout is not\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35039/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Chetan-CSI": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35034", "title": "An error occurred (RequestLimitExceeded) when calling the DescribeVpcEndpoints operation ", "body": "An error occurred (RequestLimitExceeded) when calling the DescribeVpcEndpoints operation \r\n\r\nISSUE TYPE\r\nBug Report\r\n\r\nCOMPONENT NAME\r\nec2_vpc_endpoint_facts\r\n\r\nANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug  4 2017, 00:39:18) [GCC 4.8.5 20150623 (Red Hat 4.8.5-16)]\r\n```\r\n\r\nCONFIGURATION\r\nDEFAULT_ROLES_PATH(/etc/ansible/ansible.cfg) = [u'/etc/ansible/roles', u'/usr/share/ansible/roles']\r\n\r\n OS / ENVIRONMENT\r\nCentos7.4\r\n\r\nSUMMARY\r\nReceived this error while trying to collect  VPC endpoint facts.\r\n\r\nSTEPS TO REPRODUCE\r\n1. Provision AWS VPC,  Subnets \r\n2. Collect VPC endpoint facts -> Throws RateLimitExceeded error\r\n\r\n```\r\n- name: EC2 VPC | Gather VPC s3 endpoint facts\r\n  ec2_vpc_endpoint_facts:\r\n    query: endpoints\r\n    region: \"{{ net_data.network_region }}\"\r\n    filters:\r\n      vpc-id: \"{{ vpc.vpc.id }}\"\r\n      vpc-endpoint-state:\r\n        - available\r\n      service-name: \"com.amazonaws.{{ net_data.network_region }}.s3\"\r\n  register: existing_s3_endpoints\r\n\r\n- name: EC2 VPC | Create a VPC s3 endpoint, only if doesn't exist\r\n  ec2_vpc_endpoint:\r\n    state: present\r\n    region: \"{{ net_data.network_region }}\"\r\n    vpc_id: \"{{ vpc.vpc.id }}\"\r\n    service: \"com.amazonaws.{{ net_data.network_region }}.s3\"\r\n  register: vpc_s3_endpoint\r\n  when: existing_s3_endpoints.vpc_endpoints == []\r\n```\r\nEXPECTED RESULTS\r\nVPC endpoint facts should have been fetched succssfully.\r\n\r\n##### ACTUAL RESULTS\r\nReceiving request limit exceeded error.\r\n```\r\n \"raw_output\": {\"localhost\": {\"_ansible_no_log\": false, \"_ansible_parsed\": false, \"changed\": false, \"exception\": \"Traceback (most recent call last):\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 205, in <module>\\n main()\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 199, in main\\n results = invocations[module.params.get('query')](connection, module)\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 157, in get_endpoints\\n response = client.describe_vpc_endpoints(*params)\\n File \\\"/usr/lib/python2.7/site-packages/botocore/client.py\\\", line 312, in _api_call\\n return self._make_api_call(operation_name, kwargs)\\n File \\\"/usr/lib/python2.7/site-packages/botocore/client.py\\\", line 601, in _make_api_call\\n raise error_class(parsed_response, operation_name)\\nbotocore.exceptions.ClientError: An error occurred (RequestLimitExceeded) when calling the DescribeVpcEndpoints operation (reached max retries: 4): Request limit exceeded.\\n\", \"failed\": true, \"module_stderr\": \"Traceback (most recent call last):\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 205, in <module>\\n main()\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 199, in main\\n results = invocations[module.params.get('query')](connection, module)\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 157, in get_endpoints\\n response = client.describe_vpc_endpoints(*params)\\n File \\\"/usr/lib/python2.7/site-packages/botocore/client.py\\\", line 312, in _api_call\\n return self._make_api_call(operation_name, kwargs)\\n File \\\"/usr/lib/python2.7/site-packages/botocore/client.py\\\", line 601, in _make_api_call\\n raise error_class(parsed_response, operation_name)\\nbotocore.exceptions.ClientError: An error occurred (RequestLimitExceeded) when calling the DescribeVpcEndpoints operation (reached max retries: 4): Request limit exceeded.\\n\", \"module_stdout\": \"\", \"msg\": \"MODULE FAILURE\", \"rc\": 0}}, \"task\": {\"id\": \"06164f46-5166-9c6c-b611-00000000005c\", \"name\": \"EC2 VPC | Gather VPC s3 endpoint facts\", \"start\": 1513760461.687647}}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/35032", "title": "An error occurred (RequestLimitExceeded) when calling the DescribeSubnets operation ", "body": "ISSUE TYPE\r\nBug Report\r\n\r\nCOMPONENT NAME\r\nec2_vpc_subnet\r\n\r\nANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug  4 2017, 00:39:18) [GCC 4.8.5 20150623 (Red Hat 4.8.5-16)]\r\n```\r\n\r\nCONFIGURATION\r\nDEFAULT_ROLES_PATH(/etc/ansible/ansible.cfg) = [u'/etc/ansible/roles', u'/usr/share/ansible/roles']\r\n\r\n OS / ENVIRONMENT\r\nCentos7.4\r\n\r\nSUMMARY\r\nReceived the error for max tries exceeded while deleting aws subnetwork.\r\nCould not reproduce this issue in the next iteration, but seems to be an intermittent one.\r\n\r\nSTEPS TO REPRODUCE\r\n1. Provision AWS VPC and Subnets\r\n2. De-provision AWS VPC and Subnets -> Throws RateLimitExceeded error\r\n\r\n```\r\n- block:\r\n  - name: EC2 VPC | Remove subnetwork\r\n    ec2_vpc_subnet:\r\n      vpc_id: \"{{ vpc_id }}\"\r\n      region: \"{{ net_data.network_region }}\"\r\n      cidr: \"{{ net_data.subnet_range }}\"\r\n      resource_tags:\r\n        Name: \"{{ resource_env.domain }}/{{ resource_env.env }}/{{ net_data.subnet_name }}\"\r\n        csi-environment: \"{{ resource_env.domain }}-{{ resource_env.env }}\"\r\n      state: absent\r\n  ignore_errors: true\r\n```\r\n##### EXPECTED RESULTS\r\nVPC and Subnets should have been deleted successfully.\r\n\r\n##### ACTUAL RESULTS\r\nFailed while deleting AWS VPC/Subnets\r\n```\r\nTraceback (most recent call last):\r\nFile \"/tmp/ansible_zYmUJP/ansible_module_ec2_vpc_subnet.py\", line 265, in main\r\ncheck_mode=module.check_mode)\r\nFile \"/tmp/ansible_zYmUJP/ansible_module_ec2_vpc_subnet.py\", line 214, in ensure_subnet_absent\r\nsubnet = get_matching_subnet(conn, vpc_id, cidr)\r\nFile \"/tmp/ansible_zYmUJP/ansible_module_ec2_vpc_subnet.py\", line 177, in get_matching_subnet\r\nsubnets = get_subnet_info(conn.describe_subnets(Filters=filters))\r\nFile \"/usr/lib/python2.7/site-packages/botocore/client.py\", line 312, in _api_call\r\nreturn self._make_api_call(operation_name, kwargs)\r\nFile \"/usr/lib/python2.7/site-packages/botocore/client.py\", line 601, in _make_api_call\r\nraise error_class(parsed_response, operation_name)\r\nClientError: An error occurred (RequestLimitExceeded) when calling the DescribeSubnets operation (reached max retries: 4): Request limit exceeded.\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35032/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35044", "title": "Fixes  #35034 - AWS RequestLimitExceeded error while calling DescribeVpcEndpoints", "body": "SUMMARY\r\nWe observed the AWS RequestLimitExceeded error while using ec2_vpc_endpoint_facts ansible module. Please refer issue #35034 for details.\r\n\r\nAdded AWSRetry.exponential_backoff() for describe calls.\r\n\r\nISSUE TYPE\r\n  - Bugfix Pull Request\r\n\r\nCOMPONENT NAME\r\nec2_vpc_endpoint_facts \r\n\r\nANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug  4 2017, 00:39:18) [GCC 4.8.5 20150623 (Red Hat 4.8.5-16)]\r\n```\r\n\r\n\r\nADDITIONAL INFORMATION", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "NZSmartie": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35030", "title": "delegate_to with unreachable hosts breaks playbook", "body": "##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\ndelegate_to\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/dist-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.12 (default, Nov 20 2017, 18:23:56) [GCC 5.4.0 20160609]\r\n```\r\n\r\n##### OS / ENVIRONMENT\r\nUbuntu 16.04.3 LTS\r\n\r\n##### SUMMARY\r\nUsing `delegate_to` (a perfect example can be found in the documentation [http://docs.ansible.com/ansible/latest/playbooks_delegation.html#delegated-facts](http://docs.ansible.com/ansible/latest/playbooks_delegation.html#delegated-facts)); When a host passed along to `delegate_to` is unreachable for whatever reason. The host that is executing the task will be also be marked as unreachable. After a large error is printed out (output from all hosts in the `delegate_to`?) and the playbook ends with something like:\r\n```\r\nPLAY RECAP *************************************************************************************************************************************************\r\nfoo.example.com    : ok=0    changed=0    unreachable=1    failed=0\r\n```\r\n\r\n##### STEPS TO REPRODUCE\r\nplaybook.yml:\r\n```yaml\r\n---\r\n- hosts: app_servers\r\n  tasks:\r\n    - name: gather facts from db servers\r\n      setup:\r\n      delegate_to: \"{{ item }}\"\r\n      delegate_facts: True\r\n      with_items: \"{{groups['dbservers']}}\"\r\n    - name: test\r\n      debug:\r\n        msg: \"test\"\r\n```\r\n\r\ninventory.yml:\r\n```yaml\r\n---\r\nall:\r\n  children:\r\n    app_servers:\r\n      hosts:\r\n        foo.example.com:\r\n    dbservers:\r\n      hosts:\r\n        bar.example.com:\r\n```\r\n\r\n##### EXPECTED RESULTS\r\n```\r\nPLAY [app_servers] ***********************************************************************************************************************************\r\n\r\nTASK [gather facts from db servers] ******************************************************************************************************************\r\nfailed: [foo.example.com] (item=bar.example.com) => {\"item\": \"bar.example.com\", \"msg\": \"Failed to connect to the host via ssh: ssh: connect to host bar.example.com port 22: Connection timed out\\r\\n\", \"unreachable\": true}\r\n\r\nTASK [test] ************************************************************************************************************************************************\r\nok: [foo.example.com] => {\r\n    \"msg\": \"test\"\r\n}\r\n```\r\n\r\n##### ACTUAL RESULTS\r\n```\r\nPLAY [app_servers] ***********************************************************************************************************************************\r\n\r\nTASK [gather facts from db servers] ******************************************************************************************************************\r\nfailed: [foo.example.com] (item=bar.example.com) => {\"item\": \"bar.example.com\", \"msg\": \"Failed to connect to the host via ssh: ssh: connect to host bar.example.com port 22: Connection timed out\\r\\n\", \"unreachable\": true}\r\nfatal: [foo.example.com]: UNREACHABLE! => {\"changed\": false, \"msg\": \"All items completed\", \"...\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "hvindin": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35029", "title": "Copy module silently truncates files if target server tmp location is to small.", "body": "##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\nCopy module\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/home/l066731/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug 29 2016, 10:12:21) [GCC 4.8.5 20150623 (Red Hat 4.8.5-4)]\r\n```\r\n\r\n##### CONFIGURATION\r\nALLOW_WORLD_READABLE_TMPFILES(/etc/ansible/ansible.cfg) = True\r\nANSIBLE_PIPELINING(/etc/ansible/ansible.cfg) = True\r\nANSIBLE_SSH_ARGS(/etc/ansible/ansible.cfg) = -C -o ControlMaster=auto -o ControlPersist=240s\r\nANSIBLE_SSH_CONTROL_PATH_DIR(/etc/ansible/ansible.cfg) = ~/.ansible/cp\r\nCACHE_PLUGIN(/etc/ansible/ansible.cfg) = redis\r\nCACHE_PLUGIN_CONNECTION(/etc/ansible/ansible.cfg) = localhost:6379:0\r\nCACHE_PLUGIN_TIMEOUT(/etc/ansible/ansible.cfg) = 10000\r\nCOMMAND_WARNINGS(/etc/ansible/ansible.cfg) = False\r\nDEFAULT_ALLOW_UNSAFE_LOOKUPS(/etc/ansible/ansible.cfg) = True\r\nDEFAULT_CALLBACK_WHITELIST(/etc/ansible/ansible.cfg) = ['timer', 'skippy', 'profile_roles', 'junit']\r\nDEFAULT_FORKS(/etc/ansible/ansible.cfg) = 15\r\nDEFAULT_GATHERING(/etc/ansible/ansible.cfg) = smart\r\nDEFAULT_GATHER_SUBSET(/etc/ansible/ansible.cfg) = all\r\nDEFAULT_GATHER_TIMEOUT(/etc/ansible/ansible.cfg) = 60\r\nDEFAULT_HASH_BEHAVIOUR(/etc/ansible/ansible.cfg) = replace\r\nDEFAULT_LOAD_CALLBACK_PLUGINS(/etc/ansible/ansible.cfg) = True\r\nDEFAULT_LOG_PATH(/etc/ansible/ansible.cfg) = /var/log/ansible/ansible.log\r\nDEFAULT_MANAGED_STR(/etc/ansible/ansible.cfg) = Ansible managed: {file} %Y-%m-%d %H:%M:%S\r\nDEFAULT_PRIVATE_ROLE_VARS(/etc/ansible/ansible.cfg) = True\r\nDEFAULT_SCP_IF_SSH(/etc/ansible/ansible.cfg) = smart\r\nDEFAULT_SFTP_BATCH_MODE(/etc/ansible/ansible.cfg) = False\r\nDEFAULT_SSH_TRANSFER_METHOD(/etc/ansible/ansible.cfg) = smart\r\nDEFAULT_TRANSPORT(/etc/ansible/ansible.cfg) = smart\r\nDEFAULT_UNDEFINED_VAR_BEHAVIOR(/etc/ansible/ansible.cfg) = True\r\nDEPRECATION_WARNINGS(/etc/ansible/ansible.cfg) = False\r\nDISPLAY_ARGS_TO_STDOUT(/etc/ansible/ansible.cfg) = True\r\nDISPLAY_SKIPPED_HOSTS(/etc/ansible/ansible.cfg) = True\r\nERROR_ON_MISSING_HANDLER(/etc/ansible/ansible.cfg) = True\r\nSHOW_CUSTOM_STATS(/etc/ansible/ansible.cfg) = True\r\n\r\n\r\n##### OS / ENVIRONMENT\r\nRunning with master and target server on Red Hat Enterprise Linux Server 7.2 (Maipo)\r\n\r\n##### SUMMARY\r\nThe Copy module seems to silently fail if the tmp location runs out of space when copying a large file. The copy module will simply fill the diskmount for the defined tmp location on the target server then move the truncated file to the desired path without notifying the user of the failed copy.\r\n\r\nThis can be caught by checking the hash's or file size of the target file, but this seems like it's something that the copy module itself should be able to do to validate that a copy actually occurred correctly.\r\n\r\n##### STEPS TO REPRODUCE\r\nSet up an environment with a target server with a /home diskmount of 2gb size\r\nConfigure ansible to use ~/.ansible/tmp for tmp when copying files (I assume this works if you set the tmp directory to any location with a limited size mount, but I'll use /home for the sake of simplicity)\r\n\r\nGenerate a 3gb random file `dd if=/dev/urandom of=random bs=1M count=3072` and place it in the files directory of a role.\r\nExecute the following role:\r\n\r\n```yaml\r\n- name: copy random file to /random\r\n  copy:\r\n    src: random\r\n    dest: /random\r\n    force: yes\r\n  register: copied\r\n\r\n- name: debug copied\r\n  debug:\r\n    var: copied\r\n\r\n- name: debug random file stat\r\n  local_action: stat path=\"{{ role_path }}/files/random\"\r\n  register: local_file\r\n\r\n- name: debug random file details\r\n  local_action: debug msg=\"{{ local_file.stat }}\"\r\n```\r\n\r\n##### EXPECTED RESULTS\r\nThe sha1sum's of the files copied to the server should match if the copy is successful. If the copy is *not* successful then the copy task should fail.\r\n\r\nIf the target diskmount hasn't got sufficient space for the copied file, the copy task should fail when it runs out of space, not silently truncating the file.\r\n\r\n##### ACTUAL RESULTS\r\nThe copy task is \"successful\" (changed) but the sha1sum of each of the files is random depending how much of the file actually copied to the server before the disk capped storage space.\r\n\r\nBelow trimmed down execution on 5 servers with varying amount of stuff already on the /home directory:\r\n```yaml\r\nPLAY [all] ***********************************************************************************************************************************************************************************\r\n\r\nTASK [test : copy random file to /random src=random, force=True, mode=a=rwX, dest=/random, group=root, owner=root] ***************************************************************\r\nchanged: [auslslnxsd4958]\r\nchanged: [auslslnxsd5505]\r\nchanged: [auslslnxsd3899]\r\nchanged: [auslslnxsd5502]\r\nchanged: [auslslnxsd4960]\r\n\r\nTASK [test : debug copied var=copied] ****************************************************************************************************************************************************\r\nok: [auslslnxsd4958] => {\r\n    \"copied\": {\r\n        \"checksum\": \"0f1d62e25d9487eed4c302a7320d3dd2e37c97cd\", \r\n        \"dest\": \"/random\", \r\n        \"size\": 1761767424, \r\n    }\r\n}\r\nok: [auslslnxsd5505] => {\r\n    \"copied\": {\r\n        \"checksum\": \"5aa686f6fc2038a57bc053c4f7256d1a0144c2a8\", \r\n        \"dest\": \"/random\",\r\n        \"size\": 1913671680\r\n    }\r\n}\r\nok: [auslslnxsd3899] => {\r\n    \"copied\": {\r\n        \"checksum\": \"96febf0131e1e8e70d883bd74e3b66ee1bcbd67d\", \r\n        \"dest\": \"/random\", \r\n        \"size\": 1911713792\r\n    }\r\n}\r\nok: [auslslnxsd5502] => {\r\n    \"copied\": {\r\n        \"checksum\": \"7bd512c18837afd438df718d9304c94a12bacd7a\", \r\n        \"dest\": \"/random\", \r\n        \"size\": 1913860096 \r\n    }\r\n}\r\nok: [auslslnxsd4960] => {\r\n    \"copied\": {\r\n        \"checksum\": \"b761ec98e3578742c2911851fa8f712cbb531de2\", \r\n        \"dest\": \"/random\", \r\n        \"size\": 1915072512 \r\n    }\r\n}\r\n\r\nTASK [test : local stat of random file path={{ role_path }}/files/random] ****************************************************************************************************************\r\nok: [auslslnxsd4958 -> localhost]\r\nok: [auslslnxsd5505 -> localhost]\r\nok: [auslslnxsd3899 -> localhost]\r\nok: [auslslnxsd5502 -> localhost]\r\nok: [auslslnxsd4960 -> localhost]\r\n\r\n\r\nTASK [test : debug random file stat msg={{ local_file.stat }}] **************************************************************************************************************************\r\nok: [auslslnxsd4958 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\nok: [auslslnxsd5505 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\nok: [auslslnxsd3899 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\nok: [auslslnxsd5502 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\nok: [auslslnxsd4960 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\n```", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35029/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Mixer9": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35025", "title": "Unicode characters used in blockinfile", "body": "<!---\r\nVerify first that your issue/request is not already reported on GitHub.\r\nAlso test if the latest release, and master branch are affected too.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest -->\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\nblockinfile\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.1.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /bin/ansible\r\n  python version = 2.7.5 (default, May  3 2017, 07:55:04) [GCC 4.8.5 20150623 (Red Hat 4.8.5-14)]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\n<!---\r\nIf using Ansible 2.4 or above, paste the results of \"ansible-config dump --only-changed\"\r\nOtherwise, mention any settings you have changed/added/removed in ansible.cfg\r\n(or using the ANSIBLE_* environment variables).\r\n-->\r\nPERSISTENT_CONNECT_TIMEOUT(/etc/ansible/ansible.cfg) = 30\r\nRETRY_FILES_SAVE_PATH(/etc/ansible/ansible.cfg) = /tmp/ansibleretry\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nRed Hat Enterprise Linux Server release 7.3 (Maipo)\r\n\r\n##### SUMMARY\r\n<!--- Explain the problem briefly -->\r\nI want to edit the /etc/bashrc file to make the prompt turn red when you are root (uid 0), this requires control characters to set the color, these are apparently not allowed.\r\n\r\n##### STEPS TO REPRODUCE\r\n<!---\r\nFor bugs, show exactly how to reproduce the problem, using a minimal test-case.\r\nFor new features, show how the feature would be used.\r\n-->\r\nRun the below playbook with the control characters in place, they will most likely get clobbered when I submit.  \r\n<!--- Paste example playbooks or commands between quotes below -->\r\n```\r\n---\r\n- hosts: all\r\n  become: yes\r\n\r\n\r\n  tasks:\r\n     - name: Set /etc/bashrc to have red prompt when root.\r\n       blockinfile:\r\n         backup: yes\r\n         path: /etc/bashrc\r\n         state: present\r\n         block: |\r\n           if [ $(id -u) -eq 0 ];\r\n           then # you are root, set red colour prompt\r\n             PS1=\"\\[^[[31m\\][\\u@\\h:\\w]# \\[^[(B^[[m\\]\"\r\n           else # normal\r\n             PS1=\"[\\u@\\h:\\w]$ \"\r\n           fi\r\n         insertafter: \"# vim:ts=4:sw=4\"\r\n       register: insert\r\n```\r\n\r\n<!--- You can also paste gist.github.com links for larger files -->\r\n\r\n##### EXPECTED RESULTS\r\n<!--- What did you expect to happen when running the steps above? -->\r\nI expected the playbook to run successfully and edit the file to include the control characters.\r\n\r\n##### ACTUAL RESULTS\r\n<!--- What actually happened? If possible run with extra verbosity (-vvvv) -->\r\nIt would not run but produced the error below.\r\n\r\n<!--- Paste verbatim command output between quotes below -->\r\n```\r\nERROR! Syntax Error while loading YAML.\r\n\r\nexception type: <class 'yaml.reader.ReaderError'>\r\nexception: unacceptable character #x001b: control characters are not allowed\r\n  in \"<unicode string>\", position 330\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/35023", "title": "jabber module fails with messages successfully sent", "body": "<!---\r\nVerify first that your issue/request is not already reported on GitHub.\r\nAlso test if the latest release, and master branch are affected too.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\njabber\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.4.1.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /bin/ansible\r\n  python version = 2.7.5 (default, May  3 2017, 07:55:04) [GCC 4.8.5 20150623 (Red Hat 4.8.5-14)]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\nPERSISTENT_CONNECT_TIMEOUT(/etc/ansible/ansible.cfg) = 30\r\nRETRY_FILES_SAVE_PATH(/etc/ansible/ansible.cfg) = /tmp/ansibleretry\r\n\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nRed Hat Enterprise Linux Server release 7.3 (Maipo)\r\nJabber server version unknown, I don't own the server.\r\n\r\n##### SUMMARY\r\nJabber module successfully sends the message with my playbook but reports a failure.\r\n\r\n##### STEPS TO REPRODUCE\r\n\r\nRun the playbook as shown below after editing the host to match your environment, the message passed will be delivered but the playbook will report a fail.\r\n\r\n```\r\n  - name: Jabber Test\r\n    hosts: localhost\r\n    gather_facts: no\r\n\r\n    tasks:\r\n    - name: Send Jabber message\r\n      jabber:\r\n        user: \"{{ user }}\"\r\n        password: \"{{ pass }}\"\r\n        to: \"{{ user2 }}\"\r\n        msg: \"{{ message }}\"\r\n        host: <jabber server redacted>\r\n\r\n```\r\n\r\n##### EXPECTED RESULTS\r\nI expected a success returned after message was sent.\r\n\r\n##### ACTUAL RESULTS\r\nansible returned a \"failed\": true when it successfully sent the message.\r\n\r\nfatal: [localhost]: FAILED! => {\r\n    \"changed\": false,\r\n    \"failed\": true,\r\n\r\n```\r\nThe full traceback is:\r\nTraceback (most recent call last):\r\n  File \"/tmp/ansible_oK1Fax/ansible_module_jabber.py\", line 157, in main\r\n    conn.disconnect()\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 378, in disconnect\r\n    while self.Process(1): pass\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 123, in Process\r\n    self.Stream.Parse(data)\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/simplexml.py\", line 425, in endtag\r\n    self.dispatch(self._mini_dom)\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 311, in dispatch\r\n    if user and self._defaultHandler: self._defaultHandler(session,stanza)\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 206, in returnStanzaHandler\r\n    conn.send(Error(stanza,ERR_FEATURE_NOT_IMPLEMENTED))\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 372, in send\r\n    self._owner_send(stanza)\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/transports.py\", line 251, in send\r\n    self._owner.disconnected()\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/client.py\", line 129, in disconnected\r\n    for i in self.disconnect_handlers: i()\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/client.py\", line 137, in DisconnectHandler\r\n    raise IOError('Disconnected from server.')\r\nIOError: Disconnected from server.\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "abhigrover": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35015", "title": "Including playbook and passing ssh_user and ssh_pass", "body": "##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest -->\r\n - Bug Report\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.3.0.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = Default w/o overrides\r\n  python version = 2.7.13 (default, Mar 13 2017, 20:56:15) [GCC 5.4.0]\r\n```\r\n##### COMPONENT NAME\r\nsetup\r\n\r\n##### CONFIGURATION\r\n<!---\r\nIf using Ansible 2.4 or above, paste the results of \"ansible-config dump --only-changed\"\r\nOtherwise, mention any settings you have changed/added/removed in ansible.cfg\r\n(or using the ANSIBLE_* environment variables).\r\n-->\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nWindows\r\n##### SUMMARY\r\n<!--- Explain the problem briefly -->\r\nI am trying to have a parent playbook call a child playbook, while passing in the \"host\" to run against, ssh username to use and ssh password to use to connect to this host. Calling the child playbook by itself works, but from the parent playbook I am getting \"Authentication failure\".\r\n##### STEPS TO REPRODUCE\r\n<!---\r\nFor bugs, show exactly how to reproduce the problem, using a minimal test-case.\r\nFor new features, show how the feature would be used.\r\n-->\r\n\r\n<!--- Paste example playbooks or commands between quotes below -->\r\nParent playbook - test_play_include.yml\r\n```\r\n---\r\n- include: test_play_passhostuserpass.yml t_host=\"host.example.com\" ssh_user=admin_user ssh_pass=\"sec#ret$pass\"\r\n```\r\nChild playbook - test_play_passhostuserpass.yml\r\n```\r\n---\r\n- hosts: all:&{{t_host}}\r\n\r\n  vars:\r\n  - ansible_ssh_user: \"{{ssh_user}}\"\r\n  - ansible_ssh_pass: \"{{ssh_pass}}\"\r\n  tasks:\r\n  - name: Show user account\r\n    shell: \"echo $USER\"\r\n```\r\n<!--- You can also paste gist.github.com links for larger files -->\r\n\r\n##### EXPECTED RESULTS\r\n<!--- What did you expect to happen when running the steps above? -->\r\nansible-playbook test_play_include.yml -i inventory\r\nshould connect to the host successfully\r\n##### ACTUAL RESULTS\r\n<!--- What actually happened? If possible run with extra verbosity (-vvvv) -->\r\nIf I run the child playbook by itself using the below, it works:\r\nansible-playbook test_play_passhostuserpass.yml -e 't_host=\"host.example.com\" ssh_user=admin_user ssh_pass=\"secret#ret$pass\"' -i inventory\r\n\r\nHowever, this fails:\r\n ansible-playbook test_play_include.yml -i inventory\r\n\r\n$ ansible-playbook test_play_include.yml -i inventory\r\n\r\nPLAY [all:&host.example.com] ******************************************************************************************************************************************\r\n\r\nTASK [Gathering Facts] ****************************************************************************************************************************************************\r\nfatal: [host.example.com]: UNREACHABLE! => {\"changed\": false, \"msg\": \"Authentication failure.\", \"unreachable\": true}\r\n        to retry, use: --limit @/home/myuser/ansible/mydir/test_play_include.retry\r\n\r\nPLAY RECAP ****************************************************************************************************************************************************************\r\nhost.example.com       : ok=0    changed=0    unreachable=1    failed=0\r\n\r\n<!--- Paste verbatim command output between quotes below -->\r\n```\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sivel": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/29c1d5cb5d283c649a5bc30dce53b8e4875d01d3", "message": "Ensure that the become password is written on py3 in the ssh connection plugin. Fixes #34727"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/3c400c5899ca7c71b49087ffeae7153191e54c33", "message": "ANSIBLE_METADATA doesn't support YAML currently, change 315 to invalid data type (#35009)"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/b20df1be02765db46edef887d51d0896bbec2570", "message": "Make template action respect local_tmp. Fixes #34941 (#35005)"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/2cb810544cacd1ff96d5f63b1370a9328f89a83f", "message": "Address missing extends_documentation_fragment (#35008)\n\n* Address missing extends_documentation_fragment\r\n\r\n* Document purge_aliases"}], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35017", "title": "Make sure we don't try to inspect DOCUMENTATION if None", "body": "##### SUMMARY\r\n\r\nGuard against inspecting `DOCUMENTATION` in a plugin, that doesn't have `DOCUMENTATION`\r\n\r\nCurrently if you have a custom callback without `DOCUMENTATION` you would get a trace similar to the following:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/bin/ansible-playbook\", line 118, in <module>\r\n    exit_code = cli.run()\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/cli/playbook.py\", line 122, in run\r\n    results = pbex.run()\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/executor/playbook_executor.py\", line 89, in run\r\n    self._tqm.load_callbacks()\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/executor/task_queue_manager.py\", line 190, in load_callbacks\r\n    for callback_plugin in callback_loader.all(class_only=True):\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/plugins/loader.py\", line 462, in all\r\n    self._update_object(obj, name, path)\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/plugins/loader.py\", line 346, in _update_object\r\n    self._load_config_defs(name, path)\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/plugins/loader.py\", line 217, in _load_config_defs\r\n    if 'options' in dstring and isinstance(dstring['options'], dict):\r\nTypeError: argument of type 'NoneType' is not iterable\r\n```\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nlib/ansible/plugins/loader.py\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\ndevel\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/35002", "title": "Don't skip an inventory source just because it has a comma", "body": "##### SUMMARY\r\nDon't skip an inventory source just because it has a comma, make sure it's also doesn't exist as a path. Fixes #34931\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nlib/ansible/vars/manager.py\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\ndevel\r\n2.4\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "tiggi": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/fb18338cdc7120b6f6ccfc39472748d3e3e80b1f", "message": "Change documentation for path: in openssl_csr to match reality (#35045)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "seuf": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/9b07746ff1a5c83872f1e660f8eff9e152c51365", "message": "New module: monitoring/grafana_datasource (#29006)\n\n* Add monitoring/grafana_datasource module\r\n\r\nadded ds type mysql and postgres + check of parameters\r\n\r\n* Added option max_concurrent_shard_requests for es_version >= 5.6"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Spredzy": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/a2b00e9b5201f52355643b6f8c2967d798dd6d54", "message": "openssl_certificate: Ensure issuer field is set (#34982)\n\nEnsure the Issuer field of the certificate is set when using the\r\nselfsigned backend.\r\n\r\nFixes: https://github.com/ansible/ansible/issues/34963"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Akasurde": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/cf88bfdbbf745e7cd2c063f112581db88590a4d0", "message": "VMware: Refactor vmware_maintenancemode module (#35000)\n\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/bf2ce55ca6241464104e38d3d1e205022303b498", "message": "VMware: Add new module: vmware_host_config_manager (#34627)\n\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>"}], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35040", "title": "VMware: add new module: vmware_host_acceptance", "body": "\r\n##### SUMMARY\r\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nlib/ansible/modules/cloud/vmware/vmware_host_acceptance.py\r\ntest/integration/targets/vmware_host_acceptance/aliases\r\ntest/integration/targets/vmware_host_acceptance/tasks/main.yml\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5devel\r\n```", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/35036", "title": "VMware: add new module: vmware_host_package_facts", "body": "##### SUMMARY\r\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>\r\n\r\n##### ISSUE TYPE\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nlib/ansible/modules/cloud/vmware/vmware_host_package_facts.py\r\ntest/integration/targets/vmware_host_package_facts/aliases\r\ntest/integration/targets/vmware_host_package_facts/tasks/main.yml\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5devel\r\n```", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34984", "title": "VMware: add new module: vmware_host_vmnic_facts", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nlib/ansible/modules/cloud/vmware/vmware_host_vmnic_facts.py\r\ntest/integration/targets/vmware_host_vmnic_facts/aliases\r\ntest/integration/targets/vmware_host_vmnic_facts/tasks/main.yml\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5devel\r\n```", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "trishnaguha": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/8a6d69919863c2b1583da03e91e1c2108cde892c", "message": "Enable nxapi nxos_banner test (#35033)\n\nSigned-off-by: Trishna Guha <trishnaguha17@gmail.com>"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/f806a58a5e3d8089ba2bb68cd45edfa0233cc975", "message": "Idempotency test for enabled mode nxos_udld_interface (#35031)\n\nSigned-off-by: Trishna Guha <trishnaguha17@gmail.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "indispeq": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/943730b70c1f1cf2f3cd21b268a1d5e8638a5f8a", "message": "Update pamd.py to allow module path with slashes (#32197)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "jborean93": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/630ae01f91e4ee93e5e1d5c0c9944a27be5bf730", "message": "win_wait_for: fix tests after attempts change (#35026)"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/f0134079e3aaff3a6c8d31ff55cd3d01c82f2bc8", "message": "win_script: work when argument exceeds stdin buffer size (#33855)\n\n* win_script: work when argument exceeds stdin buffer size\r\n\r\n* Added test for large argument being passed"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/8edd1cf18220bbb2d8743035a3843ff4e4064c24", "message": "changed to enable windows temp path override (#34967)"}], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35027", "title": "template: change to pass along the correct template path", "body": "##### SUMMARY\r\nWhen running win_template it will give a warning saying it failed to delete a temporary directory. This change fixes\r\n\r\n* Shares the same temp path with template and copy so that copy does not create an extra unneeded directory\r\n* Fixes the cleanup in template to source the correct template path, for Windows this was trying to delete the new copy tmp path which no longer existed and left another one created by template initially (not sure about POSIX hosts)\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\ntemplate\r\n\r\n##### ANSIBLE VERSION\r\n```\r\n2.5\r\n```", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "cwarner-mdsol": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/e6d01ff7e302211ed01efda13fdcb1e9b3121b50", "message": "fix for ec2 module terminating instances outside of inventory -- Fixes #19427 (#26621)\n\n* Proposed fix for issue 19427\n\n* Use string_types and to_text for evaluation, if not on empty dict.\n\n* if int, to_text and continue on"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "prasadkatti": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/5a9562a1012debab80768b17aefd6cd99f4f694f", "message": "Add option to toggle describe_image_attribute lookups (#34977)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mattclay": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/20824b8f3d8afefe1d442d2aac4752482dab448a", "message": "Simplify Windows versions in ansible-test."}, {"url": "https://api.github.com/repos/ansible/ansible/commits/f9f6080630f1a50b42ae7d5313339a03e2ef69ca", "message": "Improve handling of ansible-doc sanity errors."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "caphrim007": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/8cc0e744482313faf9103ecda47e52672792386c", "message": "Adds better error handling to f5 api connections (#35020)\n\nPreviously, the failure of the API connection would result\r\nin a stack trace. This patch makes the failure capable of exiting\r\nwith fail_json"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "nitzmahone": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/3371b5eb03366a7d7d683050a8bc50904e2fed3f", "message": "restore format arg to azure_rm_common errmsg"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/3e56883c44cc54d11c649a0eb64fd6b1a12f1322", "message": "zap extra format args from azure_rm_common errmsg"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/68ccd5fc007e5f062dc95ca28c822b3b404f8211", "message": "fix minimum client version checking (#35018)\n\n* bump minimum client versions to match requirements file\r\n* improve prescriptive error messaging to match current recommendations"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/e726c7ecf72772f35d4defb61f112026cfce6464", "message": "disable host_key_checking in virtualmachine test"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "elad661": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/ea1361a9273d4b31391f08eb7d7a5e3d44b6161e", "message": "modules/na_cdot_lun: properly compare LUN size (#34846)\n\ncurrent_size is returned from the API as string, while self.size\n(the requested size) is an integer. This caused the comparison\nto always be False, and a resize request to always be sent."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "gundalow": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/9a32f5c88964054c6f2cb042658b1bf0b4e88f18", "message": "Add missing extends_documentation_fragment (#35013)\n\nNXOS modules need more work, though that will all be in\nmodule_docs_fragments/nxos.py"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "themr0c": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/5b52bfad6dd1f8fd6447557948ca2b42465863cf", "message": "azure_rm inventory should add \"ansible_connection: winrm\" in host_vars for windows hosts - fixes #34689 (#34691)\n\n* fix for https://github.com/ansible/ansible/issues/34689\r\nazure_rm inventory should add \"ansible_connection: winrm\" in host_vars for windows hosts\r\n\r\n* add ansible_connection: winrm - fix for https://github.com/ansible/ansible/issues/34689"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "brunocalogero": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/e130b3eed25dafc924133caba766213d6127aa50", "message": "added aci_switch_leaf_selector integration tests (#34951)"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/1166e181ecdf3a9c82514590c505df3e7b781f80", "message": "added aci_switch_leaf_policy_profile integration tests (#34952)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "clarkst": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/e4f294822f77f116a47073f6e4cb68bde9a0ac9b", "message": "[cloud] kinesis stream server side encryption - fixes #30269 (#30689)\n\n* Moved the encryption to its own action method.\r\n\r\n* removed silly default value for encryption type.\r\n\r\n* Code formatting issues from pull request ANSIBOT.\r\n\r\n* changed version_added to  \"2.5\"\r\nbecause of new new options available\r\n\r\n* changed version_added to  \"2.5\"\r\nbecause of new new options available\r\n\r\n* changed version_added to  \"2.5\"\r\nbecause of new new options available"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Qalthos": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35054", "title": "ios_l2_interface", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\nNew module ios_l2_interface\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Feature Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nios_l2_interface\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5\r\n```", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "evrardjp": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35053", "title": "New module etcd3", "body": "This module uses etcd3 python library to do k/v manipulation on\r\nan etcd3 cluster using version3 api.\r\n\r\n##### SUMMARY\r\nThis adds an etcd3 module to ansible.\r\nIt uses a native version 3 calls to modify key/values on the cluster.\r\n\r\n##### ISSUE TYPE\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\netcd3\r\n\r\n##### ANSIBLE VERSION\r\n\r\ndevel\r\n\r\n##### ADDITIONAL INFORMATION\r\n\r\nNone", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "snecklifter": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35043", "title": "Add OpenStack Director provider", "body": "##### SUMMARY\r\nAdds the ability to create an OpenStack Director provider in\r\nManageIQ.\r\n\r\n##### ISSUE TYPE\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\nremote_management/manageiq\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (add-director-provider 382471890b) last updated 2018/01/18 12:14:40 (GMT +100)\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "yuwzho": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35038", "title": "Fixes 27878: subnet should in the virtual network resource group", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\nFixes #27878\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.4\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/35037", "title": "Fix #29593 delete subnet should be idempotent", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\nFixes #29593\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.4\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "aajdinov": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35035", "title": "Oneandone cloud provider bulk one", "body": "##### SUMMARY\r\nAdding three new cloud modules to support oneandone firewall policy, load balancer, and monitoring policy management. Also included in the PR is an update made to oneandone_server module to support server types, wait interval, and custom url, as well as a small update to oneandone module util. \r\n\r\n##### ISSUE TYPE\r\n - Feature Pull Request\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\noneandone_firewall_policy cloud module\r\noneandone_load_balancer cloud module\r\noneandone_monitoring_policy cloud module\r\noneandone_server cloud module\r\noneandone module_util\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (oneandone_cloud_provider_bulk_one 609d2a27a5) last updated 2018/01/18 07:54:49 (GMT +200)\r\n  config file = /etc/ansible/ansible.cfg\r\n  python version = 2.7.12 (default, Nov 20 2017, 18:23:56) [GCC 5.4.0 20160609]\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nBelow is the output from some of the test playbooks utilizing the new modules:\r\n```\r\nFirewall policy create\r\n=================\r\n\r\nPLAY [localhost] ****************************************************************\r\n\r\nTASK [Gathering Facts] *******************************************************\r\nok: [localhost]\r\n\r\nTASK [Create a firewall policy] ***********************************************\r\nchanged: [localhost]\r\n\r\nPLAY RECAP ********************************************************************\r\nlocalhost                  : ok=2    changed=1    unreachable=0    failed=0   \r\n\r\n```\r\n\r\n```\r\nLoad balancer create\r\n=================\r\n\r\nPLAY [localhost] *****************************************************************\r\n\r\nTASK [Gathering Facts] ********************************************************\r\nok: [localhost]\r\n\r\nTASK [Create a load balancer] ***********************************************\r\nchanged: [localhost]\r\n\r\nPLAY RECAP ********************************************************************\r\nlocalhost                  : ok=2    changed=1    unreachable=0    failed=0  \r\n```\r\n\r\n```\r\nMonitoring policy create\r\n===================\r\n\r\nPLAY [localhost] ****************************************************************\r\n\r\nTASK [Gathering Facts] ******************************************************\r\nok: [localhost]\r\n\r\nTASK [Create a monitoring policy] ******************************************\r\nchanged: [localhost]\r\n\r\nPLAY RECAP ********************************************************************\r\nlocalhost                  : ok=2    changed=1    unreachable=0    failed=0   \r\n```\r\n", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "willthames": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35028", "title": "Add aws_s3 action plugin to find source files as expected", "body": "##### SUMMARY\r\nPeople expect to be able to upload files to s3 using standard\r\nlocations for files.\r\n\r\nProviding an action plugin that effectively rewrites the `src`\r\nkey to the result of finding such a file is a great help.\r\n\r\nTests added, and IAM permissions corrected\r\n\r\n\r\n##### ISSUE TYPE\r\n - Feature Pull Request\r\n\r\n##### COMPONENT NAME\r\naws_s3\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (devel 5a9562a101) last updated 2018/01/18 10:21:40 (GMT +1000)\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/home/will/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /home/will/src/ansible/lib/ansible\r\n  executable location = /home/will/src/ansible/bin/ansible\r\n  python version = 2.7.14 (default, Dec 11 2017, 14:52:53) [GCC 7.2.1 20170915 (Red Hat 7.2.1-2)]\r\n```\r\n\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pilou-": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35024", "title": "webfaction modules: fix broken import", "body": "##### SUMMARY\r\nwebfaction mdoules: fix [broken import](https://github.com/ansible/community/wiki/Testing:-progress-tracker#fixing-broken-imports)\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nwebfaction modules\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.5.0 (devel 92b3d79283) last updated 2018/01/16 15:27:58 (GMT +200)\r\n```", "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34983", "title": "azure_rm_dnsrecordset: fix broken import and minor updates", "body": "##### SUMMARY\r\nazure_rm_dnsrecordset:\r\n- fix [broken import](https://github.com/ansible/community/wiki/Testing%3A-progress-tracker#list-of-things-that-need-unit-tests-eg-libraries-under-module_utils)\r\n- doc: use formatting function\r\n- remove unused dictionary\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nazure_rm_dnsrecordset\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (devel 92b3d79283) last updated 2018/01/16 15:27:58 (GMT +200)\r\n```", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "NickWilde1990": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35022", "title": "Fix typo in examples in Lookup/password plugin.", "body": "##### SUMMARY\r\nResolve typo in documentation examples section. Secondarily, fix a couple other typos.\r\n\r\n\r\n##### ISSUE TYPE\r\n - Docs Pull Request\r\n\r\n##### COMPONENT NAME\r\nDocs: Lookup/password", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "abadger": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35016", "title": "Fix copy for implicit relative paths", "body": "##### SUMMARY\r\ncopy currently fails if you specify a destination without any directory\r\ncomponent.  This is because we take the dirname of the destination for\r\nsome processing and no dirname causes issues.\r\n\r\nThis corrects that by prepending \"./\" if there is no directory component\r\nin dest.\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nlib/ansible/modules/file/copy.py\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\ndevel and earlier\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nThis has been behaviour for a long time (at least as far back as 1.9).", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34976", "title": "Remove AnsibleUnicode special handling", "body": "##### SUMMARY\r\nThis is code that we're not sure is needed anymore.  Run it through our CI system to gather some preliminary information about whether it could be removed.\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\ndataloader\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\ndevel\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nI think I wrote this code because we had a traceback at some point with pyyaml not able to handle our AnsibleUnicode type (the C library was doing an exact match to python's unicode type rather than testing with the object inheritance hierarchy.)   Neither jimi nor I are sure when AnsibleUnicode gets passed into this function, though, so we think it may be safe to remove this code now.", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "rambleraptor": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35014", "title": "GCP: DNS Managed Zones", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\nThis adds support for creating managed zones on GCP, along with a test runner and future utilities for adding more GCP resources.\r\n\r\n##### ISSUE TYPE\r\n - Feature Pull Request\r\n\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\ngcp_dns_managed_zone\r\n\r\n##### ANSIBLE VERSION\r\n```\r\n2.5\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nThis code was autogenerated using [Magic Modules](https://github.com/GoogleCloudPlatform/magic-modules)\r\n", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "ganeshrn": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35007", "title": "Add regex to catch ios error prompt", "body": "\r\n\r\n##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\n*  Move the error checking from ios_l3_module\r\n   to ios termianl plugin by adding additional\r\n   regex to catch error prompt.\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Bugfix Pull Request\r\n \r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nios_l3_interface\r\nterminal/ios\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "lrivallain": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35004", "title": "vmware: Add new module 'vmware_datastore_host'", "body": "##### SUMMARY\r\nNew Module: vmware_datastore_host - mount/umount datastore (both vmfs and nfs) on host(s)\r\n\r\n##### ISSUE TYPE\r\n- New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\nlib/ansible/modules/cloud/vmware/vmware_datastore_host.py\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (vmware_datastore ed922c2249) last updated 2018/01/16 21:33:51 (GMT +200)\r\n  config file = None\r\n  configured module search path = ['~/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']\r\n  ansible python module location = ~/wd/ansible/lib/ansible\r\n  executable location = ~/wd/ansible/bin/ansible\r\n  python version = 3.6.3 (default, Nov  3 2017, 19:47:38) [GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.42)]\r\n```\r\n\r\n##### ADDITIONAL INFORMATION\r\n```\r\n- name: Mount VMFS datastores to ESXi\r\n  vmware_datastore_host:\r\n      hostname: '{{ vcenter_hostname }}'\r\n      username: '{{ vcenter_user }}'\r\n      password: '{{ vcenter_pass }}'\r\n      datacenter_name: '{{ datacenter }}'\r\n      datastore_name: '{{ item.name }}'\r\n      datastore_type: '{{ item.type }}'\r\n      vmfs_device_name: 'naa.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'\r\n      vmfs_version: 6\r\n      esxi_hostname: '{{ inventory_hostname }}'\r\n      state: present\r\n  delegate_to: localhost\r\n- name: Mount NFS datastores to ESXi\r\n  vmware_datastore_host:\r\n      hostname: '{{ vcenter_hostname }}'\r\n      username: '{{ vcenter_user }}'\r\n      password: '{{ vcenter_pass }}'\r\n      datacenter_name: '{{ datacenter }}'\r\n      datastore_name: '{{ item.name }}'\r\n      datastore_type: '{{ item.type }}'\r\n      nfs_server: '{{ item.server }}'\r\n      nfs_path: '{{ item.path }}'\r\n      nfs_ro: no\r\n      esxi_hostname: '{{ inventory_hostname }}'\r\n      state: present\r\n  delegate_to: localhost\r\n  with_items:\r\n      - { 'name': 'NasDS_vol01', 'server': 'nas01', 'path': '/mnt/vol01', 'type': 'nfs'}\r\n      - { 'name': 'NasDS_vol02', 'server': 'nas01', 'path': '/mnt/vol02', 'type': 'nfs'}\r\n- name: Remove/Umount Datastores from ESXi\r\n  vmware_datastore_host:\r\n      hostname: '{{ vcenter_hostname }}'\r\n      username: '{{ vcenter_user }}'\r\n      password: '{{ vcenter_pass }}'\r\n      datacenter_name: '{{ datacenter }}'\r\n      datastore_name: NasDS_vol01\r\n      esxi_hostname: '{{ inventory_hostname }}'\r\n      state: absent\r\n  delegate_to: localhost\r\n```", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "anbsmile": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34998", "title": "win_iis_webapplication: added additional parameters", "body": "##### SUMMARY\r\nFeature #34994\r\n\r\n##### ISSUE TYPE\r\n - Feature Pull Request\r\n\r\n##### COMPONENT NAME\r\nwin_iis_webapplication\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/dist-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.12 (default, Nov 20 2017, 18:23:56) [GCC 5.4.0 20160609]\r\n\r\n```\r\n", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "balonik": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34996", "title": "Make vmware_guest always get a resource pool and properly create VM in chosen cluster", "body": "##### SUMMARY\r\nBackporting get_resource_pool from devel branch. This way the VM is properly created in cluster as specified by user in `cluster` option.\r\n\r\nFixing issue https://github.com/ansible/ansible/issues/34801\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nvmware_guest\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.1.0\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34995", "title": " Make vmware_guest always get a resource pool", "body": "##### SUMMARY\r\nSmall change to the code to always get a resource pool before the 'template'/'no-template' code where it would be called anyway.\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nvmware_guest\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34993", "title": "Updating lvol.py to better handle %PVS options when creating/resizing lvols.", "body": "##### SUMMARY\r\nUpdating lvol.py to better handle %PVS options when creating/resizing lvols.\r\n\r\n- Adds idempotency when the module is called N+ times and %PVS is used in `size`\r\n- Making the module inline with LVM2 man pages (lvcreate/lvextend), specifically with the description of `-l|--extents` option and sentence `The suffix %VG denotes the total size of the VG, the suffix %FREE the remaining free space in the VG, and the suffix %PVS the free space in the specified PVs`.\r\n- This update makes `pvs` option mandatory when %PVS is used in size, because it calculates requested size by adding size of specified PVS in `pvs` (to be inline with the above point).\r\n- Fixing errors like `\"msg\": \"Unable to resize lv_var_cache_pulp to 100%PVS\", \"rc\": 5)` when module is called N+ times, because it calculated size of VG and not only subset of PVS.\r\n\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nlvol\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.1.0\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\nBefore applied changes same task 2 times:\r\n- lvol: lv=lv_var_cache_pulp size=100%PVS pvs=/dev/sdc shrink=no state=present vg=vg_pulp\r\n- lvol: lv=lv_var_cache_pulp size=100%PVS pvs=/dev/sdc shrink=no state=present vg=vg_pulp\r\n\r\nwill result in:\r\nTASK [create_lvm : lvol] *****************************************************************************\r\nok: [server] => (item={'key': u'lv_var_cache_pulp', 'value': {u'path': u'/var/cache/pulp', u'pvs': u'/dev/sdc', u'mount': True, u'vg_name': u'vg_pulp', u'size': u'100%PVS'}})\r\nTASK [create_lvm : lvol] *****************************************************************************\r\nfailed: [server] (item={'key': u'lv_var_cache_pulp', 'value': {u'path': u'/var/cache/pulp', u'pvs': u'/dev/sdc', u'mount': True, u'vg_name': u'vg_pulp', u'size': u'100%PVS'}}) => {\"changed\": false, \"err\": \"  WARNING: No free extents on physical volume \\\"/dev/sdc\\\".\\n  No specified PVs have space available.\\n\", \"failed\": true, \"item\": {\"key\": \"lv_var_cache_pulp\", \"value\": {\"mount\": true, \"path\": \"/var/cache/pulp\", \"pvs\": \"/dev/sdc\", \"size\": \"100%PVS\", \"vg_name\": \"vg_pulp\"}}, \"msg\": \"Unable to resize lv_var_cache_pulp to 100%PVS\", \"rc\": 5}\r\n```\r\n", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "resmo": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34991", "title": "doc: fix loop examples", "body": "##### SUMMARY\r\nfix loop examples, \r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Docs Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\ndoc\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "cnasten": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34986", "title": "NSO: handle types for leaf-lists in nso_config (ValueBuilder)", "body": "Fixes: #34985\r\n\r\n##### SUMMARY\r\nThis reads the type information for leaf-list elements from the appropriate part of the schema.\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nnso_config\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (nso_config_leaf-list_34985 e9efe8df5a) last updated 2018/01/17 13:25:10 (GMT +200)\r\n  config file = None\r\n  configured module search path = [u'/home/cnasten/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /home/cnasten/dev/ansible/lib/ansible\r\n  executable location = /home/cnasten/dev/ansible/bin/ansible\r\n  python version = 2.7.14+ (default, Dec  5 2017, 15:17:02) [GCC 7.2.0]\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nSee #34985 for details.", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pmarques": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34980", "title": "Remove unused import from azure dyn inventory", "body": "##### SUMMARY\r\n\r\nRemove unused import from azure_rm dynamic inventory\r\n\r\n##### ISSUE TYPE\r\n\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\n\r\ncontrib/inventory/azure_rm.py\r\n\r\n##### ADDITIONAL INFORMATION\r\n\r\nThe module is importing a package that is not used and not installed by default.\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mpdehaan": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444088", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4399068", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4399068/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4399054", "body": "suggest a fix?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4399054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4518269", "body": "I don't think this is a problem because setup.py was trying to install manpages and such before.\n\nIt runs pretty well directly out of checkout which is what the whole hacking script is designed to deal with.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4518269/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4433350", "body": "done, see lib/ansible/connection\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4433350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444090", "body": "basically done / obsolete\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444090/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4433347", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4433347/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444081", "body": "-P implemented, see \"examples\" on the doc site\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444081/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444078", "body": "this is already done in /usr/bin/ansible, do similar to playbooks\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444078/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444097", "body": "needs to kick off jobs everywhere and then poll, and then fail the jobs that do not complete in time\n\nsee code in /usr/bin/ansible for use as a baseline\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444097/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489311", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400040", "body": "possible uses:\n\nif this is the os\n\nif in this subnet or whatever\n\nif the last command returned X\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400040/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400147", "body": "also want to be able to do maybe\n\n```\n- action: blah\n  poll:  timeout=30 check_interval=5\n  onfail:   \n```\n\nso it's like a \"notify\" but different\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400174", "body": "Q: does fail mean stop unless there is an onfail?   \n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580225", "body": "more random thoughts:\n\n```\n- name: foo\n  switch:\n     - var: asdf\n         - case: $facter_fqdn \n           then: value\n         - case: $facter_fqdn  # this is a Python expression after replacing the dollar signs\n           then: bar                  # this too\n  action: module param1 param2 $asdf\n```\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580394", "body": "Attempting to iterate on this:\n\n<pre>\n    - name: foo\n      calculate_vars:\n         - asdf\n             - if: $facter_fqdn.endswith(\".rtp.example.org\") \n               then: 'foo'\n             - elif: $facter_fqdn.startswith(\".atl.example.org\")  # this is a Python expression after replacing the dollar signs\n               then: 'bar'\n             - else: 'default'\n      action: module param1 param2 $asdf\n\n</pre>\n\n\n?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580523", "body": "calculate_vars should not be part of a task because vars should be reusable\n\n```\n-  calculate_vars:\n     - asdf\n         - if: $facter_fqdn.endswith(\".rtp.example.org\") \n           then: 'foo'\n         - elif: $facter_fqdn.startswith(\".atl.example.org\")  # this is a Python expression after replacing the dollar signs\n           then: 'bar'\n         - else: 'default'\n\n- tasks:\n      - name:  foo\n        action: module param1 param2 $asdf\n        onlyif:  expression goes here\n```\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580523/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580563", "body": "```\n -  calculate_vars:\n     - if: $facter_fqdn.endswith(\".rtp.example.org\") \n       then:\n           asdf: 'foo'\n     - elif: $facter_fqdn.startswith(\".atl.example.org\")  # this is a Python expression after replacing the dollar signs\n       then:\n           asdf: 'bar'\n     - else:\n           asdf: 'default' \n\n- tasks:\n  - name:  foo\n    action: module param1 param2 $asdf\n    onlyif:  expression goes here\n```\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580563/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580819", "body": "```\n - conditional_vars:\n    - apache:\n        - [ \" $facter_os == 'Debian' \" , 'apache' ]\n        - [ \" $facter_os == 'RedHat' \", 'httpd' ]\n\n- tasks:\n    - name:  install apache\n      action:  yum blarg $apache\n      onlyif: $facter_os == 'RedHat'\n   - name: install apache\n      action: apt blarg $apache\n      onlyif: $facter_os == 'Debian'\n```\n\n?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580819/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4581323", "body": "Inside of tasks list, a list of both task (name+action) and conditional_set elements:\n\n```\n- conditional_set:\n    - \"$facter_os == 'Debian' \":\n        - install_apache: apt ensure=installed pkg=apache\n        - restart_apache: service httpd start\n    - \"$facter_os == 'RedHat' \":\n        - install_apache: yum ensure=installed pkg=httpd\n        - restart_apache: systemctl enable httpd.service\n    # possibly some error syntax  \n\n- name: install apache\n  action: $install_apache\n- name: restart apache\n  action: $restart_apache\n  onlyif: $somevar == X   # totally optional to use this\n```\n\npossibly some errorif syntax too\n\nand you can interlace conditional_sets and tasks all you want\n\nwe could also put in automagic such that if the action line starts with \"$\" and it wasn't evaluated we just skip the step\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4581323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4582425", "body": "plan is to revisit these ideas after #57\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4582425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4460335", "body": "more or less exists in module docs, but should indicate how to test them from CLI and a little more about req'd options\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4460335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489319", "body": "moving to website tracker\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4513218", "body": "this is actually LESS needed since all modules now use the argsfile convention, but we still need them to choke properly on invalid arguments.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4513218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4708105", "body": "duplicate\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4708105/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489304", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4511900", "body": "done, see mailing list thread\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4511900/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489302", "body": "we can run playbooks in the examples dir for this\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/1401943", "body": "hey, FYI... I had to revert this because it was not returning the path back to the function.  When running as users other than root, such as:\n\nansible all -m ping -u test\n\nyou can see it tries to transfer a file to a directory containing the unsubstituted $HOME\n\nNot sure of the best way to fix this but check it out with a non root user...\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/1401943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/1822311", "body": "Likely, will fix, thanks\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/1822311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2006552", "body": "I'll fix it, I need my cows.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2006552/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2006561", "body": "done!\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2006561/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2044646", "body": "I am pleased.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2044646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2271852", "body": "actually I'm probably going to drop supervisorctl from core as it's a bit of a niche module.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2271852/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2536497", "body": "Can you open a bug ticket?  if you commit on the commits the discussion can\nbe hard to find.\n\nOn Thu, Jan 31, 2013 at 11:07 AM, Luca Cipriani notifications@github.comwrote:\n\n> is this in conflict with\n> https://github.com/ansible/ansible/blob/devel/lib/ansible/playbook/play.py#L38? Because I have a ERROR:\n> private_key_file is not a legal parameter in an Ansible Playbook Seems\n> you have removed the functionality.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/ansible/ansible/commit/f5c6457de8a21ba5f22312d33cd315da4d6d0bf1#commitcomment-2536398.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2536497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2638641", "body": "minor suggestion: flatten deserves to be a function in utils ...\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2638641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2681502", "body": "I find being able to keep more on the same screen useful in this case.\n\nI also fixed an indentation error.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2681502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2756271", "body": "I tested it and it did.  Please paste your playbook?\n\nOn Thu, Mar 7, 2013 at 12:31 AM, Simon Law notifications@github.com wrote:\n\n> Sorry to be nitpicky\u2026 Don't these two lines have to occur before sourceand\n> dest are assigned to?\n> \n> Tested the patch and it doesn't work. [image: :frowning:]\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/ansible/ansible/commit/2bb305f6d57cc6b8158ac8f82b978a7def552d57#commitcomment-2756268\n> .\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2756271/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2756273", "body": "Ah hmm, my file already existed.  This is what you get for making me work\njet-lagged :)\n\nTo be clear, the complex arg stuff was really done to support the cloud\nformations module, it's not common that you'd actually code playbooks this\nway most of the time, but it's important that it should work.\n\nThe\n\ntemplate: src=value dest=value\n\nis how you normally write them...\n\nOn Thu, Mar 7, 2013 at 12:32 AM, Michael DeHaan michael.dehaan@gmail.comwrote:\n\n> I tested it and it did.  Please paste your playbook?\n> \n> On Thu, Mar 7, 2013 at 12:31 AM, Simon Law notifications@github.comwrote:\n> \n> > Sorry to be nitpicky\u2026 Don't these two lines have to occur before sourceand\n> > dest are assigned to?\n> > \n> > Tested the patch and it doesn't work. [image: :frowning:]\n> > \n> > \u2014\n> > Reply to this email directly or view it on GitHubhttps://github.com/ansible/ansible/commit/2bb305f6d57cc6b8158ac8f82b978a7def552d57#commitcomment-2756268\n> > .\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2756273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2756357", "body": "Totally, I'm excited about the option too.\n\nIt's cleaner than this:\n\nfoo: >\n   asdf=xyz\n   jkl=123\n\nAnd much more friendly to being machine readable.\n\nIt's just new, so pounding some bugs out of it is something we needed to do\n:)\n\nI especially like it now that you don't have to use \"args:\" and can just\nsay:\n- template:\n     src: asdf\n     dest: bar\n\nEtc.  This is pretty recent though I've pushed notes on that to the\nadvanced playbooks page of the docs site.  We did it so \"args\" keeps\nworking too though.\n\nOn Thu, Mar 7, 2013 at 12:41 AM, Simon Law notifications@github.com wrote:\n\n> I understand completely. Thanks for the support.\n> \n> Our use case is that we have some very long lines, and we use the complex\n> arguments so that our template lines are readable. We could have folded our\n> long lines, but the complex arguments looked the most aesthetically\n> pleasing.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/ansible/ansible/commit/2bb305f6d57cc6b8158ac8f82b978a7def552d57#commitcomment-2756294\n> .\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2756357/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "skvidal": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580668", "body": "So that seems to make simple things harder.\n\nthe obvious cases you'd see here are in pseudo-code:\n\nif $distrover == \"6\":\n    install somepkg\n    service  someprocess start\nelif $distrover == \"5\":\n    install someotherpkg\n    service  someotherprocess start\nelse:\n     error_print(\"$distrover doesn't match anything\")\n\nThat seems likely to be the most common case - being able to define a task is much like a function - and those are great - but the 'run these two things' seem like a really common case. With most languages it is very important to make the common things trivial and the uncommon things possible.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580668/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4581071", "body": "it still feels like everything is defined far away from where you use it. I would expect the tasks section to get larger along  with the conditional_vars, too.\n\nso, conceptually something like this seems more reasonable for day-to-day use:\n\n```\n- name:  install apache\n- action: \n    if   \" $facter_os == 'Debian' \":\n        apt ensure=installed pkg=apache\n        service httpd start\n    elif  $facter_os == 'RedHat':\n        yum ensure=installed pkg=httpd\n        systemctl enable httpd.service\n    else:\n        error_msg(\"Could not action for facter_os = $facter_os\")\n```\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4581071/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "pas256": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/1773303", "body": "That's a smarter fix - thanks\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/1773303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "serbaut": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/1822272", "body": "I think you are missing 'ansible.runner.action_plugins' here.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/1822272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "jejohns": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2006548", "body": "This broke cowsay for everyone else. :(\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2006548/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2006560", "body": "Thank you! This is breaking our cowsay SLA.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2006560/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "mastrolinux": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2536398", "body": "is this in conflict with https://github.com/ansible/ansible/blob/devel/lib/ansible/playbook/play.py#L38 ? Because I have a `ERROR: private_key_file is not a legal parameter in an Ansible Playbook` Seems you have removed the functionality.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2536398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "leucos": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2554038", "body": "Seems that this commit breaks devel for me :\n\n```\n((a79373f...)|BISECTING) $ python2 bin/ansible-playbook -l goat ~/.ansible/playbooks/tmux/setup.yml \n\nPLAY [ubuntu] ********************* \n\nGATHERING FACTS ********************* \nok: [goat]\n\nTASK: [Tmux | Installs tmux] ********************* \nfatal: [goat] => Traceback (most recent call last):\n  File \"/home/leucos/dev/ansible/lib/ansible/runner/__init__.py\", line 237, in _executor\n    exec_rc = self._executor_internal(host)\n  File \"/home/leucos/dev/ansible/lib/ansible/runner/__init__.py\", line 293, in _executor_internal\n    return self._executor_internal_inner(host, self.module_name, self.module_args, inject, port)\n  File \"/home/leucos/dev/ansible/lib/ansible/runner/__init__.py\", line 353, in _executor_internal_inner\n    if not getattr(handler, 'BYPASS_HOST_LOOP', False) and not utils.check_conditional(conditional):\n  File \"/home/leucos/dev/ansible/lib/ansible/utils/__init__.py\", line 155, in check_conditional\n    return eval(conditional.replace(\"\\n\", \"\\\\n\"))\nAttributeError: 'bool' object has no attribute 'replace'\n\n\nFATAL: all hosts have already failed -- aborting\n\nPLAY RECAP ********************* \ngoat                           : ok=1    changed=0    unreachable=1    failed=0    \n\n\n((a79373f...)|BISECTING) $\n```\n\nI'll try to set up a minimal example to reproduce.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2554038/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "briceburg": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2633554", "body": "+1 muchos gracias! Works with $PIPE as well.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2633554/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "jmrodri": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2681378", "body": "I know it's old, but the above looked easier to read :) It probably wasted a lot of space in a file, but it's definitely easier to look at. :D \n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2681378/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2681801", "body": "I figured there was a reason.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2681801/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "sfllaw": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2756294", "body": "I understand completely. Thanks for the support.\n\nOur use case is that we have some very long lines, and we use the complex arguments so that our template lines are readable. We could have folded our long lines, but the complex arguments looked the most aesthetically pleasing.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2756294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "blair": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2822649", "body": "Reading the URL at Amazon, isn't this the reverse logic?  EBS volumes should use /dev/sdf while local storage should use /dev/sdb?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2822649/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "tima": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2862436", "body": "This commit broke a unit test:\n\n```\nRegression\n\nTestRunner.TestRunner.test_lineinfile (from nosetests)\n\nError Message\n\n-------------------- >> begin captured stdout << ---------------------\nDEBUG: using args=dest=/.statelite/tmpfs/data/VCS/est-ax010-d/logs01/jenkins/workspace/ansible-devel/test/test_data/rocannon.out.txt regexp='^First: ' line='First: Line added by default at the end of the file.'\nRESULTS={'dark': {}, 'contacted': {'localhost': {u'msg': u'', 'invocation': {'module_name': 'lineinfile', 'module_args': \"dest=/.statelite/tmpfs/data/VCS/est-ax010-d/logs01/jenkins/workspace/ansible-devel/test/test_data/rocannon.out.txt regexp='^First: ' line='First: Line added by default at the end of the file.'\"}, u'changed': False}}}\n\n--------------------- >> end captured stdout << ----------------------\n\nStacktrace\n\nTraceback (most recent call last):\n  File \"/efs/dist/python/core/2.6.5/exec/lib/python2.6/unittest.py\", line 279, in run\n    testMethod()\n  File \"/.statelite/tmpfs/data/VCS/est-ax010-d/logs01/jenkins/workspace/ansible-devel/test/TestRunner.py\", line 308, in test_lineinfile\n    assert result['changed'] == True\nAssertionError: \n-------------------- >> begin captured stdout << ---------------------\nDEBUG: using args=dest=/.statelite/tmpfs/data/VCS/est-ax010-d/logs01/jenkins/workspace/ansible-devel/test/test_data/rocannon.out.txt regexp='^First: ' line='First: Line added by default at the end of the file.'\nRESULTS={'dark': {}, 'contacted': {'localhost': {u'msg': u'', 'invocation': {'module_name': 'lineinfile', 'module_args': \"dest=/.statelite/tmpfs/data/VCS/est-ax010-d/logs01/jenkins/workspace/ansible-devel/test/test_data/rocannon.out.txt regexp='^First: ' line='First: Line added by default at the end of the file.'\"}, u'changed': False}}}\n\n--------------------- >> end captured stdout << ----------------------\n```\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2862436/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2862663", "body": "Assuming I understand the intent of this code, I think is where the problem is: \n\n```\n# Do nothing if regexp didn't match\n    elif index[1] == -1:\n        msg = ''\n        changed = False \n```\n\nIt looks like the regexp match is being stored in index[0] and not index[1] based on this preceding code there:\n\n```\n# index[0] is the line num where regexp has been found\n# index[1] is the line num where insertafter/inserbefore has been found\nindex = [-1, -1]\nm = None\nfor lineno in range(0, len(lines)):\n    match_found = mre.search(lines[lineno])\n    if match_found:\n        index[0] = lineno\n        m = match_found\n    elif insre is not None and insre.search(lines[lineno]):\n        if insertafter:\n            # + 1 for the next line\n            index[1] = lineno + 1\n        if insertbefore:\n            # + 1 for the previous line\n            index[1] = lineno\n```\n\nEither the comment is wrong or the logic.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2862663/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "Tinche": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2870423", "body": "Probably it's the comment that's wrong; the author was probably referring to the insert\\* regexp.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2870423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "gw0": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2954275", "body": "I think this is a useful advanced usage pattern that shows how Ansible can work in practice. Imho it should be placed in a \"advanced usage examples\" subpage with a notice describing how the scope changes.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2954275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "mrjoes": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2966968", "body": "I'm sorry, but this particular change broke lineinfile with state='present'.\n\nConsider following example: lineinfile: dest=file.txt state=present regexp='abcd' line='1234'\n\nExpected behaviour: if 'abcd' is present, it should be replaced by '1234'.\nWhat actually happens:\n1. If line is found in the file, it will be replaced by the '1234'\n2. If line is not found in the file, it will be appended to the end of the file\n\nAssuming that all scripts should be re-runnable, every single run of the deployment script will append extra line to the configuration file and in lots of cases will prevent dependant programs from working.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2966968/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "fivethreeo": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/127829445", "body": "Maybe alter the snake_dict_to_camel_dict take a kwarg, uppercase_first.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/127829445/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/127851025", "body": "Changed snake_dict_to_camel_dict to take a capitalize_first kwarg, change the one in ansible.module_utils.ec2?", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/127851025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "stympy": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/111571425", "body": "Yes, we use the 201 status code (created) as the successful response for this API endpoint, rather than 200. ", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/111571425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "kavu": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10867687", "body": "To avoid copy-pasting I am using `api_lookup_role_by_name` with additional parameter, quieting output during API call.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10867687/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10867693", "body": "`parser` is undefined in this function, I think we can delete this statement safely.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10867693/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10867700", "body": "I am not sure if it's ok to use `print print print`. Should I define a multiline-string template and interpolate values with it?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10867700/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "garethr": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10195117", "body": "Thanks, I've corrected the documentation and the example. I agree, `name` provides a better interface.\n\nI've left the internal variable name as `group_name` however as that maps to the actual AWS name. Making this more explicit if you're in the code feels useful to me.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10195117/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "bendiken": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/9828698", "body": "The list of supported protocol names surely is sourced from `/etc/protocols` and/or `/etc/services`, so adding support for protocol names one by one might not be a tenable approach?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/9828698/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}, "pol": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5196396", "body": "This is confusing or wrong, is it considered changed when it is true or false?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5196396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5196582", "body": "Grammar is clumsy, recommended change:\n\nUse the \"changed_when\" option to override the default module \"change\" reporting.  The \"changed_when\" option takes a Python expression.  ...\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5196582/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "retr0h": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121245586", "body": "Wouldn't it be better to pass cmd_output through decode?  Therefore, we don't need to handle bytes directly?\r\n\r\n```\r\ncmd_output = cmd_output.decode('utf-8')\r\n```\r\n\r\nThen we can keep the code exactly as is.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121245586/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "pwnall": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/93417349", "body": "I would like this hunk in a separate PR.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/93417349/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "calfonso": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/116243595", "body": "Is this section needed for parity with previous versions of this document? If not, is it needed if it doesn't provide any info or than no info?", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/116243595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/117328552", "body": "s/tha/the", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/117328552/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/117331101", "body": "reduction of", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/117331101/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/132195541", "body": "@jedelman8 you're right. @schunduri ^", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/132195541/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/148936822", "body": "@thaumos @itdependsnetworks we had already started on NXOS for 2.4, it's not a new platform we are adding. We ran out of time for 2.4, so picking up some of the stuff we didn't get done. We are not changing how DI is designed in 2.5.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/148936822/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/149092513", "body": "@itdependsnetworks I'm not aware of the time constraint around documentation. The documentation discussion was about how we want to advertise DI modules and the direction we should have other people take when implementing modules. For the platforms we already implemented using DI, we are taking time to finish up some features we didn't get to. What else do you want to know?", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/149092513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "flaper87": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265531", "body": "\ud83d\udc4d ", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265531/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265534", "body": "done", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265534/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265548", "body": "mmhh, tbh, it should work but I'll double check ", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265548/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265592", "body": "There could be but this is something `pyhelm` doesn't support right now. We can add it once the feature is added there. Thoughts?", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265596", "body": "\ud83d\udc4d ", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265596/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/123185073", "body": "@ryansb so, yeah, this should work. Want to resolve this?", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/123185073/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156591311", "body": "I think it's fine to keep this here for now but, I wonder if this check (and similar checks in the future) should go into the `OpenShift` client as they are specific to `OpenShift` and not `Kubernetes`.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156591311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156593100", "body": "Out of curiosity, what are the benefits of using the openshift restclient instead of the kubernetes client?\r\n\r\nIIUC, the openshift client models are generated using OpenShift origin, which doesn't necessarily have the latest supported API by upstream `Kubernetes`. This has caused me some problems in the past where I've needed newer APIs that weren't supported by the openshift client. This is not to say that upstream kubernetes-client is better or worse but I'd like to find a way for us to be able to consume the latest released version of kubernetes. Am I missing something? \r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156593100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156689698", "body": "@chouseknecht thanks a bunch, it makes sense to me.\r\n\r\nFWIW, I'm happy to help with the maintenance of the openshift client too. I'd like to help keeping the ansible module and the openshift client aligned with upstream kubernetes.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156689698/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156690412", "body": "@chouseknecht makes sense. Also, as a first iteration, this is already good so I wouldn't stress it to find a better abstraction at this stage. I think once this module matures, we can start thinking about splitting some of this logic.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156690412/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}}, "2": {"mtnbikenc": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35051", "title": "ansible_virtualization_type and ansible_virtualization_role not recognized for Amazon EC2 C5 Instances", "body": "<!---\r\nVerify first that your issue/request is not already reported on GitHub.\r\nAlso test if the latest release, and master branch are affected too.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest -->\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\n<!---\r\nName of the module, plugin, task or feature\r\nDo not include extra details here, e.g. \"vyos_command\" not \"the network module vyos_command\" or the full path\r\n-->\r\nlib/ansible/module_utils/facts/virtual/linux.py\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.5.0 (devel fb18338cdc) last updated 2018/01/18 11:02:22 (GMT -400)\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/home/rteague/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /home/rteague/git/clusters/aws-c1/ansible/lib/ansible\r\n  executable location = /home/rteague/git/clusters/aws-c1/ansible/bin/ansible\r\n  python version = 2.7.14 (default, Jan 11 2018, 14:45:11) [GCC 7.2.1 20170915 (Red Hat 7.2.1-2)]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\n<!---\r\nIf using Ansible 2.4 or above, paste the results of \"ansible-config dump --only-changed\"\r\nOtherwise, mention any settings you have changed/added/removed in ansible.cfg\r\n(or using the ANSIBLE_* environment variables).\r\n-->\r\n```\r\n$ ansible-config dump --only-changed\r\n(no output)\r\n```\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nN/A\r\n\r\n##### SUMMARY\r\n<!--- Explain the problem briefly -->\r\nAmazon EC2 C5 instances are not properly recognized due to a change in bios_vendor/sys_vendor identifier.\r\n\r\n##### STEPS TO REPRODUCE\r\n<!---\r\nFor bugs, show exactly how to reproduce the problem, using a minimal test-case.\r\nFor new features, show how the feature would be used.\r\n-->\r\nOn a C5 instance:\r\n```\r\n$ ansible -m setup all -i /tmp/c5_host |grep \"virtualization\"\r\n        \"ansible_virtualization_role\": \"NA\", \r\n        \"ansible_virtualization_type\": \"NA\", \r\n```\r\n\r\n\r\n\r\n##### EXPECTED RESULTS\r\n<!--- What did you expect to happen when running the steps above? -->\r\nExpected _role and _type to be properly populated.\r\n\r\n##### ACTUAL RESULTS\r\n<!--- What actually happened? If possible run with extra verbosity (-vvvv) -->\r\n\r\n<!--- Paste verbatim command output between quotes below -->\r\n```\r\nChecked on the EC2 C5 instance:\r\n# cat /sys/devices/virtual/dmi/id/bios_vendor\r\nAmazon EC2\r\n# cat /sys/devices/virtual/dmi/id/sys_vendor\r\nAmazon EC2\r\n# cat /sys/devices/virtual/dmi/id/product_name\r\nc5.large\r\n\r\nChecking on a normal EC2 instance:\r\n# cat /sys/devices/virtual/dmi/id/bios_vendor\r\nXen\r\n# cat /sys/devices/virtual/dmi/id/sys_vendor\r\nXen\r\n# cat /sys/devices/virtual/dmi/id/product_name\r\nHVM domU\r\n```\r\nPlease see related bug: https://bugzilla.redhat.com/show_bug.cgi?id=1533099", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35051/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dagwieers": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35050", "title": "aci_rest: Using status=\"created\" behaves differently than status=\"deleted\"", "body": "##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\naci_rest\r\n\r\n##### ANSIBLE VERSION\r\nv2.4+\r\n\r\n##### SUMMARY\r\nIf you use a REST payload with **aci_rest** using `status=\"created\"` the action is not idempotent. The first time (when the object does not exist) it works (`changed=True`), but a subsequent call fails as the APIC returns an HTTP failure.\r\n\r\nHowever, if you do the same for removing an object using `status=\"deleted\"` the action *is* idempotent. So a subsequent call works (and does not report a change, `changed=False`) as one would expect.\r\n\r\nThis seems an implementation issue in the APIC.\r\n\r\n**PS** If you would add `status=\"created,modified\"` or simply `status=\"modified\"` your task will be idempotent and it will not lead to failures on subsequent runs.\r\n\r\n##### STEPS TO REPRODUCE\r\nThis will cause a failure on a subsequent create:\r\n```xml\r\n<aaaUserCert dn=\"uni/userext/user-admin/usercert-admin\" data=\"-----BEGIN CERTIFICATE-----\\r\\nMII<snip>NGg\\r\\n-----END CERTIFICATE\\r\\n\" name=\"admin\" rn=\"usercert-admin\" status=\"created\"/>\r\n```\r\n\r\nThis will not cause a failure on a subsequent removal:\r\n```xml\r\n<aaaUserCert dn=\"uni/userext/user-admin/usercert-admin\" name=\"admin\" rn=\"usercert-admin\" status=\"deleted\"/>\r\n```\r\n\r\nHowever using `status=\"modified\"` will always work.\r\n\r\nThis report wants to highlight that creation and deletion have a different behaviour.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35050/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35052", "title": "ACI: Fix validate-module tests E322 and E323", "body": "##### SUMMARY\r\nThis PR includes:\r\n- Fix validate-module tests E322 and E323 for newer ACI modules\r\n- Keep a smaller list of (v2.4) modules that have deprecated parameters unlisted in docs\r\n- Move the protocol parameter out of aci_argument_spec and into specific (v2.4) modules\r\n- Fix 3 other issues of missing aliases in documentation (pool_allocation_mode and descr)\r\n\r\n##### ISSUE TYPE\r\n - Docs Pull Request\r\n\r\n##### COMPONENT NAME\r\naci modules\r\n\r\n##### ANSIBLE VERSION\r\nv2.5", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2044503", "body": "I am not too pleased seeing this to be made the default way of adding actions. Not only do we remove the very explicit \"action\" from the syntax (which is part of the terminology), we also make local_action an exception to the default practice, as well as mixing namespaces.\n\nSure it is shorter, but is shorter better ?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2044503/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2406171", "body": "Thanks !\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2406171/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "review_comments": []}, "freeseacher": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35048", "title": "import_tasks inside include_tasks generates confusing error", "body": "\r\n##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\ncore\r\n\r\n##### ANSIBLE VERSION\r\n\r\n```\r\n2.4.2.0 - v2.4.3.0-0.5.rc2\r\n```\r\n\r\n##### CONFIGURATION\r\n<!---\r\n# ansible-config dump --only-changed\r\nANSIBLE_PIPELINING(env: ANSIBLE_SSH_PIPELINING) = True\r\nCACHE_PLUGIN(env: ANSIBLE_CACHE_PLUGIN) = yaml\r\nCACHE_PLUGIN_CONNECTION(env: ANSIBLE_CACHE_PLUGIN_CONNECTION) = /tmp/ansible_cache\r\nDEFAULT_ROLES_PATH(env: ANSIBLE_ROLES_PATH) = [u'/opt/tower/var/tower/roles/NOC', u'/opt/tower/var/tower/playbooks/NOC']\r\nDEFAULT_STDOUT_CALLBACK(env: ANSIBLE_STDOUT_CALLBACK) = debug\r\nHOST_KEY_CHECKING(env: ANSIBLE_HOST_KEY_CHECKING) = False\r\n\r\n-->\r\n\r\n##### OS / ENVIRONMENT\r\nN/A\r\n\r\n##### SUMMARY\r\nwrong error generated if import_tasks found in include_tasks file\r\n\r\n##### STEPS TO REPRODUCE\r\n\r\n```yaml\r\n- include_tasks: \"os/{{ ansible_distribution }}/main.yml\"\r\n...\r\ninside\r\n...\r\n- import_tasks: \"firewall.yml\"\r\n\r\n```\r\n\r\n\r\n##### EXPECTED RESULTS\r\nimport error/lint error/any error\r\n\r\n##### ACTUAL RESULTS\r\n```\r\nfatal: [node1]: FAILED! => {\r\n    \"reason\": \"'ansible_distribution' is undefined\"\r\n}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35048/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "maxgio92": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35046", "title": "s3_lifecycle: Add support for non-current versions", "body": "##### ISSUE TYPE\r\nFeature Idea\r\n\r\n##### COMPONENT NAME\r\ns3_lifecycle\r\n\r\n##### ANSIBLE VERSION\r\n2.4.2.0\r\n\r\n##### OS / ENVIRONMENT\r\nMacOS 10.13.2\r\n\r\n##### SUMMARY\r\nIt would be nice to have control on which versions to apply the rule to (current version or previous non-current versions).\r\n\r\nActually is not possible to apply the rule for non-current version S3 objects and by default the rule will be applied only to current version objects; this is because the s3_lifecycle module uses Boto 2 .\r\n\r\nIn Boto 2 the Rule class does not support the non-current versions of the S3 objects instead Boto 3 does:\r\nhttp://boto.cloudhackers.com/en/latest/ref/s3.html?highlight=lifecycle#boto.s3.lifecycle.Rule\r\nhttps://boto3.readthedocs.io/en/latest/reference/services/s3.html#S3.BucketLifecycle.rules\r\n\r\nThe only solution seems to be to rewrite the entire module using Boto 3.\r\n\r\nThank you all!\r\n\r\n##### EXPECTED RESULTS\r\nIn s3_lifecycle module to have new options, something like this:\r\n- noncurrent_version_transition\r\n- noncurrent_version_storage_class\r\n- noncurrent_version_expiration\r\n\r\nin order to apply a rule to non-current versions of the objects.\r\n\r\n##### ACTUAL RESULTS\r\nIt is not possible to do it.\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35046/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "yamenK": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35042", "title": "Add exclusion list to filetree plugin", "body": "##### ISSUE TYPE\r\n - Feature Idea\r\n\r\n\r\n##### COMPONENT NAME\r\n  - Filetree plugin\r\n\r\n\r\n##### SUMMARY\r\nWhen using the filetree plugin in combination with the template module, I would like to exclude some subdirectories under the root path as these sub-directories contain many files that I don't want to process with the template module.\r\n\r\n```\r\nroot\r\n  |_ directory1\r\n  |_ directory2\r\n              |_ include-subdir\r\n              |_ exclude-subdir\r\n```\r\n\r\nIt is possible to specify the subdirectories separately, however their relative path to the root is lost, when running:\r\n\r\n```\r\n- name: Create directories\r\n  file:\r\n    path: /root/{{ item.path }}\r\n    state: directory\r\n    mode: '{{ item.mode }}'\r\n  with_filetree: root/\r\n  when: item.state == 'directory'\r\n\r\n- name: Template files\r\n  template:\r\n    src: '{{ item.src }}'\r\n    dest: /root/{{ item.path }}\r\n    mode: '{{ item.mode }}'\r\n  with_filetree:\r\n     - /root/directory1\r\n     - /root/directory2/include-subdir\r\n  when: item.state == 'file'\r\n```\r\n\r\n##### EXPECTED RESULTS\r\nAllow for an exclusion list for filetree plugin.\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35042/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "marinus81": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35041", "title": "aci_rest: change not detected", "body": "<!---\r\nVerify first that your issue/request is not already reported on GitHub.\r\nAlso test if the latest release, and master branch are affected too.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest -->\r\n - Bug Report \r\n - maybe Enhancement request?\r\n\r\n##### COMPONENT NAME\r\naci_rest\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.2.0\r\n  config file = None\r\n  configured module search path = [u'/home/dhamann/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible\r\n  executable location = /usr/local/bin/ansible\r\n  python version = 2.7.12 (default, Nov 20 2017, 18:23:56) [GCC 5.4.0 20160609]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\n<!---\r\nIf using Ansible 2.4 or above, paste the results of \"ansible-config dump --only-changed\"\r\nOtherwise, mention any settings you have changed/added/removed in ansible.cfg\r\n(or using the ANSIBLE_* environment variables).\r\n-->\r\nDEFAULT_DEBUG(env: ANSIBLE_DEBUG) = False\r\nDEFAULT_STRATEGY(env: ANSIBLE_STRATEGY) = linear\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nN/A\r\n\r\n##### SUMMARY\r\n<!--- Explain the problem briefly -->\r\naci_rest module does not always detect changed config, but reports it as unchanged (\"ok:\")\r\n\r\n##### STEPS TO REPRODUCE\r\n<!---\r\nFor bugs, show exactly how to reproduce the problem, using a minimal test-case.\r\nFor new features, show how the feature would be used.\r\n-->\r\nDepending on how you push the config to APIC the aci_rest module detects it as changed or not:\r\n\r\nThis example will always report as unchanged:\r\n<!--- Paste example playbooks or commands between quotes below -->\r\n```yaml\r\n- name: Create CDP Policies\r\n      tags:\r\n        - create\r\n        - network\r\n      aci_rest:\r\n        host: \"{{ apic_hostname }}\"\r\n        username: \"{{ apic_username }}\"\r\n        password: \"{{ apic_password }}\"\r\n        validate_certs: false\r\n        method: post\r\n        path: \"api/node/mo/uni/infra.xml?rsp-subtree=modified\"\r\n        content: |\r\n          <infraInfra>\r\n            <cdpIfPol adminSt=\"{{item.state}}\"  name=\"{{item.name}}\" descr=\"CDP set to {{item.state}}\"/>\r\n          </infraInfra>\r\n      with_items:\r\n        - \"{{cdp_policies}}\"\r\n```\r\n\r\nThis playbook works as expected (\"ok:\" if nothing has changed and \"changed:\" otherwise)\r\n```yaml\r\n- name: Create CDP Policies\r\n      tags:\r\n        - create\r\n        - network\r\n      aci_rest:\r\n        host: \"{{ apic_hostname }}\"\r\n        username: \"{{ apic_username }}\"\r\n        password: \"{{ apic_password }}\"\r\n        validate_certs: false\r\n        method: post\r\n        path: \"api/node/mo/uni/infra/.xml?rsp-subtree=modified\"\r\n        content: |\r\n            <cdpIfPol adminSt=\"{{item.state}}\"  name=\"{{item.name}}\" descr=\"CDP set to {{item.state}}\"/>\r\n      with_items:\r\n        - \"{{cdp_policies}}\"\r\n```\r\nNote the difference in path: parameter (infra.xml vs. infra/.xml) as well as adjusted content.\r\n\r\n<!--- You can also paste gist.github.com links for larger files -->\r\n\r\n##### EXPECTED RESULTS\r\nIn both cases changes to actual APIC config should result in \"changed:\" status\r\n\r\n##### ACTUAL RESULTS\r\n<!--- What actually happened? If possible run with extra verbosity (-vvvv) -->\r\nThe reason why the first playbook does not behave as expected is that APIC does not populate the \"status=\" parameter as expected by the aci_rest module (it will only report change if this parameter is set to either of 'created', 'modified', 'deleted')\r\n(see https://github.com/datacenter/aci-ansible/blob/e87db8f15e34ea7dc2e1b30fd445a4c59561bbc9/library/aci_rest.py#L270-L284)\r\n<!--- Paste verbatim command output between quotes below -->\r\n```\r\nok: [localhost] => (item={u'state': u'enabled', u'name': u'cdp_on2'}) => {\r\n    \"changed\": false, \r\n    \"error_code\": 0, \r\n    \"error_text\": \"Success\", \r\n    \"imdata\": [\r\n        {\r\n            \"infraInfra\": {\r\n                \"attributes\": {\r\n                    \"childAction\": \"deleteNonPresent\", \r\n                    \"dn\": \"uni/infra\", \r\n                    \"lcOwn\": \"local\", \r\n                    \"modTs\": \"2017-08-17T01:40:52.471+01:00\", \r\n                    \"monPolDn\": \"uni/fabric/monfab-default\", \r\n                    \"name\": \"infra\", \r\n                    \"nameAlias\": \"\", \r\n                    \"ownerKey\": \"\", \r\n                    \"ownerTag\": \"\", \r\n                    \"rn\": \"\", \r\n                    \"status\": \"\", \r\n                    \"uid\": \"0\"\r\n                }, \r\n                \"children\": [\r\n                    {\r\n                        \"cdpIfPol\": {\r\n                            \"attributes\": {\r\n                                \"adminSt\": \"enabled\", \r\n                                \"childAction\": \"deleteNonPresent\", \r\n                                \"descr\": \"\", \r\n                                \"extMngdBy\": \"\", \r\n                                \"lcOwn\": \"local\", \r\n                                \"modTs\": \"2018-01-17T09:45:05.902+01:00\", \r\n                                \"monPolDn\": \"\", \r\n                                \"name\": \"cdp_on2\", \r\n                                \"nameAlias\": \"\", \r\n                                \"ownerKey\": \"\", \r\n                                \"ownerTag\": \"\", \r\n                                \"rn\": \"cdpIfP-cdp_on2\", \r\n                                \"status\": \"\", \r\n                                \"uid\": \"17805\"\r\n                            }\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    ], \r\n    \"invocation\": {\r\n        \"module_args\": {\r\n            \"content\": \"<infraInfra>\\n  <cdpIfPol adminSt=\\\"enabled\\\"  name=\\\"cdp_on2\\\" />\\n</infraInfra>\\n\", \r\n            \"host\": \"apic.ddsdnlab.at\", \r\n            \"hostname\": \"apic.ddsdnlab.at\", \r\n            \"method\": \"post\", \r\n            \"password\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\", \r\n            \"path\": \"api/node/mo/uni/infra.xml?rsp-subtree=modified\", \r\n            \"protocol\": \"https\", \r\n            \"src\": null, \r\n            \"timeout\": 30, \r\n            \"use_proxy\": true, \r\n            \"use_ssl\": true, \r\n            \"username\": \"ansible\", \r\n            \"validate_certs\": false\r\n        }\r\n    }, \r\n    \"item\": {\r\n        \"name\": \"cdp_on2\", \r\n        \"state\": \"enabled\"\r\n    }, \r\n    \"response\": \"OK (544 bytes)\", \r\n    \"status\": 200, \r\n    \"totalCount\": \"1\", \r\n    \"url\": \"https://apic.ddsdnlab.at/api/node/mo/uni/infra.xml?rsp-subtree=modified\"\r\n}\r\n```\r\n\r\nOn the other hand the second playbook runs as expected as returned data from APIC contains (status='modified'):\r\n\r\n```\r\nchanged: [localhost] => (item={u'state': u'enabled', u'name': u'cdp_on'}) => {\r\n    \"changed\": true, \r\n    \"error_code\": 0, \r\n    \"error_text\": \"Success\", \r\n    \"imdata\": [\r\n        {\r\n            \"cdpIfPol\": {\r\n                \"attributes\": {\r\n                    \"adminSt\": \"enabled\", \r\n                    \"childAction\": \"deleteNonPresent\", \r\n                    \"descr\": \"CDP set to enabled\", \r\n                    \"dn\": \"uni/infra/cdpIfP-cdp_on\", \r\n                    \"extMngdBy\": \"\", \r\n                    \"lcOwn\": \"local\", \r\n                    \"modTs\": \"2018-01-18T05:26:34.072+01:00\", \r\n                    \"monPolDn\": \"uni/fabric/monfab-default\", \r\n                    \"name\": \"cdp_on\", \r\n                    \"nameAlias\": \"\", \r\n                    \"ownerKey\": \"\", \r\n                    \"ownerTag\": \"\", \r\n                    \"rn\": \"\", \r\n                    \"status\": \"modified\", \r\n                    \"uid\": \"15374\"\r\n                }\r\n            }\r\n        }\r\n    ], \r\n    \"invocation\": {\r\n        \"module_args\": {\r\n            \"content\": \"<cdpIfPol adminSt=\\\"enabled\\\"  name=\\\"cdp_on\\\" descr=\\\"CDP set to enabled\\\"/>\\n\", \r\n            \"host\": \"apic.ddsdnlab.at\", \r\n            \"hostname\": \"apic.ddsdnlab.at\", \r\n            \"method\": \"post\", \r\n            \"password\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\", \r\n            \"path\": \"api/node/mo/uni/infra/.xml?rsp-subtree=modified\", \r\n            \"protocol\": \"https\", \r\n            \"src\": null, \r\n            \"timeout\": 30, \r\n            \"use_proxy\": true, \r\n            \"use_ssl\": true, \r\n            \"username\": \"ansible\", \r\n            \"validate_certs\": false\r\n        }\r\n    }, \r\n    \"item\": {\r\n        \"name\": \"cdp_on\", \r\n        \"state\": \"enabled\"\r\n    }, \r\n    \"response\": \"OK (375 bytes)\", \r\n    \"status\": 200, \r\n    \"totalCount\": \"1\", \r\n    \"url\": \"https://apic.ddsdnlab.at/api/node/mo/uni/infra/.xml?rsp-subtree=modified\"\r\n}\r\n```\r\n\r\nGiven this (weired?) behavior of APIC (I confirmed this behavior is the same on APIC versions 3.0, 3.1 and 2.1), I think the current implementation of aci_changed() might be insufficient.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "tiraboschi": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35039", "title": "ovirt_hosts has iscsidiscover and iscsilogin state but it misses iscsilogout", "body": "##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\novirt_hosts\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug  4 2017, 00:39:18) [GCC 4.8.5 20150623 (Red Hat 4.8.5-16)]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\n\r\n\r\n##### OS / ENVIRONMENT\r\nCentos 7\r\n\r\n##### SUMMARY\r\novirt_hosts has iscsidiscover and iscsilogin state but it misses iscsilogout, \r\noVIrt REST APIs lacks it as well: https://bugzilla.redhat.com/show_bug.cgi?id=1535951\r\n\r\novirt_host_storage_facts then performs an implicit iSCSI login:\r\nhttps://github.com/ansible/ansible/blob/devel/lib/ansible/modules/cloud/ovirt/ovirt_host_storage_facts.py#L134 and so you need the full iSCSI parameters set while according to its example it should simply Gather facts about HostStorages with specified target and address\r\n\r\n\r\n\r\n##### STEPS TO REPRODUCE\r\nTry an iSCSI logout\r\n\r\n##### EXPECTED RESULTS\r\niscsilogout state\r\n\r\n##### ACTUAL RESULTS\r\niscsidiscover and iscsilogin state are there but iscsilogout is not\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35039/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Chetan-CSI": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35034", "title": "An error occurred (RequestLimitExceeded) when calling the DescribeVpcEndpoints operation ", "body": "An error occurred (RequestLimitExceeded) when calling the DescribeVpcEndpoints operation \r\n\r\nISSUE TYPE\r\nBug Report\r\n\r\nCOMPONENT NAME\r\nec2_vpc_endpoint_facts\r\n\r\nANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug  4 2017, 00:39:18) [GCC 4.8.5 20150623 (Red Hat 4.8.5-16)]\r\n```\r\n\r\nCONFIGURATION\r\nDEFAULT_ROLES_PATH(/etc/ansible/ansible.cfg) = [u'/etc/ansible/roles', u'/usr/share/ansible/roles']\r\n\r\n OS / ENVIRONMENT\r\nCentos7.4\r\n\r\nSUMMARY\r\nReceived this error while trying to collect  VPC endpoint facts.\r\n\r\nSTEPS TO REPRODUCE\r\n1. Provision AWS VPC,  Subnets \r\n2. Collect VPC endpoint facts -> Throws RateLimitExceeded error\r\n\r\n```\r\n- name: EC2 VPC | Gather VPC s3 endpoint facts\r\n  ec2_vpc_endpoint_facts:\r\n    query: endpoints\r\n    region: \"{{ net_data.network_region }}\"\r\n    filters:\r\n      vpc-id: \"{{ vpc.vpc.id }}\"\r\n      vpc-endpoint-state:\r\n        - available\r\n      service-name: \"com.amazonaws.{{ net_data.network_region }}.s3\"\r\n  register: existing_s3_endpoints\r\n\r\n- name: EC2 VPC | Create a VPC s3 endpoint, only if doesn't exist\r\n  ec2_vpc_endpoint:\r\n    state: present\r\n    region: \"{{ net_data.network_region }}\"\r\n    vpc_id: \"{{ vpc.vpc.id }}\"\r\n    service: \"com.amazonaws.{{ net_data.network_region }}.s3\"\r\n  register: vpc_s3_endpoint\r\n  when: existing_s3_endpoints.vpc_endpoints == []\r\n```\r\nEXPECTED RESULTS\r\nVPC endpoint facts should have been fetched succssfully.\r\n\r\n##### ACTUAL RESULTS\r\nReceiving request limit exceeded error.\r\n```\r\n \"raw_output\": {\"localhost\": {\"_ansible_no_log\": false, \"_ansible_parsed\": false, \"changed\": false, \"exception\": \"Traceback (most recent call last):\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 205, in <module>\\n main()\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 199, in main\\n results = invocations[module.params.get('query')](connection, module)\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 157, in get_endpoints\\n response = client.describe_vpc_endpoints(*params)\\n File \\\"/usr/lib/python2.7/site-packages/botocore/client.py\\\", line 312, in _api_call\\n return self._make_api_call(operation_name, kwargs)\\n File \\\"/usr/lib/python2.7/site-packages/botocore/client.py\\\", line 601, in _make_api_call\\n raise error_class(parsed_response, operation_name)\\nbotocore.exceptions.ClientError: An error occurred (RequestLimitExceeded) when calling the DescribeVpcEndpoints operation (reached max retries: 4): Request limit exceeded.\\n\", \"failed\": true, \"module_stderr\": \"Traceback (most recent call last):\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 205, in <module>\\n main()\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 199, in main\\n results = invocations[module.params.get('query')](connection, module)\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 157, in get_endpoints\\n response = client.describe_vpc_endpoints(*params)\\n File \\\"/usr/lib/python2.7/site-packages/botocore/client.py\\\", line 312, in _api_call\\n return self._make_api_call(operation_name, kwargs)\\n File \\\"/usr/lib/python2.7/site-packages/botocore/client.py\\\", line 601, in _make_api_call\\n raise error_class(parsed_response, operation_name)\\nbotocore.exceptions.ClientError: An error occurred (RequestLimitExceeded) when calling the DescribeVpcEndpoints operation (reached max retries: 4): Request limit exceeded.\\n\", \"module_stdout\": \"\", \"msg\": \"MODULE FAILURE\", \"rc\": 0}}, \"task\": {\"id\": \"06164f46-5166-9c6c-b611-00000000005c\", \"name\": \"EC2 VPC | Gather VPC s3 endpoint facts\", \"start\": 1513760461.687647}}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/35032", "title": "An error occurred (RequestLimitExceeded) when calling the DescribeSubnets operation ", "body": "ISSUE TYPE\r\nBug Report\r\n\r\nCOMPONENT NAME\r\nec2_vpc_subnet\r\n\r\nANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug  4 2017, 00:39:18) [GCC 4.8.5 20150623 (Red Hat 4.8.5-16)]\r\n```\r\n\r\nCONFIGURATION\r\nDEFAULT_ROLES_PATH(/etc/ansible/ansible.cfg) = [u'/etc/ansible/roles', u'/usr/share/ansible/roles']\r\n\r\n OS / ENVIRONMENT\r\nCentos7.4\r\n\r\nSUMMARY\r\nReceived the error for max tries exceeded while deleting aws subnetwork.\r\nCould not reproduce this issue in the next iteration, but seems to be an intermittent one.\r\n\r\nSTEPS TO REPRODUCE\r\n1. Provision AWS VPC and Subnets\r\n2. De-provision AWS VPC and Subnets -> Throws RateLimitExceeded error\r\n\r\n```\r\n- block:\r\n  - name: EC2 VPC | Remove subnetwork\r\n    ec2_vpc_subnet:\r\n      vpc_id: \"{{ vpc_id }}\"\r\n      region: \"{{ net_data.network_region }}\"\r\n      cidr: \"{{ net_data.subnet_range }}\"\r\n      resource_tags:\r\n        Name: \"{{ resource_env.domain }}/{{ resource_env.env }}/{{ net_data.subnet_name }}\"\r\n        csi-environment: \"{{ resource_env.domain }}-{{ resource_env.env }}\"\r\n      state: absent\r\n  ignore_errors: true\r\n```\r\n##### EXPECTED RESULTS\r\nVPC and Subnets should have been deleted successfully.\r\n\r\n##### ACTUAL RESULTS\r\nFailed while deleting AWS VPC/Subnets\r\n```\r\nTraceback (most recent call last):\r\nFile \"/tmp/ansible_zYmUJP/ansible_module_ec2_vpc_subnet.py\", line 265, in main\r\ncheck_mode=module.check_mode)\r\nFile \"/tmp/ansible_zYmUJP/ansible_module_ec2_vpc_subnet.py\", line 214, in ensure_subnet_absent\r\nsubnet = get_matching_subnet(conn, vpc_id, cidr)\r\nFile \"/tmp/ansible_zYmUJP/ansible_module_ec2_vpc_subnet.py\", line 177, in get_matching_subnet\r\nsubnets = get_subnet_info(conn.describe_subnets(Filters=filters))\r\nFile \"/usr/lib/python2.7/site-packages/botocore/client.py\", line 312, in _api_call\r\nreturn self._make_api_call(operation_name, kwargs)\r\nFile \"/usr/lib/python2.7/site-packages/botocore/client.py\", line 601, in _make_api_call\r\nraise error_class(parsed_response, operation_name)\r\nClientError: An error occurred (RequestLimitExceeded) when calling the DescribeSubnets operation (reached max retries: 4): Request limit exceeded.\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35032/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35044", "title": "Fixes  #35034 - AWS RequestLimitExceeded error while calling DescribeVpcEndpoints", "body": "SUMMARY\r\nWe observed the AWS RequestLimitExceeded error while using ec2_vpc_endpoint_facts ansible module. Please refer issue #35034 for details.\r\n\r\nAdded AWSRetry.exponential_backoff() for describe calls.\r\n\r\nISSUE TYPE\r\n  - Bugfix Pull Request\r\n\r\nCOMPONENT NAME\r\nec2_vpc_endpoint_facts \r\n\r\nANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug  4 2017, 00:39:18) [GCC 4.8.5 20150623 (Red Hat 4.8.5-16)]\r\n```\r\n\r\n\r\nADDITIONAL INFORMATION", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "NZSmartie": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35030", "title": "delegate_to with unreachable hosts breaks playbook", "body": "##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\ndelegate_to\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/dist-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.12 (default, Nov 20 2017, 18:23:56) [GCC 5.4.0 20160609]\r\n```\r\n\r\n##### OS / ENVIRONMENT\r\nUbuntu 16.04.3 LTS\r\n\r\n##### SUMMARY\r\nUsing `delegate_to` (a perfect example can be found in the documentation [http://docs.ansible.com/ansible/latest/playbooks_delegation.html#delegated-facts](http://docs.ansible.com/ansible/latest/playbooks_delegation.html#delegated-facts)); When a host passed along to `delegate_to` is unreachable for whatever reason. The host that is executing the task will be also be marked as unreachable. After a large error is printed out (output from all hosts in the `delegate_to`?) and the playbook ends with something like:\r\n```\r\nPLAY RECAP *************************************************************************************************************************************************\r\nfoo.example.com    : ok=0    changed=0    unreachable=1    failed=0\r\n```\r\n\r\n##### STEPS TO REPRODUCE\r\nplaybook.yml:\r\n```yaml\r\n---\r\n- hosts: app_servers\r\n  tasks:\r\n    - name: gather facts from db servers\r\n      setup:\r\n      delegate_to: \"{{ item }}\"\r\n      delegate_facts: True\r\n      with_items: \"{{groups['dbservers']}}\"\r\n    - name: test\r\n      debug:\r\n        msg: \"test\"\r\n```\r\n\r\ninventory.yml:\r\n```yaml\r\n---\r\nall:\r\n  children:\r\n    app_servers:\r\n      hosts:\r\n        foo.example.com:\r\n    dbservers:\r\n      hosts:\r\n        bar.example.com:\r\n```\r\n\r\n##### EXPECTED RESULTS\r\n```\r\nPLAY [app_servers] ***********************************************************************************************************************************\r\n\r\nTASK [gather facts from db servers] ******************************************************************************************************************\r\nfailed: [foo.example.com] (item=bar.example.com) => {\"item\": \"bar.example.com\", \"msg\": \"Failed to connect to the host via ssh: ssh: connect to host bar.example.com port 22: Connection timed out\\r\\n\", \"unreachable\": true}\r\n\r\nTASK [test] ************************************************************************************************************************************************\r\nok: [foo.example.com] => {\r\n    \"msg\": \"test\"\r\n}\r\n```\r\n\r\n##### ACTUAL RESULTS\r\n```\r\nPLAY [app_servers] ***********************************************************************************************************************************\r\n\r\nTASK [gather facts from db servers] ******************************************************************************************************************\r\nfailed: [foo.example.com] (item=bar.example.com) => {\"item\": \"bar.example.com\", \"msg\": \"Failed to connect to the host via ssh: ssh: connect to host bar.example.com port 22: Connection timed out\\r\\n\", \"unreachable\": true}\r\nfatal: [foo.example.com]: UNREACHABLE! => {\"changed\": false, \"msg\": \"All items completed\", \"...\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "hvindin": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35029", "title": "Copy module silently truncates files if target server tmp location is to small.", "body": "##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\nCopy module\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/home/l066731/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug 29 2016, 10:12:21) [GCC 4.8.5 20150623 (Red Hat 4.8.5-4)]\r\n```\r\n\r\n##### CONFIGURATION\r\nALLOW_WORLD_READABLE_TMPFILES(/etc/ansible/ansible.cfg) = True\r\nANSIBLE_PIPELINING(/etc/ansible/ansible.cfg) = True\r\nANSIBLE_SSH_ARGS(/etc/ansible/ansible.cfg) = -C -o ControlMaster=auto -o ControlPersist=240s\r\nANSIBLE_SSH_CONTROL_PATH_DIR(/etc/ansible/ansible.cfg) = ~/.ansible/cp\r\nCACHE_PLUGIN(/etc/ansible/ansible.cfg) = redis\r\nCACHE_PLUGIN_CONNECTION(/etc/ansible/ansible.cfg) = localhost:6379:0\r\nCACHE_PLUGIN_TIMEOUT(/etc/ansible/ansible.cfg) = 10000\r\nCOMMAND_WARNINGS(/etc/ansible/ansible.cfg) = False\r\nDEFAULT_ALLOW_UNSAFE_LOOKUPS(/etc/ansible/ansible.cfg) = True\r\nDEFAULT_CALLBACK_WHITELIST(/etc/ansible/ansible.cfg) = ['timer', 'skippy', 'profile_roles', 'junit']\r\nDEFAULT_FORKS(/etc/ansible/ansible.cfg) = 15\r\nDEFAULT_GATHERING(/etc/ansible/ansible.cfg) = smart\r\nDEFAULT_GATHER_SUBSET(/etc/ansible/ansible.cfg) = all\r\nDEFAULT_GATHER_TIMEOUT(/etc/ansible/ansible.cfg) = 60\r\nDEFAULT_HASH_BEHAVIOUR(/etc/ansible/ansible.cfg) = replace\r\nDEFAULT_LOAD_CALLBACK_PLUGINS(/etc/ansible/ansible.cfg) = True\r\nDEFAULT_LOG_PATH(/etc/ansible/ansible.cfg) = /var/log/ansible/ansible.log\r\nDEFAULT_MANAGED_STR(/etc/ansible/ansible.cfg) = Ansible managed: {file} %Y-%m-%d %H:%M:%S\r\nDEFAULT_PRIVATE_ROLE_VARS(/etc/ansible/ansible.cfg) = True\r\nDEFAULT_SCP_IF_SSH(/etc/ansible/ansible.cfg) = smart\r\nDEFAULT_SFTP_BATCH_MODE(/etc/ansible/ansible.cfg) = False\r\nDEFAULT_SSH_TRANSFER_METHOD(/etc/ansible/ansible.cfg) = smart\r\nDEFAULT_TRANSPORT(/etc/ansible/ansible.cfg) = smart\r\nDEFAULT_UNDEFINED_VAR_BEHAVIOR(/etc/ansible/ansible.cfg) = True\r\nDEPRECATION_WARNINGS(/etc/ansible/ansible.cfg) = False\r\nDISPLAY_ARGS_TO_STDOUT(/etc/ansible/ansible.cfg) = True\r\nDISPLAY_SKIPPED_HOSTS(/etc/ansible/ansible.cfg) = True\r\nERROR_ON_MISSING_HANDLER(/etc/ansible/ansible.cfg) = True\r\nSHOW_CUSTOM_STATS(/etc/ansible/ansible.cfg) = True\r\n\r\n\r\n##### OS / ENVIRONMENT\r\nRunning with master and target server on Red Hat Enterprise Linux Server 7.2 (Maipo)\r\n\r\n##### SUMMARY\r\nThe Copy module seems to silently fail if the tmp location runs out of space when copying a large file. The copy module will simply fill the diskmount for the defined tmp location on the target server then move the truncated file to the desired path without notifying the user of the failed copy.\r\n\r\nThis can be caught by checking the hash's or file size of the target file, but this seems like it's something that the copy module itself should be able to do to validate that a copy actually occurred correctly.\r\n\r\n##### STEPS TO REPRODUCE\r\nSet up an environment with a target server with a /home diskmount of 2gb size\r\nConfigure ansible to use ~/.ansible/tmp for tmp when copying files (I assume this works if you set the tmp directory to any location with a limited size mount, but I'll use /home for the sake of simplicity)\r\n\r\nGenerate a 3gb random file `dd if=/dev/urandom of=random bs=1M count=3072` and place it in the files directory of a role.\r\nExecute the following role:\r\n\r\n```yaml\r\n- name: copy random file to /random\r\n  copy:\r\n    src: random\r\n    dest: /random\r\n    force: yes\r\n  register: copied\r\n\r\n- name: debug copied\r\n  debug:\r\n    var: copied\r\n\r\n- name: debug random file stat\r\n  local_action: stat path=\"{{ role_path }}/files/random\"\r\n  register: local_file\r\n\r\n- name: debug random file details\r\n  local_action: debug msg=\"{{ local_file.stat }}\"\r\n```\r\n\r\n##### EXPECTED RESULTS\r\nThe sha1sum's of the files copied to the server should match if the copy is successful. If the copy is *not* successful then the copy task should fail.\r\n\r\nIf the target diskmount hasn't got sufficient space for the copied file, the copy task should fail when it runs out of space, not silently truncating the file.\r\n\r\n##### ACTUAL RESULTS\r\nThe copy task is \"successful\" (changed) but the sha1sum of each of the files is random depending how much of the file actually copied to the server before the disk capped storage space.\r\n\r\nBelow trimmed down execution on 5 servers with varying amount of stuff already on the /home directory:\r\n```yaml\r\nPLAY [all] ***********************************************************************************************************************************************************************************\r\n\r\nTASK [test : copy random file to /random src=random, force=True, mode=a=rwX, dest=/random, group=root, owner=root] ***************************************************************\r\nchanged: [auslslnxsd4958]\r\nchanged: [auslslnxsd5505]\r\nchanged: [auslslnxsd3899]\r\nchanged: [auslslnxsd5502]\r\nchanged: [auslslnxsd4960]\r\n\r\nTASK [test : debug copied var=copied] ****************************************************************************************************************************************************\r\nok: [auslslnxsd4958] => {\r\n    \"copied\": {\r\n        \"checksum\": \"0f1d62e25d9487eed4c302a7320d3dd2e37c97cd\", \r\n        \"dest\": \"/random\", \r\n        \"size\": 1761767424, \r\n    }\r\n}\r\nok: [auslslnxsd5505] => {\r\n    \"copied\": {\r\n        \"checksum\": \"5aa686f6fc2038a57bc053c4f7256d1a0144c2a8\", \r\n        \"dest\": \"/random\",\r\n        \"size\": 1913671680\r\n    }\r\n}\r\nok: [auslslnxsd3899] => {\r\n    \"copied\": {\r\n        \"checksum\": \"96febf0131e1e8e70d883bd74e3b66ee1bcbd67d\", \r\n        \"dest\": \"/random\", \r\n        \"size\": 1911713792\r\n    }\r\n}\r\nok: [auslslnxsd5502] => {\r\n    \"copied\": {\r\n        \"checksum\": \"7bd512c18837afd438df718d9304c94a12bacd7a\", \r\n        \"dest\": \"/random\", \r\n        \"size\": 1913860096 \r\n    }\r\n}\r\nok: [auslslnxsd4960] => {\r\n    \"copied\": {\r\n        \"checksum\": \"b761ec98e3578742c2911851fa8f712cbb531de2\", \r\n        \"dest\": \"/random\", \r\n        \"size\": 1915072512 \r\n    }\r\n}\r\n\r\nTASK [test : local stat of random file path={{ role_path }}/files/random] ****************************************************************************************************************\r\nok: [auslslnxsd4958 -> localhost]\r\nok: [auslslnxsd5505 -> localhost]\r\nok: [auslslnxsd3899 -> localhost]\r\nok: [auslslnxsd5502 -> localhost]\r\nok: [auslslnxsd4960 -> localhost]\r\n\r\n\r\nTASK [test : debug random file stat msg={{ local_file.stat }}] **************************************************************************************************************************\r\nok: [auslslnxsd4958 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\nok: [auslslnxsd5505 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\nok: [auslslnxsd3899 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\nok: [auslslnxsd5502 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\nok: [auslslnxsd4960 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\n```", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35029/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Mixer9": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35025", "title": "Unicode characters used in blockinfile", "body": "<!---\r\nVerify first that your issue/request is not already reported on GitHub.\r\nAlso test if the latest release, and master branch are affected too.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest -->\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\nblockinfile\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.1.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /bin/ansible\r\n  python version = 2.7.5 (default, May  3 2017, 07:55:04) [GCC 4.8.5 20150623 (Red Hat 4.8.5-14)]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\n<!---\r\nIf using Ansible 2.4 or above, paste the results of \"ansible-config dump --only-changed\"\r\nOtherwise, mention any settings you have changed/added/removed in ansible.cfg\r\n(or using the ANSIBLE_* environment variables).\r\n-->\r\nPERSISTENT_CONNECT_TIMEOUT(/etc/ansible/ansible.cfg) = 30\r\nRETRY_FILES_SAVE_PATH(/etc/ansible/ansible.cfg) = /tmp/ansibleretry\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nRed Hat Enterprise Linux Server release 7.3 (Maipo)\r\n\r\n##### SUMMARY\r\n<!--- Explain the problem briefly -->\r\nI want to edit the /etc/bashrc file to make the prompt turn red when you are root (uid 0), this requires control characters to set the color, these are apparently not allowed.\r\n\r\n##### STEPS TO REPRODUCE\r\n<!---\r\nFor bugs, show exactly how to reproduce the problem, using a minimal test-case.\r\nFor new features, show how the feature would be used.\r\n-->\r\nRun the below playbook with the control characters in place, they will most likely get clobbered when I submit.  \r\n<!--- Paste example playbooks or commands between quotes below -->\r\n```\r\n---\r\n- hosts: all\r\n  become: yes\r\n\r\n\r\n  tasks:\r\n     - name: Set /etc/bashrc to have red prompt when root.\r\n       blockinfile:\r\n         backup: yes\r\n         path: /etc/bashrc\r\n         state: present\r\n         block: |\r\n           if [ $(id -u) -eq 0 ];\r\n           then # you are root, set red colour prompt\r\n             PS1=\"\\[^[[31m\\][\\u@\\h:\\w]# \\[^[(B^[[m\\]\"\r\n           else # normal\r\n             PS1=\"[\\u@\\h:\\w]$ \"\r\n           fi\r\n         insertafter: \"# vim:ts=4:sw=4\"\r\n       register: insert\r\n```\r\n\r\n<!--- You can also paste gist.github.com links for larger files -->\r\n\r\n##### EXPECTED RESULTS\r\n<!--- What did you expect to happen when running the steps above? -->\r\nI expected the playbook to run successfully and edit the file to include the control characters.\r\n\r\n##### ACTUAL RESULTS\r\n<!--- What actually happened? If possible run with extra verbosity (-vvvv) -->\r\nIt would not run but produced the error below.\r\n\r\n<!--- Paste verbatim command output between quotes below -->\r\n```\r\nERROR! Syntax Error while loading YAML.\r\n\r\nexception type: <class 'yaml.reader.ReaderError'>\r\nexception: unacceptable character #x001b: control characters are not allowed\r\n  in \"<unicode string>\", position 330\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/35023", "title": "jabber module fails with messages successfully sent", "body": "<!---\r\nVerify first that your issue/request is not already reported on GitHub.\r\nAlso test if the latest release, and master branch are affected too.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\njabber\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.4.1.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /bin/ansible\r\n  python version = 2.7.5 (default, May  3 2017, 07:55:04) [GCC 4.8.5 20150623 (Red Hat 4.8.5-14)]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\nPERSISTENT_CONNECT_TIMEOUT(/etc/ansible/ansible.cfg) = 30\r\nRETRY_FILES_SAVE_PATH(/etc/ansible/ansible.cfg) = /tmp/ansibleretry\r\n\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nRed Hat Enterprise Linux Server release 7.3 (Maipo)\r\nJabber server version unknown, I don't own the server.\r\n\r\n##### SUMMARY\r\nJabber module successfully sends the message with my playbook but reports a failure.\r\n\r\n##### STEPS TO REPRODUCE\r\n\r\nRun the playbook as shown below after editing the host to match your environment, the message passed will be delivered but the playbook will report a fail.\r\n\r\n```\r\n  - name: Jabber Test\r\n    hosts: localhost\r\n    gather_facts: no\r\n\r\n    tasks:\r\n    - name: Send Jabber message\r\n      jabber:\r\n        user: \"{{ user }}\"\r\n        password: \"{{ pass }}\"\r\n        to: \"{{ user2 }}\"\r\n        msg: \"{{ message }}\"\r\n        host: <jabber server redacted>\r\n\r\n```\r\n\r\n##### EXPECTED RESULTS\r\nI expected a success returned after message was sent.\r\n\r\n##### ACTUAL RESULTS\r\nansible returned a \"failed\": true when it successfully sent the message.\r\n\r\nfatal: [localhost]: FAILED! => {\r\n    \"changed\": false,\r\n    \"failed\": true,\r\n\r\n```\r\nThe full traceback is:\r\nTraceback (most recent call last):\r\n  File \"/tmp/ansible_oK1Fax/ansible_module_jabber.py\", line 157, in main\r\n    conn.disconnect()\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 378, in disconnect\r\n    while self.Process(1): pass\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 123, in Process\r\n    self.Stream.Parse(data)\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/simplexml.py\", line 425, in endtag\r\n    self.dispatch(self._mini_dom)\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 311, in dispatch\r\n    if user and self._defaultHandler: self._defaultHandler(session,stanza)\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 206, in returnStanzaHandler\r\n    conn.send(Error(stanza,ERR_FEATURE_NOT_IMPLEMENTED))\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 372, in send\r\n    self._owner_send(stanza)\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/transports.py\", line 251, in send\r\n    self._owner.disconnected()\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/client.py\", line 129, in disconnected\r\n    for i in self.disconnect_handlers: i()\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/client.py\", line 137, in DisconnectHandler\r\n    raise IOError('Disconnected from server.')\r\nIOError: Disconnected from server.\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "abhigrover": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35015", "title": "Including playbook and passing ssh_user and ssh_pass", "body": "##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest -->\r\n - Bug Report\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.3.0.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = Default w/o overrides\r\n  python version = 2.7.13 (default, Mar 13 2017, 20:56:15) [GCC 5.4.0]\r\n```\r\n##### COMPONENT NAME\r\nsetup\r\n\r\n##### CONFIGURATION\r\n<!---\r\nIf using Ansible 2.4 or above, paste the results of \"ansible-config dump --only-changed\"\r\nOtherwise, mention any settings you have changed/added/removed in ansible.cfg\r\n(or using the ANSIBLE_* environment variables).\r\n-->\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nWindows\r\n##### SUMMARY\r\n<!--- Explain the problem briefly -->\r\nI am trying to have a parent playbook call a child playbook, while passing in the \"host\" to run against, ssh username to use and ssh password to use to connect to this host. Calling the child playbook by itself works, but from the parent playbook I am getting \"Authentication failure\".\r\n##### STEPS TO REPRODUCE\r\n<!---\r\nFor bugs, show exactly how to reproduce the problem, using a minimal test-case.\r\nFor new features, show how the feature would be used.\r\n-->\r\n\r\n<!--- Paste example playbooks or commands between quotes below -->\r\nParent playbook - test_play_include.yml\r\n```\r\n---\r\n- include: test_play_passhostuserpass.yml t_host=\"host.example.com\" ssh_user=admin_user ssh_pass=\"sec#ret$pass\"\r\n```\r\nChild playbook - test_play_passhostuserpass.yml\r\n```\r\n---\r\n- hosts: all:&{{t_host}}\r\n\r\n  vars:\r\n  - ansible_ssh_user: \"{{ssh_user}}\"\r\n  - ansible_ssh_pass: \"{{ssh_pass}}\"\r\n  tasks:\r\n  - name: Show user account\r\n    shell: \"echo $USER\"\r\n```\r\n<!--- You can also paste gist.github.com links for larger files -->\r\n\r\n##### EXPECTED RESULTS\r\n<!--- What did you expect to happen when running the steps above? -->\r\nansible-playbook test_play_include.yml -i inventory\r\nshould connect to the host successfully\r\n##### ACTUAL RESULTS\r\n<!--- What actually happened? If possible run with extra verbosity (-vvvv) -->\r\nIf I run the child playbook by itself using the below, it works:\r\nansible-playbook test_play_passhostuserpass.yml -e 't_host=\"host.example.com\" ssh_user=admin_user ssh_pass=\"secret#ret$pass\"' -i inventory\r\n\r\nHowever, this fails:\r\n ansible-playbook test_play_include.yml -i inventory\r\n\r\n$ ansible-playbook test_play_include.yml -i inventory\r\n\r\nPLAY [all:&host.example.com] ******************************************************************************************************************************************\r\n\r\nTASK [Gathering Facts] ****************************************************************************************************************************************************\r\nfatal: [host.example.com]: UNREACHABLE! => {\"changed\": false, \"msg\": \"Authentication failure.\", \"unreachable\": true}\r\n        to retry, use: --limit @/home/myuser/ansible/mydir/test_play_include.retry\r\n\r\nPLAY RECAP ****************************************************************************************************************************************************************\r\nhost.example.com       : ok=0    changed=0    unreachable=1    failed=0\r\n\r\n<!--- Paste verbatim command output between quotes below -->\r\n```\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sivel": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/29c1d5cb5d283c649a5bc30dce53b8e4875d01d3", "message": "Ensure that the become password is written on py3 in the ssh connection plugin. Fixes #34727"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/3c400c5899ca7c71b49087ffeae7153191e54c33", "message": "ANSIBLE_METADATA doesn't support YAML currently, change 315 to invalid data type (#35009)"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/b20df1be02765db46edef887d51d0896bbec2570", "message": "Make template action respect local_tmp. Fixes #34941 (#35005)"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/2cb810544cacd1ff96d5f63b1370a9328f89a83f", "message": "Address missing extends_documentation_fragment (#35008)\n\n* Address missing extends_documentation_fragment\r\n\r\n* Document purge_aliases"}], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35017", "title": "Make sure we don't try to inspect DOCUMENTATION if None", "body": "##### SUMMARY\r\n\r\nGuard against inspecting `DOCUMENTATION` in a plugin, that doesn't have `DOCUMENTATION`\r\n\r\nCurrently if you have a custom callback without `DOCUMENTATION` you would get a trace similar to the following:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/bin/ansible-playbook\", line 118, in <module>\r\n    exit_code = cli.run()\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/cli/playbook.py\", line 122, in run\r\n    results = pbex.run()\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/executor/playbook_executor.py\", line 89, in run\r\n    self._tqm.load_callbacks()\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/executor/task_queue_manager.py\", line 190, in load_callbacks\r\n    for callback_plugin in callback_loader.all(class_only=True):\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/plugins/loader.py\", line 462, in all\r\n    self._update_object(obj, name, path)\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/plugins/loader.py\", line 346, in _update_object\r\n    self._load_config_defs(name, path)\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/plugins/loader.py\", line 217, in _load_config_defs\r\n    if 'options' in dstring and isinstance(dstring['options'], dict):\r\nTypeError: argument of type 'NoneType' is not iterable\r\n```\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nlib/ansible/plugins/loader.py\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\ndevel\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/35002", "title": "Don't skip an inventory source just because it has a comma", "body": "##### SUMMARY\r\nDon't skip an inventory source just because it has a comma, make sure it's also doesn't exist as a path. Fixes #34931\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nlib/ansible/vars/manager.py\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\ndevel\r\n2.4\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "tiggi": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/fb18338cdc7120b6f6ccfc39472748d3e3e80b1f", "message": "Change documentation for path: in openssl_csr to match reality (#35045)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "seuf": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/9b07746ff1a5c83872f1e660f8eff9e152c51365", "message": "New module: monitoring/grafana_datasource (#29006)\n\n* Add monitoring/grafana_datasource module\r\n\r\nadded ds type mysql and postgres + check of parameters\r\n\r\n* Added option max_concurrent_shard_requests for es_version >= 5.6"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Spredzy": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/a2b00e9b5201f52355643b6f8c2967d798dd6d54", "message": "openssl_certificate: Ensure issuer field is set (#34982)\n\nEnsure the Issuer field of the certificate is set when using the\r\nselfsigned backend.\r\n\r\nFixes: https://github.com/ansible/ansible/issues/34963"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Akasurde": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/cf88bfdbbf745e7cd2c063f112581db88590a4d0", "message": "VMware: Refactor vmware_maintenancemode module (#35000)\n\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/bf2ce55ca6241464104e38d3d1e205022303b498", "message": "VMware: Add new module: vmware_host_config_manager (#34627)\n\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>"}], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35040", "title": "VMware: add new module: vmware_host_acceptance", "body": "\r\n##### SUMMARY\r\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nlib/ansible/modules/cloud/vmware/vmware_host_acceptance.py\r\ntest/integration/targets/vmware_host_acceptance/aliases\r\ntest/integration/targets/vmware_host_acceptance/tasks/main.yml\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5devel\r\n```", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/35036", "title": "VMware: add new module: vmware_host_package_facts", "body": "##### SUMMARY\r\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>\r\n\r\n##### ISSUE TYPE\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nlib/ansible/modules/cloud/vmware/vmware_host_package_facts.py\r\ntest/integration/targets/vmware_host_package_facts/aliases\r\ntest/integration/targets/vmware_host_package_facts/tasks/main.yml\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5devel\r\n```", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34984", "title": "VMware: add new module: vmware_host_vmnic_facts", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nlib/ansible/modules/cloud/vmware/vmware_host_vmnic_facts.py\r\ntest/integration/targets/vmware_host_vmnic_facts/aliases\r\ntest/integration/targets/vmware_host_vmnic_facts/tasks/main.yml\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5devel\r\n```", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "trishnaguha": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/8a6d69919863c2b1583da03e91e1c2108cde892c", "message": "Enable nxapi nxos_banner test (#35033)\n\nSigned-off-by: Trishna Guha <trishnaguha17@gmail.com>"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/f806a58a5e3d8089ba2bb68cd45edfa0233cc975", "message": "Idempotency test for enabled mode nxos_udld_interface (#35031)\n\nSigned-off-by: Trishna Guha <trishnaguha17@gmail.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "indispeq": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/943730b70c1f1cf2f3cd21b268a1d5e8638a5f8a", "message": "Update pamd.py to allow module path with slashes (#32197)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "jborean93": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/630ae01f91e4ee93e5e1d5c0c9944a27be5bf730", "message": "win_wait_for: fix tests after attempts change (#35026)"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/f0134079e3aaff3a6c8d31ff55cd3d01c82f2bc8", "message": "win_script: work when argument exceeds stdin buffer size (#33855)\n\n* win_script: work when argument exceeds stdin buffer size\r\n\r\n* Added test for large argument being passed"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/8edd1cf18220bbb2d8743035a3843ff4e4064c24", "message": "changed to enable windows temp path override (#34967)"}], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35027", "title": "template: change to pass along the correct template path", "body": "##### SUMMARY\r\nWhen running win_template it will give a warning saying it failed to delete a temporary directory. This change fixes\r\n\r\n* Shares the same temp path with template and copy so that copy does not create an extra unneeded directory\r\n* Fixes the cleanup in template to source the correct template path, for Windows this was trying to delete the new copy tmp path which no longer existed and left another one created by template initially (not sure about POSIX hosts)\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\ntemplate\r\n\r\n##### ANSIBLE VERSION\r\n```\r\n2.5\r\n```", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "cwarner-mdsol": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/e6d01ff7e302211ed01efda13fdcb1e9b3121b50", "message": "fix for ec2 module terminating instances outside of inventory -- Fixes #19427 (#26621)\n\n* Proposed fix for issue 19427\n\n* Use string_types and to_text for evaluation, if not on empty dict.\n\n* if int, to_text and continue on"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "prasadkatti": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/5a9562a1012debab80768b17aefd6cd99f4f694f", "message": "Add option to toggle describe_image_attribute lookups (#34977)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mattclay": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/20824b8f3d8afefe1d442d2aac4752482dab448a", "message": "Simplify Windows versions in ansible-test."}, {"url": "https://api.github.com/repos/ansible/ansible/commits/f9f6080630f1a50b42ae7d5313339a03e2ef69ca", "message": "Improve handling of ansible-doc sanity errors."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "caphrim007": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/8cc0e744482313faf9103ecda47e52672792386c", "message": "Adds better error handling to f5 api connections (#35020)\n\nPreviously, the failure of the API connection would result\r\nin a stack trace. This patch makes the failure capable of exiting\r\nwith fail_json"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "nitzmahone": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/3371b5eb03366a7d7d683050a8bc50904e2fed3f", "message": "restore format arg to azure_rm_common errmsg"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/3e56883c44cc54d11c649a0eb64fd6b1a12f1322", "message": "zap extra format args from azure_rm_common errmsg"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/68ccd5fc007e5f062dc95ca28c822b3b404f8211", "message": "fix minimum client version checking (#35018)\n\n* bump minimum client versions to match requirements file\r\n* improve prescriptive error messaging to match current recommendations"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/e726c7ecf72772f35d4defb61f112026cfce6464", "message": "disable host_key_checking in virtualmachine test"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "elad661": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/ea1361a9273d4b31391f08eb7d7a5e3d44b6161e", "message": "modules/na_cdot_lun: properly compare LUN size (#34846)\n\ncurrent_size is returned from the API as string, while self.size\n(the requested size) is an integer. This caused the comparison\nto always be False, and a resize request to always be sent."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "gundalow": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/9a32f5c88964054c6f2cb042658b1bf0b4e88f18", "message": "Add missing extends_documentation_fragment (#35013)\n\nNXOS modules need more work, though that will all be in\nmodule_docs_fragments/nxos.py"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "themr0c": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/5b52bfad6dd1f8fd6447557948ca2b42465863cf", "message": "azure_rm inventory should add \"ansible_connection: winrm\" in host_vars for windows hosts - fixes #34689 (#34691)\n\n* fix for https://github.com/ansible/ansible/issues/34689\r\nazure_rm inventory should add \"ansible_connection: winrm\" in host_vars for windows hosts\r\n\r\n* add ansible_connection: winrm - fix for https://github.com/ansible/ansible/issues/34689"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "brunocalogero": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/e130b3eed25dafc924133caba766213d6127aa50", "message": "added aci_switch_leaf_selector integration tests (#34951)"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/1166e181ecdf3a9c82514590c505df3e7b781f80", "message": "added aci_switch_leaf_policy_profile integration tests (#34952)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "clarkst": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/e4f294822f77f116a47073f6e4cb68bde9a0ac9b", "message": "[cloud] kinesis stream server side encryption - fixes #30269 (#30689)\n\n* Moved the encryption to its own action method.\r\n\r\n* removed silly default value for encryption type.\r\n\r\n* Code formatting issues from pull request ANSIBOT.\r\n\r\n* changed version_added to  \"2.5\"\r\nbecause of new new options available\r\n\r\n* changed version_added to  \"2.5\"\r\nbecause of new new options available\r\n\r\n* changed version_added to  \"2.5\"\r\nbecause of new new options available"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Qalthos": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35054", "title": "ios_l2_interface", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\nNew module ios_l2_interface\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Feature Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nios_l2_interface\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5\r\n```", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "evrardjp": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35053", "title": "New module etcd3", "body": "This module uses etcd3 python library to do k/v manipulation on\r\nan etcd3 cluster using version3 api.\r\n\r\n##### SUMMARY\r\nThis adds an etcd3 module to ansible.\r\nIt uses a native version 3 calls to modify key/values on the cluster.\r\n\r\n##### ISSUE TYPE\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\netcd3\r\n\r\n##### ANSIBLE VERSION\r\n\r\ndevel\r\n\r\n##### ADDITIONAL INFORMATION\r\n\r\nNone", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "snecklifter": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35043", "title": "Add OpenStack Director provider", "body": "##### SUMMARY\r\nAdds the ability to create an OpenStack Director provider in\r\nManageIQ.\r\n\r\n##### ISSUE TYPE\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\nremote_management/manageiq\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (add-director-provider 382471890b) last updated 2018/01/18 12:14:40 (GMT +100)\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "yuwzho": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35038", "title": "Fixes 27878: subnet should in the virtual network resource group", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\nFixes #27878\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.4\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/35037", "title": "Fix #29593 delete subnet should be idempotent", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\nFixes #29593\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.4\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "aajdinov": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35035", "title": "Oneandone cloud provider bulk one", "body": "##### SUMMARY\r\nAdding three new cloud modules to support oneandone firewall policy, load balancer, and monitoring policy management. Also included in the PR is an update made to oneandone_server module to support server types, wait interval, and custom url, as well as a small update to oneandone module util. \r\n\r\n##### ISSUE TYPE\r\n - Feature Pull Request\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\noneandone_firewall_policy cloud module\r\noneandone_load_balancer cloud module\r\noneandone_monitoring_policy cloud module\r\noneandone_server cloud module\r\noneandone module_util\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (oneandone_cloud_provider_bulk_one 609d2a27a5) last updated 2018/01/18 07:54:49 (GMT +200)\r\n  config file = /etc/ansible/ansible.cfg\r\n  python version = 2.7.12 (default, Nov 20 2017, 18:23:56) [GCC 5.4.0 20160609]\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nBelow is the output from some of the test playbooks utilizing the new modules:\r\n```\r\nFirewall policy create\r\n=================\r\n\r\nPLAY [localhost] ****************************************************************\r\n\r\nTASK [Gathering Facts] *******************************************************\r\nok: [localhost]\r\n\r\nTASK [Create a firewall policy] ***********************************************\r\nchanged: [localhost]\r\n\r\nPLAY RECAP ********************************************************************\r\nlocalhost                  : ok=2    changed=1    unreachable=0    failed=0   \r\n\r\n```\r\n\r\n```\r\nLoad balancer create\r\n=================\r\n\r\nPLAY [localhost] *****************************************************************\r\n\r\nTASK [Gathering Facts] ********************************************************\r\nok: [localhost]\r\n\r\nTASK [Create a load balancer] ***********************************************\r\nchanged: [localhost]\r\n\r\nPLAY RECAP ********************************************************************\r\nlocalhost                  : ok=2    changed=1    unreachable=0    failed=0  \r\n```\r\n\r\n```\r\nMonitoring policy create\r\n===================\r\n\r\nPLAY [localhost] ****************************************************************\r\n\r\nTASK [Gathering Facts] ******************************************************\r\nok: [localhost]\r\n\r\nTASK [Create a monitoring policy] ******************************************\r\nchanged: [localhost]\r\n\r\nPLAY RECAP ********************************************************************\r\nlocalhost                  : ok=2    changed=1    unreachable=0    failed=0   \r\n```\r\n", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "willthames": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35028", "title": "Add aws_s3 action plugin to find source files as expected", "body": "##### SUMMARY\r\nPeople expect to be able to upload files to s3 using standard\r\nlocations for files.\r\n\r\nProviding an action plugin that effectively rewrites the `src`\r\nkey to the result of finding such a file is a great help.\r\n\r\nTests added, and IAM permissions corrected\r\n\r\n\r\n##### ISSUE TYPE\r\n - Feature Pull Request\r\n\r\n##### COMPONENT NAME\r\naws_s3\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (devel 5a9562a101) last updated 2018/01/18 10:21:40 (GMT +1000)\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/home/will/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /home/will/src/ansible/lib/ansible\r\n  executable location = /home/will/src/ansible/bin/ansible\r\n  python version = 2.7.14 (default, Dec 11 2017, 14:52:53) [GCC 7.2.1 20170915 (Red Hat 7.2.1-2)]\r\n```\r\n\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pilou-": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35024", "title": "webfaction modules: fix broken import", "body": "##### SUMMARY\r\nwebfaction mdoules: fix [broken import](https://github.com/ansible/community/wiki/Testing:-progress-tracker#fixing-broken-imports)\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nwebfaction modules\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.5.0 (devel 92b3d79283) last updated 2018/01/16 15:27:58 (GMT +200)\r\n```", "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34983", "title": "azure_rm_dnsrecordset: fix broken import and minor updates", "body": "##### SUMMARY\r\nazure_rm_dnsrecordset:\r\n- fix [broken import](https://github.com/ansible/community/wiki/Testing%3A-progress-tracker#list-of-things-that-need-unit-tests-eg-libraries-under-module_utils)\r\n- doc: use formatting function\r\n- remove unused dictionary\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nazure_rm_dnsrecordset\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (devel 92b3d79283) last updated 2018/01/16 15:27:58 (GMT +200)\r\n```", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "NickWilde1990": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35022", "title": "Fix typo in examples in Lookup/password plugin.", "body": "##### SUMMARY\r\nResolve typo in documentation examples section. Secondarily, fix a couple other typos.\r\n\r\n\r\n##### ISSUE TYPE\r\n - Docs Pull Request\r\n\r\n##### COMPONENT NAME\r\nDocs: Lookup/password", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "abadger": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35016", "title": "Fix copy for implicit relative paths", "body": "##### SUMMARY\r\ncopy currently fails if you specify a destination without any directory\r\ncomponent.  This is because we take the dirname of the destination for\r\nsome processing and no dirname causes issues.\r\n\r\nThis corrects that by prepending \"./\" if there is no directory component\r\nin dest.\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nlib/ansible/modules/file/copy.py\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\ndevel and earlier\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nThis has been behaviour for a long time (at least as far back as 1.9).", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34976", "title": "Remove AnsibleUnicode special handling", "body": "##### SUMMARY\r\nThis is code that we're not sure is needed anymore.  Run it through our CI system to gather some preliminary information about whether it could be removed.\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\ndataloader\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\ndevel\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nI think I wrote this code because we had a traceback at some point with pyyaml not able to handle our AnsibleUnicode type (the C library was doing an exact match to python's unicode type rather than testing with the object inheritance hierarchy.)   Neither jimi nor I are sure when AnsibleUnicode gets passed into this function, though, so we think it may be safe to remove this code now.", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "rambleraptor": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35014", "title": "GCP: DNS Managed Zones", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\nThis adds support for creating managed zones on GCP, along with a test runner and future utilities for adding more GCP resources.\r\n\r\n##### ISSUE TYPE\r\n - Feature Pull Request\r\n\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\ngcp_dns_managed_zone\r\n\r\n##### ANSIBLE VERSION\r\n```\r\n2.5\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nThis code was autogenerated using [Magic Modules](https://github.com/GoogleCloudPlatform/magic-modules)\r\n", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "ganeshrn": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35007", "title": "Add regex to catch ios error prompt", "body": "\r\n\r\n##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\n*  Move the error checking from ios_l3_module\r\n   to ios termianl plugin by adding additional\r\n   regex to catch error prompt.\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Bugfix Pull Request\r\n \r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nios_l3_interface\r\nterminal/ios\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "lrivallain": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35004", "title": "vmware: Add new module 'vmware_datastore_host'", "body": "##### SUMMARY\r\nNew Module: vmware_datastore_host - mount/umount datastore (both vmfs and nfs) on host(s)\r\n\r\n##### ISSUE TYPE\r\n- New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\nlib/ansible/modules/cloud/vmware/vmware_datastore_host.py\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (vmware_datastore ed922c2249) last updated 2018/01/16 21:33:51 (GMT +200)\r\n  config file = None\r\n  configured module search path = ['~/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']\r\n  ansible python module location = ~/wd/ansible/lib/ansible\r\n  executable location = ~/wd/ansible/bin/ansible\r\n  python version = 3.6.3 (default, Nov  3 2017, 19:47:38) [GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.42)]\r\n```\r\n\r\n##### ADDITIONAL INFORMATION\r\n```\r\n- name: Mount VMFS datastores to ESXi\r\n  vmware_datastore_host:\r\n      hostname: '{{ vcenter_hostname }}'\r\n      username: '{{ vcenter_user }}'\r\n      password: '{{ vcenter_pass }}'\r\n      datacenter_name: '{{ datacenter }}'\r\n      datastore_name: '{{ item.name }}'\r\n      datastore_type: '{{ item.type }}'\r\n      vmfs_device_name: 'naa.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'\r\n      vmfs_version: 6\r\n      esxi_hostname: '{{ inventory_hostname }}'\r\n      state: present\r\n  delegate_to: localhost\r\n- name: Mount NFS datastores to ESXi\r\n  vmware_datastore_host:\r\n      hostname: '{{ vcenter_hostname }}'\r\n      username: '{{ vcenter_user }}'\r\n      password: '{{ vcenter_pass }}'\r\n      datacenter_name: '{{ datacenter }}'\r\n      datastore_name: '{{ item.name }}'\r\n      datastore_type: '{{ item.type }}'\r\n      nfs_server: '{{ item.server }}'\r\n      nfs_path: '{{ item.path }}'\r\n      nfs_ro: no\r\n      esxi_hostname: '{{ inventory_hostname }}'\r\n      state: present\r\n  delegate_to: localhost\r\n  with_items:\r\n      - { 'name': 'NasDS_vol01', 'server': 'nas01', 'path': '/mnt/vol01', 'type': 'nfs'}\r\n      - { 'name': 'NasDS_vol02', 'server': 'nas01', 'path': '/mnt/vol02', 'type': 'nfs'}\r\n- name: Remove/Umount Datastores from ESXi\r\n  vmware_datastore_host:\r\n      hostname: '{{ vcenter_hostname }}'\r\n      username: '{{ vcenter_user }}'\r\n      password: '{{ vcenter_pass }}'\r\n      datacenter_name: '{{ datacenter }}'\r\n      datastore_name: NasDS_vol01\r\n      esxi_hostname: '{{ inventory_hostname }}'\r\n      state: absent\r\n  delegate_to: localhost\r\n```", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "anbsmile": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34998", "title": "win_iis_webapplication: added additional parameters", "body": "##### SUMMARY\r\nFeature #34994\r\n\r\n##### ISSUE TYPE\r\n - Feature Pull Request\r\n\r\n##### COMPONENT NAME\r\nwin_iis_webapplication\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/dist-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.12 (default, Nov 20 2017, 18:23:56) [GCC 5.4.0 20160609]\r\n\r\n```\r\n", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "balonik": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34996", "title": "Make vmware_guest always get a resource pool and properly create VM in chosen cluster", "body": "##### SUMMARY\r\nBackporting get_resource_pool from devel branch. This way the VM is properly created in cluster as specified by user in `cluster` option.\r\n\r\nFixing issue https://github.com/ansible/ansible/issues/34801\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nvmware_guest\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.1.0\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34995", "title": " Make vmware_guest always get a resource pool", "body": "##### SUMMARY\r\nSmall change to the code to always get a resource pool before the 'template'/'no-template' code where it would be called anyway.\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nvmware_guest\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34993", "title": "Updating lvol.py to better handle %PVS options when creating/resizing lvols.", "body": "##### SUMMARY\r\nUpdating lvol.py to better handle %PVS options when creating/resizing lvols.\r\n\r\n- Adds idempotency when the module is called N+ times and %PVS is used in `size`\r\n- Making the module inline with LVM2 man pages (lvcreate/lvextend), specifically with the description of `-l|--extents` option and sentence `The suffix %VG denotes the total size of the VG, the suffix %FREE the remaining free space in the VG, and the suffix %PVS the free space in the specified PVs`.\r\n- This update makes `pvs` option mandatory when %PVS is used in size, because it calculates requested size by adding size of specified PVS in `pvs` (to be inline with the above point).\r\n- Fixing errors like `\"msg\": \"Unable to resize lv_var_cache_pulp to 100%PVS\", \"rc\": 5)` when module is called N+ times, because it calculated size of VG and not only subset of PVS.\r\n\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nlvol\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.1.0\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\nBefore applied changes same task 2 times:\r\n- lvol: lv=lv_var_cache_pulp size=100%PVS pvs=/dev/sdc shrink=no state=present vg=vg_pulp\r\n- lvol: lv=lv_var_cache_pulp size=100%PVS pvs=/dev/sdc shrink=no state=present vg=vg_pulp\r\n\r\nwill result in:\r\nTASK [create_lvm : lvol] *****************************************************************************\r\nok: [server] => (item={'key': u'lv_var_cache_pulp', 'value': {u'path': u'/var/cache/pulp', u'pvs': u'/dev/sdc', u'mount': True, u'vg_name': u'vg_pulp', u'size': u'100%PVS'}})\r\nTASK [create_lvm : lvol] *****************************************************************************\r\nfailed: [server] (item={'key': u'lv_var_cache_pulp', 'value': {u'path': u'/var/cache/pulp', u'pvs': u'/dev/sdc', u'mount': True, u'vg_name': u'vg_pulp', u'size': u'100%PVS'}}) => {\"changed\": false, \"err\": \"  WARNING: No free extents on physical volume \\\"/dev/sdc\\\".\\n  No specified PVs have space available.\\n\", \"failed\": true, \"item\": {\"key\": \"lv_var_cache_pulp\", \"value\": {\"mount\": true, \"path\": \"/var/cache/pulp\", \"pvs\": \"/dev/sdc\", \"size\": \"100%PVS\", \"vg_name\": \"vg_pulp\"}}, \"msg\": \"Unable to resize lv_var_cache_pulp to 100%PVS\", \"rc\": 5}\r\n```\r\n", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "resmo": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34991", "title": "doc: fix loop examples", "body": "##### SUMMARY\r\nfix loop examples, \r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Docs Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\ndoc\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "cnasten": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34986", "title": "NSO: handle types for leaf-lists in nso_config (ValueBuilder)", "body": "Fixes: #34985\r\n\r\n##### SUMMARY\r\nThis reads the type information for leaf-list elements from the appropriate part of the schema.\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nnso_config\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (nso_config_leaf-list_34985 e9efe8df5a) last updated 2018/01/17 13:25:10 (GMT +200)\r\n  config file = None\r\n  configured module search path = [u'/home/cnasten/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /home/cnasten/dev/ansible/lib/ansible\r\n  executable location = /home/cnasten/dev/ansible/bin/ansible\r\n  python version = 2.7.14+ (default, Dec  5 2017, 15:17:02) [GCC 7.2.0]\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nSee #34985 for details.", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pmarques": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34980", "title": "Remove unused import from azure dyn inventory", "body": "##### SUMMARY\r\n\r\nRemove unused import from azure_rm dynamic inventory\r\n\r\n##### ISSUE TYPE\r\n\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\n\r\ncontrib/inventory/azure_rm.py\r\n\r\n##### ADDITIONAL INFORMATION\r\n\r\nThe module is importing a package that is not used and not installed by default.\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mpdehaan": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4399054", "body": "suggest a fix?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4399054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4399068", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4399068/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400040", "body": "possible uses:\n\nif this is the os\n\nif in this subnet or whatever\n\nif the last command returned X\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400040/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400147", "body": "also want to be able to do maybe\n\n```\n- action: blah\n  poll:  timeout=30 check_interval=5\n  onfail:   \n```\n\nso it's like a \"notify\" but different\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400174", "body": "Q: does fail mean stop unless there is an onfail?   \n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4433347", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4433347/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4433350", "body": "done, see lib/ansible/connection\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4433350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4435699", "body": "merged up, I don't think the stuff that parses the host file ignores lines starting with \"#\" so we will probably need to patch that.   Filing a ticket\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4435699/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4436134", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4436134/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444075", "body": "fixed\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444075/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444078", "body": "this is already done in /usr/bin/ansible, do similar to playbooks\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444078/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444081", "body": "-P implemented, see \"examples\" on the doc site\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444081/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444088", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444090", "body": "basically done / obsolete\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444090/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444097", "body": "needs to kick off jobs everywhere and then poll, and then fail the jobs that do not complete in time\n\nsee code in /usr/bin/ansible for use as a baseline\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444097/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4460335", "body": "more or less exists in module docs, but should indicate how to test them from CLI and a little more about req'd options\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4460335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4460914", "body": "also this should really happen only in one place, i.e. utils.\n\nmake a is_failed(result) function\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4460914/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4465583", "body": "Thanks, but needs changes.\n\nI agree this is good behavior, though library code should NEVER sys.exit(), this should raise an exception which we can catch in /bin/ansible and /bin/ansible-playbook, noting the type of the Exception and converting it to a friendly error message vs a stack trace.\n\nI need to make a common AnsibleException class in Utils, or you can.    Let me know.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4465583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4474035", "body": "I may have not pushed to public yet.  I am ok with pulling my commit from this pull request.\n\nWill pull/test tonight.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4474035/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489264", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489265", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489272", "body": "too confusing right now\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489276", "body": "options lines like \"async\" should also be able to use vars\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489302", "body": "we can run playbooks in the examples dir for this\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489304", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489311", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489319", "body": "moving to website tracker\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4490567", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4490567/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/1401943", "body": "hey, FYI... I had to revert this because it was not returning the path back to the function.  When running as users other than root, such as:\n\nansible all -m ping -u test\n\nyou can see it tries to transfer a file to a directory containing the unsubstituted $HOME\n\nNot sure of the best way to fix this but check it out with a non root user...\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/1401943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/1822311", "body": "Likely, will fix, thanks\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/1822311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2006552", "body": "I'll fix it, I need my cows.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2006552/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2006561", "body": "done!\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2006561/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2044646", "body": "I am pleased.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2044646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2271852", "body": "actually I'm probably going to drop supervisorctl from core as it's a bit of a niche module.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2271852/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2536497", "body": "Can you open a bug ticket?  if you commit on the commits the discussion can\nbe hard to find.\n\nOn Thu, Jan 31, 2013 at 11:07 AM, Luca Cipriani notifications@github.comwrote:\n\n> is this in conflict with\n> https://github.com/ansible/ansible/blob/devel/lib/ansible/playbook/play.py#L38? Because I have a ERROR:\n> private_key_file is not a legal parameter in an Ansible Playbook Seems\n> you have removed the functionality.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/ansible/ansible/commit/f5c6457de8a21ba5f22312d33cd315da4d6d0bf1#commitcomment-2536398.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2536497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2638641", "body": "minor suggestion: flatten deserves to be a function in utils ...\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2638641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2681502", "body": "I find being able to keep more on the same screen useful in this case.\n\nI also fixed an indentation error.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2681502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2756271", "body": "I tested it and it did.  Please paste your playbook?\n\nOn Thu, Mar 7, 2013 at 12:31 AM, Simon Law notifications@github.com wrote:\n\n> Sorry to be nitpicky\u2026 Don't these two lines have to occur before sourceand\n> dest are assigned to?\n> \n> Tested the patch and it doesn't work. [image: :frowning:]\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/ansible/ansible/commit/2bb305f6d57cc6b8158ac8f82b978a7def552d57#commitcomment-2756268\n> .\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2756271/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2756273", "body": "Ah hmm, my file already existed.  This is what you get for making me work\njet-lagged :)\n\nTo be clear, the complex arg stuff was really done to support the cloud\nformations module, it's not common that you'd actually code playbooks this\nway most of the time, but it's important that it should work.\n\nThe\n\ntemplate: src=value dest=value\n\nis how you normally write them...\n\nOn Thu, Mar 7, 2013 at 12:32 AM, Michael DeHaan michael.dehaan@gmail.comwrote:\n\n> I tested it and it did.  Please paste your playbook?\n> \n> On Thu, Mar 7, 2013 at 12:31 AM, Simon Law notifications@github.comwrote:\n> \n> > Sorry to be nitpicky\u2026 Don't these two lines have to occur before sourceand\n> > dest are assigned to?\n> > \n> > Tested the patch and it doesn't work. [image: :frowning:]\n> > \n> > \u2014\n> > Reply to this email directly or view it on GitHubhttps://github.com/ansible/ansible/commit/2bb305f6d57cc6b8158ac8f82b978a7def552d57#commitcomment-2756268\n> > .\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2756273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2756357", "body": "Totally, I'm excited about the option too.\n\nIt's cleaner than this:\n\nfoo: >\n   asdf=xyz\n   jkl=123\n\nAnd much more friendly to being machine readable.\n\nIt's just new, so pounding some bugs out of it is something we needed to do\n:)\n\nI especially like it now that you don't have to use \"args:\" and can just\nsay:\n- template:\n     src: asdf\n     dest: bar\n\nEtc.  This is pretty recent though I've pushed notes on that to the\nadvanced playbooks page of the docs site.  We did it so \"args\" keeps\nworking too though.\n\nOn Thu, Mar 7, 2013 at 12:41 AM, Simon Law notifications@github.com wrote:\n\n> I understand completely. Thanks for the support.\n> \n> Our use case is that we have some very long lines, and we use the complex\n> arguments so that our template lines are readable. We could have folded our\n> long lines, but the complex arguments looked the most aesthetically\n> pleasing.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/ansible/ansible/commit/2bb305f6d57cc6b8158ac8f82b978a7def552d57#commitcomment-2756294\n> .\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2756357/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "tbielawa": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4466728", "body": "Following up on this with another pull request.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4466728/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4466764", "body": "Uh. Weird. Looks like I pulled a commit from your mpdehaan fork that isn't in here yet. Want me to rebase this off of something else?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4466764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "pas256": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/1773303", "body": "That's a smarter fix - thanks\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/1773303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "serbaut": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/1822272", "body": "I think you are missing 'ansible.runner.action_plugins' here.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/1822272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "jejohns": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2006548", "body": "This broke cowsay for everyone else. :(\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2006548/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2006560", "body": "Thank you! This is breaking our cowsay SLA.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2006560/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "mastrolinux": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2536398", "body": "is this in conflict with https://github.com/ansible/ansible/blob/devel/lib/ansible/playbook/play.py#L38 ? Because I have a `ERROR: private_key_file is not a legal parameter in an Ansible Playbook` Seems you have removed the functionality.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2536398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "leucos": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2554038", "body": "Seems that this commit breaks devel for me :\n\n```\n((a79373f...)|BISECTING) $ python2 bin/ansible-playbook -l goat ~/.ansible/playbooks/tmux/setup.yml \n\nPLAY [ubuntu] ********************* \n\nGATHERING FACTS ********************* \nok: [goat]\n\nTASK: [Tmux | Installs tmux] ********************* \nfatal: [goat] => Traceback (most recent call last):\n  File \"/home/leucos/dev/ansible/lib/ansible/runner/__init__.py\", line 237, in _executor\n    exec_rc = self._executor_internal(host)\n  File \"/home/leucos/dev/ansible/lib/ansible/runner/__init__.py\", line 293, in _executor_internal\n    return self._executor_internal_inner(host, self.module_name, self.module_args, inject, port)\n  File \"/home/leucos/dev/ansible/lib/ansible/runner/__init__.py\", line 353, in _executor_internal_inner\n    if not getattr(handler, 'BYPASS_HOST_LOOP', False) and not utils.check_conditional(conditional):\n  File \"/home/leucos/dev/ansible/lib/ansible/utils/__init__.py\", line 155, in check_conditional\n    return eval(conditional.replace(\"\\n\", \"\\\\n\"))\nAttributeError: 'bool' object has no attribute 'replace'\n\n\nFATAL: all hosts have already failed -- aborting\n\nPLAY RECAP ********************* \ngoat                           : ok=1    changed=0    unreachable=1    failed=0    \n\n\n((a79373f...)|BISECTING) $\n```\n\nI'll try to set up a minimal example to reproduce.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2554038/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "briceburg": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2633554", "body": "+1 muchos gracias! Works with $PIPE as well.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2633554/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "jmrodri": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2681378", "body": "I know it's old, but the above looked easier to read :) It probably wasted a lot of space in a file, but it's definitely easier to look at. :D \n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2681378/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2681801", "body": "I figured there was a reason.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2681801/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "sfllaw": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2756294", "body": "I understand completely. Thanks for the support.\n\nOur use case is that we have some very long lines, and we use the complex arguments so that our template lines are readable. We could have folded our long lines, but the complex arguments looked the most aesthetically pleasing.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2756294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "blair": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2822649", "body": "Reading the URL at Amazon, isn't this the reverse logic?  EBS volumes should use /dev/sdf while local storage should use /dev/sdb?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2822649/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "tima": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2862436", "body": "This commit broke a unit test:\n\n```\nRegression\n\nTestRunner.TestRunner.test_lineinfile (from nosetests)\n\nError Message\n\n-------------------- >> begin captured stdout << ---------------------\nDEBUG: using args=dest=/.statelite/tmpfs/data/VCS/est-ax010-d/logs01/jenkins/workspace/ansible-devel/test/test_data/rocannon.out.txt regexp='^First: ' line='First: Line added by default at the end of the file.'\nRESULTS={'dark': {}, 'contacted': {'localhost': {u'msg': u'', 'invocation': {'module_name': 'lineinfile', 'module_args': \"dest=/.statelite/tmpfs/data/VCS/est-ax010-d/logs01/jenkins/workspace/ansible-devel/test/test_data/rocannon.out.txt regexp='^First: ' line='First: Line added by default at the end of the file.'\"}, u'changed': False}}}\n\n--------------------- >> end captured stdout << ----------------------\n\nStacktrace\n\nTraceback (most recent call last):\n  File \"/efs/dist/python/core/2.6.5/exec/lib/python2.6/unittest.py\", line 279, in run\n    testMethod()\n  File \"/.statelite/tmpfs/data/VCS/est-ax010-d/logs01/jenkins/workspace/ansible-devel/test/TestRunner.py\", line 308, in test_lineinfile\n    assert result['changed'] == True\nAssertionError: \n-------------------- >> begin captured stdout << ---------------------\nDEBUG: using args=dest=/.statelite/tmpfs/data/VCS/est-ax010-d/logs01/jenkins/workspace/ansible-devel/test/test_data/rocannon.out.txt regexp='^First: ' line='First: Line added by default at the end of the file.'\nRESULTS={'dark': {}, 'contacted': {'localhost': {u'msg': u'', 'invocation': {'module_name': 'lineinfile', 'module_args': \"dest=/.statelite/tmpfs/data/VCS/est-ax010-d/logs01/jenkins/workspace/ansible-devel/test/test_data/rocannon.out.txt regexp='^First: ' line='First: Line added by default at the end of the file.'\"}, u'changed': False}}}\n\n--------------------- >> end captured stdout << ----------------------\n```\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2862436/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2862663", "body": "Assuming I understand the intent of this code, I think is where the problem is: \n\n```\n# Do nothing if regexp didn't match\n    elif index[1] == -1:\n        msg = ''\n        changed = False \n```\n\nIt looks like the regexp match is being stored in index[0] and not index[1] based on this preceding code there:\n\n```\n# index[0] is the line num where regexp has been found\n# index[1] is the line num where insertafter/inserbefore has been found\nindex = [-1, -1]\nm = None\nfor lineno in range(0, len(lines)):\n    match_found = mre.search(lines[lineno])\n    if match_found:\n        index[0] = lineno\n        m = match_found\n    elif insre is not None and insre.search(lines[lineno]):\n        if insertafter:\n            # + 1 for the next line\n            index[1] = lineno + 1\n        if insertbefore:\n            # + 1 for the previous line\n            index[1] = lineno\n```\n\nEither the comment is wrong or the logic.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2862663/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "Tinche": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2870423", "body": "Probably it's the comment that's wrong; the author was probably referring to the insert\\* regexp.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2870423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "gw0": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2954275", "body": "I think this is a useful advanced usage pattern that shows how Ansible can work in practice. Imho it should be placed in a \"advanced usage examples\" subpage with a notice describing how the scope changes.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2954275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "mrjoes": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2966968", "body": "I'm sorry, but this particular change broke lineinfile with state='present'.\n\nConsider following example: lineinfile: dest=file.txt state=present regexp='abcd' line='1234'\n\nExpected behaviour: if 'abcd' is present, it should be replaced by '1234'.\nWhat actually happens:\n1. If line is found in the file, it will be replaced by the '1234'\n2. If line is not found in the file, it will be appended to the end of the file\n\nAssuming that all scripts should be re-runnable, every single run of the deployment script will append extra line to the configuration file and in lots of cases will prevent dependant programs from working.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2966968/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "lwade": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/3126501", "body": "If state is absent\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/3126501/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5564969", "body": "Yup, agreed and mentioned the same to Bruce in the other ticket, he'll make\nthe changes.\n\nWe also need to keep endpoint connection open outside of regions for\nEucalyptus cloud support.\nOn 2 Aug 2013 22:06, \"ianoc\" notifications@github.com wrote:\n\n> In library/cloud/ec2_elb:\n> \n> > @@ -181,9 +220,28 @@ def main():\n> >      if not ec2_access_key and 'EC2_ACCESS_KEY' in os.environ:\n> >          ec2_access_key = os.environ['EC2_ACCESS_KEY']\n> > -    if not ec2_region and 'EC2_REGION' in os.environ:\n> > -        ec2_region = os.environ['EC2_REGION']\n> >   +\n> > -    if not ec2_region:\n> > -        response = urllib2.urlopen('http://169.254.169.254/latest/meta-data/placement/availability-zone')\n> \n> The docs all previously referred to this being a local action, so calls to\n> AWS that can only be made from an instance don't make sense in that\n> context? How will this behave if the controlling node isn't on ec2? will\n> this throw an exception?\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/ansible/ansible/pull/3728/files#r5562980\n> .\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5564969/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "rrtj3": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/3503137", "body": "'err' should be stderr.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/3503137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "sejo": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/3538073", "body": "Is there a way to check this (without me adding import south statement or import imp and trying to load south?)\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/3538073/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/3551534", "body": "typo should be visudo not visdo :P\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/3551534/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "bcoca": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/3561034", "body": "You are hired as my personal spellchecker!\n\nWill resubmit PR with typo fix.\n\n## \n\nBrian Coca\nStultorum infinitus est numerus\n0110000101110010011001010110111000100111011101000010000001111001011011110111010100100000011100110110110101100001011100100111010000100001\nPedo mellon a minno\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/3561034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}]}, "chrisgardner": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/4444231", "body": "Typo: Ubntu should be Ubuntu.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/4444231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "dirtyharrycallahan": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/4716799", "body": "This will call problems on SuSE. Packages bundled with the SuSE distributions, both SuSE and openSuSE, add three header lines. Repeatedly calling crontab -l and using that output will result in the header being repeated for each call. I have a commit that fixes the cron module.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/4716799/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "jarv": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/4999465", "body": "is `region` missing from the argument_spec?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/4999465/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/4999509", "body": "comment is a little misleading I think, should it be \"provisioning new AMIs?\"\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/4999509/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/4999526", "body": "I would change this to \"Create new image\"\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/4999526/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/4999602", "body": "If the image doesn't exist we might want to exit here with changed=False\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/4999602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/4999636", "body": "I don't see this exception used anywhere, is the import necessary?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/4999636/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/4999665", "body": "the variable `changed` doesn't look like it's used\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/4999665/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/4999717", "body": "Better to use \"is\" when comparing to None\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/4999717/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5068466", "body": "I think we need to add region to the argument_spec\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5068466/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "pol": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5196396", "body": "This is confusing or wrong, is it considered changed when it is true or false?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5196396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5196582", "body": "Grammar is clumsy, recommended change:\n\nUse the \"changed_when\" option to override the default module \"change\" reporting.  The \"changed_when\" option takes a Python expression.  ...\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5196582/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "omgjlk": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5491507", "body": "Trailing bracket here\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5491507/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5491842", "body": "I think the main objection was the = sign in here. Yaml can represent a hash, which is what the rax module is looking for, like this:\n\n  files:\n    /root/.ssh/authorized_keys: /home/localuser/.ssh/id_rsa.pub\n    /root/test.txt: /home/localuser/test.txt\n\nGrr. The file listings should be indented under files: but this text box won't let me do that.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5491842/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}]}, "ianoc": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5562980", "body": "The docs all previously referred to this being a local action, so calls to AWS that can only be made from an instance don't make sense in that context? How will this behave if the controlling node isn't on ec2? will this throw an exception?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5562980/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5562999", "body": "elb_regions is a function in boto that should be used instead of another variable that will need to be maintained externally to boto?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5562999/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5563023", "body": "If you use the elb regions needing endpoint hostnames goes away too\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5563023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}, "skyl": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/6753023", "body": "hrm, I would like to put a comma in here too if I'm going to get the blame :/\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/6753023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "jimi-c": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/6753337", "body": "Go ahead.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/6753337/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}]}, "mjschultz": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/7079981", "body": "Using a redis backed elasticache, I'm getting a TypeError on this line (below). It looks like redis doesn't have a ConfigurationEndpoint. It does have the node endpoint port at `self.data['CacheNodes'][0]['Endpoint']['Port']`. (Assuming there is a cache node.)\n\n```\n  File \"/Users/mjschultz/.ansible/tmp/ansible-1382205363.79-120642222168443/elasticache\", line 403, in _requires_destroy_and_create\n    'cache_port': self.data['ConfigurationEndpoint']['Port']\nTypeError: 'NoneType' object is not subscriptable\n```\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/7079981/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}}, "3": {"mtnbikenc": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35051", "title": "ansible_virtualization_type and ansible_virtualization_role not recognized for Amazon EC2 C5 Instances", "body": "<!---\r\nVerify first that your issue/request is not already reported on GitHub.\r\nAlso test if the latest release, and master branch are affected too.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest -->\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\n<!---\r\nName of the module, plugin, task or feature\r\nDo not include extra details here, e.g. \"vyos_command\" not \"the network module vyos_command\" or the full path\r\n-->\r\nlib/ansible/module_utils/facts/virtual/linux.py\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.5.0 (devel fb18338cdc) last updated 2018/01/18 11:02:22 (GMT -400)\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/home/rteague/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /home/rteague/git/clusters/aws-c1/ansible/lib/ansible\r\n  executable location = /home/rteague/git/clusters/aws-c1/ansible/bin/ansible\r\n  python version = 2.7.14 (default, Jan 11 2018, 14:45:11) [GCC 7.2.1 20170915 (Red Hat 7.2.1-2)]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\n<!---\r\nIf using Ansible 2.4 or above, paste the results of \"ansible-config dump --only-changed\"\r\nOtherwise, mention any settings you have changed/added/removed in ansible.cfg\r\n(or using the ANSIBLE_* environment variables).\r\n-->\r\n```\r\n$ ansible-config dump --only-changed\r\n(no output)\r\n```\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nN/A\r\n\r\n##### SUMMARY\r\n<!--- Explain the problem briefly -->\r\nAmazon EC2 C5 instances are not properly recognized due to a change in bios_vendor/sys_vendor identifier.\r\n\r\n##### STEPS TO REPRODUCE\r\n<!---\r\nFor bugs, show exactly how to reproduce the problem, using a minimal test-case.\r\nFor new features, show how the feature would be used.\r\n-->\r\nOn a C5 instance:\r\n```\r\n$ ansible -m setup all -i /tmp/c5_host |grep \"virtualization\"\r\n        \"ansible_virtualization_role\": \"NA\", \r\n        \"ansible_virtualization_type\": \"NA\", \r\n```\r\n\r\n\r\n\r\n##### EXPECTED RESULTS\r\n<!--- What did you expect to happen when running the steps above? -->\r\nExpected _role and _type to be properly populated.\r\n\r\n##### ACTUAL RESULTS\r\n<!--- What actually happened? If possible run with extra verbosity (-vvvv) -->\r\n\r\n<!--- Paste verbatim command output between quotes below -->\r\n```\r\nChecked on the EC2 C5 instance:\r\n# cat /sys/devices/virtual/dmi/id/bios_vendor\r\nAmazon EC2\r\n# cat /sys/devices/virtual/dmi/id/sys_vendor\r\nAmazon EC2\r\n# cat /sys/devices/virtual/dmi/id/product_name\r\nc5.large\r\n\r\nChecking on a normal EC2 instance:\r\n# cat /sys/devices/virtual/dmi/id/bios_vendor\r\nXen\r\n# cat /sys/devices/virtual/dmi/id/sys_vendor\r\nXen\r\n# cat /sys/devices/virtual/dmi/id/product_name\r\nHVM domU\r\n```\r\nPlease see related bug: https://bugzilla.redhat.com/show_bug.cgi?id=1533099", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35051/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dagwieers": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35050", "title": "aci_rest: Using status=\"created\" behaves differently than status=\"deleted\"", "body": "##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\naci_rest\r\n\r\n##### ANSIBLE VERSION\r\nv2.4+\r\n\r\n##### SUMMARY\r\nIf you use a REST payload with **aci_rest** using `status=\"created\"` the action is not idempotent. The first time (when the object does not exist) it works (`changed=True`), but a subsequent call fails as the APIC returns an HTTP failure.\r\n\r\nHowever, if you do the same for removing an object using `status=\"deleted\"` the action *is* idempotent. So a subsequent call works (and does not report a change, `changed=False`) as one would expect.\r\n\r\nThis seems an implementation issue in the APIC.\r\n\r\n**PS** If you would add `status=\"created,modified\"` or simply `status=\"modified\"` your task will be idempotent and it will not lead to failures on subsequent runs.\r\n\r\n##### STEPS TO REPRODUCE\r\nThis will cause a failure on a subsequent create:\r\n```xml\r\n<aaaUserCert dn=\"uni/userext/user-admin/usercert-admin\" data=\"-----BEGIN CERTIFICATE-----\\r\\nMII<snip>NGg\\r\\n-----END CERTIFICATE\\r\\n\" name=\"admin\" rn=\"usercert-admin\" status=\"created\"/>\r\n```\r\n\r\nThis will not cause a failure on a subsequent removal:\r\n```xml\r\n<aaaUserCert dn=\"uni/userext/user-admin/usercert-admin\" name=\"admin\" rn=\"usercert-admin\" status=\"deleted\"/>\r\n```\r\n\r\nHowever using `status=\"modified\"` will always work.\r\n\r\nThis report wants to highlight that creation and deletion have a different behaviour.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35050/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35052", "title": "ACI: Fix validate-module tests E322 and E323", "body": "##### SUMMARY\r\nThis PR includes:\r\n- Fix validate-module tests E322 and E323 for newer ACI modules\r\n- Keep a smaller list of (v2.4) modules that have deprecated parameters unlisted in docs\r\n- Move the protocol parameter out of aci_argument_spec and into specific (v2.4) modules\r\n- Fix 3 other issues of missing aliases in documentation (pool_allocation_mode and descr)\r\n\r\n##### ISSUE TYPE\r\n - Docs Pull Request\r\n\r\n##### COMPONENT NAME\r\naci modules\r\n\r\n##### ANSIBLE VERSION\r\nv2.5", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "freeseacher": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35048", "title": "import_tasks inside include_tasks generates confusing error", "body": "\r\n##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\ncore\r\n\r\n##### ANSIBLE VERSION\r\n\r\n```\r\n2.4.2.0 - v2.4.3.0-0.5.rc2\r\n```\r\n\r\n##### CONFIGURATION\r\n<!---\r\n# ansible-config dump --only-changed\r\nANSIBLE_PIPELINING(env: ANSIBLE_SSH_PIPELINING) = True\r\nCACHE_PLUGIN(env: ANSIBLE_CACHE_PLUGIN) = yaml\r\nCACHE_PLUGIN_CONNECTION(env: ANSIBLE_CACHE_PLUGIN_CONNECTION) = /tmp/ansible_cache\r\nDEFAULT_ROLES_PATH(env: ANSIBLE_ROLES_PATH) = [u'/opt/tower/var/tower/roles/NOC', u'/opt/tower/var/tower/playbooks/NOC']\r\nDEFAULT_STDOUT_CALLBACK(env: ANSIBLE_STDOUT_CALLBACK) = debug\r\nHOST_KEY_CHECKING(env: ANSIBLE_HOST_KEY_CHECKING) = False\r\n\r\n-->\r\n\r\n##### OS / ENVIRONMENT\r\nN/A\r\n\r\n##### SUMMARY\r\nwrong error generated if import_tasks found in include_tasks file\r\n\r\n##### STEPS TO REPRODUCE\r\n\r\n```yaml\r\n- include_tasks: \"os/{{ ansible_distribution }}/main.yml\"\r\n...\r\ninside\r\n...\r\n- import_tasks: \"firewall.yml\"\r\n\r\n```\r\n\r\n\r\n##### EXPECTED RESULTS\r\nimport error/lint error/any error\r\n\r\n##### ACTUAL RESULTS\r\n```\r\nfatal: [node1]: FAILED! => {\r\n    \"reason\": \"'ansible_distribution' is undefined\"\r\n}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35048/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "maxgio92": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35046", "title": "s3_lifecycle: Add support for non-current versions", "body": "##### ISSUE TYPE\r\nFeature Idea\r\n\r\n##### COMPONENT NAME\r\ns3_lifecycle\r\n\r\n##### ANSIBLE VERSION\r\n2.4.2.0\r\n\r\n##### OS / ENVIRONMENT\r\nMacOS 10.13.2\r\n\r\n##### SUMMARY\r\nIt would be nice to have control on which versions to apply the rule to (current version or previous non-current versions).\r\n\r\nActually is not possible to apply the rule for non-current version S3 objects and by default the rule will be applied only to current version objects; this is because the s3_lifecycle module uses Boto 2 .\r\n\r\nIn Boto 2 the Rule class does not support the non-current versions of the S3 objects instead Boto 3 does:\r\nhttp://boto.cloudhackers.com/en/latest/ref/s3.html?highlight=lifecycle#boto.s3.lifecycle.Rule\r\nhttps://boto3.readthedocs.io/en/latest/reference/services/s3.html#S3.BucketLifecycle.rules\r\n\r\nThe only solution seems to be to rewrite the entire module using Boto 3.\r\n\r\nThank you all!\r\n\r\n##### EXPECTED RESULTS\r\nIn s3_lifecycle module to have new options, something like this:\r\n- noncurrent_version_transition\r\n- noncurrent_version_storage_class\r\n- noncurrent_version_expiration\r\n\r\nin order to apply a rule to non-current versions of the objects.\r\n\r\n##### ACTUAL RESULTS\r\nIt is not possible to do it.\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35046/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "yamenK": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35042", "title": "Add exclusion list to filetree plugin", "body": "##### ISSUE TYPE\r\n - Feature Idea\r\n\r\n\r\n##### COMPONENT NAME\r\n  - Filetree plugin\r\n\r\n\r\n##### SUMMARY\r\nWhen using the filetree plugin in combination with the template module, I would like to exclude some subdirectories under the root path as these sub-directories contain many files that I don't want to process with the template module.\r\n\r\n```\r\nroot\r\n  |_ directory1\r\n  |_ directory2\r\n              |_ include-subdir\r\n              |_ exclude-subdir\r\n```\r\n\r\nIt is possible to specify the subdirectories separately, however their relative path to the root is lost, when running:\r\n\r\n```\r\n- name: Create directories\r\n  file:\r\n    path: /root/{{ item.path }}\r\n    state: directory\r\n    mode: '{{ item.mode }}'\r\n  with_filetree: root/\r\n  when: item.state == 'directory'\r\n\r\n- name: Template files\r\n  template:\r\n    src: '{{ item.src }}'\r\n    dest: /root/{{ item.path }}\r\n    mode: '{{ item.mode }}'\r\n  with_filetree:\r\n     - /root/directory1\r\n     - /root/directory2/include-subdir\r\n  when: item.state == 'file'\r\n```\r\n\r\n##### EXPECTED RESULTS\r\nAllow for an exclusion list for filetree plugin.\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35042/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "marinus81": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35041", "title": "aci_rest: change not detected", "body": "<!---\r\nVerify first that your issue/request is not already reported on GitHub.\r\nAlso test if the latest release, and master branch are affected too.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest -->\r\n - Bug Report \r\n - maybe Enhancement request?\r\n\r\n##### COMPONENT NAME\r\naci_rest\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.2.0\r\n  config file = None\r\n  configured module search path = [u'/home/dhamann/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible\r\n  executable location = /usr/local/bin/ansible\r\n  python version = 2.7.12 (default, Nov 20 2017, 18:23:56) [GCC 5.4.0 20160609]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\n<!---\r\nIf using Ansible 2.4 or above, paste the results of \"ansible-config dump --only-changed\"\r\nOtherwise, mention any settings you have changed/added/removed in ansible.cfg\r\n(or using the ANSIBLE_* environment variables).\r\n-->\r\nDEFAULT_DEBUG(env: ANSIBLE_DEBUG) = False\r\nDEFAULT_STRATEGY(env: ANSIBLE_STRATEGY) = linear\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nN/A\r\n\r\n##### SUMMARY\r\n<!--- Explain the problem briefly -->\r\naci_rest module does not always detect changed config, but reports it as unchanged (\"ok:\")\r\n\r\n##### STEPS TO REPRODUCE\r\n<!---\r\nFor bugs, show exactly how to reproduce the problem, using a minimal test-case.\r\nFor new features, show how the feature would be used.\r\n-->\r\nDepending on how you push the config to APIC the aci_rest module detects it as changed or not:\r\n\r\nThis example will always report as unchanged:\r\n<!--- Paste example playbooks or commands between quotes below -->\r\n```yaml\r\n- name: Create CDP Policies\r\n      tags:\r\n        - create\r\n        - network\r\n      aci_rest:\r\n        host: \"{{ apic_hostname }}\"\r\n        username: \"{{ apic_username }}\"\r\n        password: \"{{ apic_password }}\"\r\n        validate_certs: false\r\n        method: post\r\n        path: \"api/node/mo/uni/infra.xml?rsp-subtree=modified\"\r\n        content: |\r\n          <infraInfra>\r\n            <cdpIfPol adminSt=\"{{item.state}}\"  name=\"{{item.name}}\" descr=\"CDP set to {{item.state}}\"/>\r\n          </infraInfra>\r\n      with_items:\r\n        - \"{{cdp_policies}}\"\r\n```\r\n\r\nThis playbook works as expected (\"ok:\" if nothing has changed and \"changed:\" otherwise)\r\n```yaml\r\n- name: Create CDP Policies\r\n      tags:\r\n        - create\r\n        - network\r\n      aci_rest:\r\n        host: \"{{ apic_hostname }}\"\r\n        username: \"{{ apic_username }}\"\r\n        password: \"{{ apic_password }}\"\r\n        validate_certs: false\r\n        method: post\r\n        path: \"api/node/mo/uni/infra/.xml?rsp-subtree=modified\"\r\n        content: |\r\n            <cdpIfPol adminSt=\"{{item.state}}\"  name=\"{{item.name}}\" descr=\"CDP set to {{item.state}}\"/>\r\n      with_items:\r\n        - \"{{cdp_policies}}\"\r\n```\r\nNote the difference in path: parameter (infra.xml vs. infra/.xml) as well as adjusted content.\r\n\r\n<!--- You can also paste gist.github.com links for larger files -->\r\n\r\n##### EXPECTED RESULTS\r\nIn both cases changes to actual APIC config should result in \"changed:\" status\r\n\r\n##### ACTUAL RESULTS\r\n<!--- What actually happened? If possible run with extra verbosity (-vvvv) -->\r\nThe reason why the first playbook does not behave as expected is that APIC does not populate the \"status=\" parameter as expected by the aci_rest module (it will only report change if this parameter is set to either of 'created', 'modified', 'deleted')\r\n(see https://github.com/datacenter/aci-ansible/blob/e87db8f15e34ea7dc2e1b30fd445a4c59561bbc9/library/aci_rest.py#L270-L284)\r\n<!--- Paste verbatim command output between quotes below -->\r\n```\r\nok: [localhost] => (item={u'state': u'enabled', u'name': u'cdp_on2'}) => {\r\n    \"changed\": false, \r\n    \"error_code\": 0, \r\n    \"error_text\": \"Success\", \r\n    \"imdata\": [\r\n        {\r\n            \"infraInfra\": {\r\n                \"attributes\": {\r\n                    \"childAction\": \"deleteNonPresent\", \r\n                    \"dn\": \"uni/infra\", \r\n                    \"lcOwn\": \"local\", \r\n                    \"modTs\": \"2017-08-17T01:40:52.471+01:00\", \r\n                    \"monPolDn\": \"uni/fabric/monfab-default\", \r\n                    \"name\": \"infra\", \r\n                    \"nameAlias\": \"\", \r\n                    \"ownerKey\": \"\", \r\n                    \"ownerTag\": \"\", \r\n                    \"rn\": \"\", \r\n                    \"status\": \"\", \r\n                    \"uid\": \"0\"\r\n                }, \r\n                \"children\": [\r\n                    {\r\n                        \"cdpIfPol\": {\r\n                            \"attributes\": {\r\n                                \"adminSt\": \"enabled\", \r\n                                \"childAction\": \"deleteNonPresent\", \r\n                                \"descr\": \"\", \r\n                                \"extMngdBy\": \"\", \r\n                                \"lcOwn\": \"local\", \r\n                                \"modTs\": \"2018-01-17T09:45:05.902+01:00\", \r\n                                \"monPolDn\": \"\", \r\n                                \"name\": \"cdp_on2\", \r\n                                \"nameAlias\": \"\", \r\n                                \"ownerKey\": \"\", \r\n                                \"ownerTag\": \"\", \r\n                                \"rn\": \"cdpIfP-cdp_on2\", \r\n                                \"status\": \"\", \r\n                                \"uid\": \"17805\"\r\n                            }\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    ], \r\n    \"invocation\": {\r\n        \"module_args\": {\r\n            \"content\": \"<infraInfra>\\n  <cdpIfPol adminSt=\\\"enabled\\\"  name=\\\"cdp_on2\\\" />\\n</infraInfra>\\n\", \r\n            \"host\": \"apic.ddsdnlab.at\", \r\n            \"hostname\": \"apic.ddsdnlab.at\", \r\n            \"method\": \"post\", \r\n            \"password\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\", \r\n            \"path\": \"api/node/mo/uni/infra.xml?rsp-subtree=modified\", \r\n            \"protocol\": \"https\", \r\n            \"src\": null, \r\n            \"timeout\": 30, \r\n            \"use_proxy\": true, \r\n            \"use_ssl\": true, \r\n            \"username\": \"ansible\", \r\n            \"validate_certs\": false\r\n        }\r\n    }, \r\n    \"item\": {\r\n        \"name\": \"cdp_on2\", \r\n        \"state\": \"enabled\"\r\n    }, \r\n    \"response\": \"OK (544 bytes)\", \r\n    \"status\": 200, \r\n    \"totalCount\": \"1\", \r\n    \"url\": \"https://apic.ddsdnlab.at/api/node/mo/uni/infra.xml?rsp-subtree=modified\"\r\n}\r\n```\r\n\r\nOn the other hand the second playbook runs as expected as returned data from APIC contains (status='modified'):\r\n\r\n```\r\nchanged: [localhost] => (item={u'state': u'enabled', u'name': u'cdp_on'}) => {\r\n    \"changed\": true, \r\n    \"error_code\": 0, \r\n    \"error_text\": \"Success\", \r\n    \"imdata\": [\r\n        {\r\n            \"cdpIfPol\": {\r\n                \"attributes\": {\r\n                    \"adminSt\": \"enabled\", \r\n                    \"childAction\": \"deleteNonPresent\", \r\n                    \"descr\": \"CDP set to enabled\", \r\n                    \"dn\": \"uni/infra/cdpIfP-cdp_on\", \r\n                    \"extMngdBy\": \"\", \r\n                    \"lcOwn\": \"local\", \r\n                    \"modTs\": \"2018-01-18T05:26:34.072+01:00\", \r\n                    \"monPolDn\": \"uni/fabric/monfab-default\", \r\n                    \"name\": \"cdp_on\", \r\n                    \"nameAlias\": \"\", \r\n                    \"ownerKey\": \"\", \r\n                    \"ownerTag\": \"\", \r\n                    \"rn\": \"\", \r\n                    \"status\": \"modified\", \r\n                    \"uid\": \"15374\"\r\n                }\r\n            }\r\n        }\r\n    ], \r\n    \"invocation\": {\r\n        \"module_args\": {\r\n            \"content\": \"<cdpIfPol adminSt=\\\"enabled\\\"  name=\\\"cdp_on\\\" descr=\\\"CDP set to enabled\\\"/>\\n\", \r\n            \"host\": \"apic.ddsdnlab.at\", \r\n            \"hostname\": \"apic.ddsdnlab.at\", \r\n            \"method\": \"post\", \r\n            \"password\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\", \r\n            \"path\": \"api/node/mo/uni/infra/.xml?rsp-subtree=modified\", \r\n            \"protocol\": \"https\", \r\n            \"src\": null, \r\n            \"timeout\": 30, \r\n            \"use_proxy\": true, \r\n            \"use_ssl\": true, \r\n            \"username\": \"ansible\", \r\n            \"validate_certs\": false\r\n        }\r\n    }, \r\n    \"item\": {\r\n        \"name\": \"cdp_on\", \r\n        \"state\": \"enabled\"\r\n    }, \r\n    \"response\": \"OK (375 bytes)\", \r\n    \"status\": 200, \r\n    \"totalCount\": \"1\", \r\n    \"url\": \"https://apic.ddsdnlab.at/api/node/mo/uni/infra/.xml?rsp-subtree=modified\"\r\n}\r\n```\r\n\r\nGiven this (weired?) behavior of APIC (I confirmed this behavior is the same on APIC versions 3.0, 3.1 and 2.1), I think the current implementation of aci_changed() might be insufficient.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "tiraboschi": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35039", "title": "ovirt_hosts has iscsidiscover and iscsilogin state but it misses iscsilogout", "body": "##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\novirt_hosts\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug  4 2017, 00:39:18) [GCC 4.8.5 20150623 (Red Hat 4.8.5-16)]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\n\r\n\r\n##### OS / ENVIRONMENT\r\nCentos 7\r\n\r\n##### SUMMARY\r\novirt_hosts has iscsidiscover and iscsilogin state but it misses iscsilogout, \r\noVIrt REST APIs lacks it as well: https://bugzilla.redhat.com/show_bug.cgi?id=1535951\r\n\r\novirt_host_storage_facts then performs an implicit iSCSI login:\r\nhttps://github.com/ansible/ansible/blob/devel/lib/ansible/modules/cloud/ovirt/ovirt_host_storage_facts.py#L134 and so you need the full iSCSI parameters set while according to its example it should simply Gather facts about HostStorages with specified target and address\r\n\r\n\r\n\r\n##### STEPS TO REPRODUCE\r\nTry an iSCSI logout\r\n\r\n##### EXPECTED RESULTS\r\niscsilogout state\r\n\r\n##### ACTUAL RESULTS\r\niscsidiscover and iscsilogin state are there but iscsilogout is not\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35039/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Chetan-CSI": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35034", "title": "An error occurred (RequestLimitExceeded) when calling the DescribeVpcEndpoints operation ", "body": "An error occurred (RequestLimitExceeded) when calling the DescribeVpcEndpoints operation \r\n\r\nISSUE TYPE\r\nBug Report\r\n\r\nCOMPONENT NAME\r\nec2_vpc_endpoint_facts\r\n\r\nANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug  4 2017, 00:39:18) [GCC 4.8.5 20150623 (Red Hat 4.8.5-16)]\r\n```\r\n\r\nCONFIGURATION\r\nDEFAULT_ROLES_PATH(/etc/ansible/ansible.cfg) = [u'/etc/ansible/roles', u'/usr/share/ansible/roles']\r\n\r\n OS / ENVIRONMENT\r\nCentos7.4\r\n\r\nSUMMARY\r\nReceived this error while trying to collect  VPC endpoint facts.\r\n\r\nSTEPS TO REPRODUCE\r\n1. Provision AWS VPC,  Subnets \r\n2. Collect VPC endpoint facts -> Throws RateLimitExceeded error\r\n\r\n```\r\n- name: EC2 VPC | Gather VPC s3 endpoint facts\r\n  ec2_vpc_endpoint_facts:\r\n    query: endpoints\r\n    region: \"{{ net_data.network_region }}\"\r\n    filters:\r\n      vpc-id: \"{{ vpc.vpc.id }}\"\r\n      vpc-endpoint-state:\r\n        - available\r\n      service-name: \"com.amazonaws.{{ net_data.network_region }}.s3\"\r\n  register: existing_s3_endpoints\r\n\r\n- name: EC2 VPC | Create a VPC s3 endpoint, only if doesn't exist\r\n  ec2_vpc_endpoint:\r\n    state: present\r\n    region: \"{{ net_data.network_region }}\"\r\n    vpc_id: \"{{ vpc.vpc.id }}\"\r\n    service: \"com.amazonaws.{{ net_data.network_region }}.s3\"\r\n  register: vpc_s3_endpoint\r\n  when: existing_s3_endpoints.vpc_endpoints == []\r\n```\r\nEXPECTED RESULTS\r\nVPC endpoint facts should have been fetched succssfully.\r\n\r\n##### ACTUAL RESULTS\r\nReceiving request limit exceeded error.\r\n```\r\n \"raw_output\": {\"localhost\": {\"_ansible_no_log\": false, \"_ansible_parsed\": false, \"changed\": false, \"exception\": \"Traceback (most recent call last):\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 205, in <module>\\n main()\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 199, in main\\n results = invocations[module.params.get('query')](connection, module)\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 157, in get_endpoints\\n response = client.describe_vpc_endpoints(*params)\\n File \\\"/usr/lib/python2.7/site-packages/botocore/client.py\\\", line 312, in _api_call\\n return self._make_api_call(operation_name, kwargs)\\n File \\\"/usr/lib/python2.7/site-packages/botocore/client.py\\\", line 601, in _make_api_call\\n raise error_class(parsed_response, operation_name)\\nbotocore.exceptions.ClientError: An error occurred (RequestLimitExceeded) when calling the DescribeVpcEndpoints operation (reached max retries: 4): Request limit exceeded.\\n\", \"failed\": true, \"module_stderr\": \"Traceback (most recent call last):\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 205, in <module>\\n main()\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 199, in main\\n results = invocations[module.params.get('query')](connection, module)\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 157, in get_endpoints\\n response = client.describe_vpc_endpoints(*params)\\n File \\\"/usr/lib/python2.7/site-packages/botocore/client.py\\\", line 312, in _api_call\\n return self._make_api_call(operation_name, kwargs)\\n File \\\"/usr/lib/python2.7/site-packages/botocore/client.py\\\", line 601, in _make_api_call\\n raise error_class(parsed_response, operation_name)\\nbotocore.exceptions.ClientError: An error occurred (RequestLimitExceeded) when calling the DescribeVpcEndpoints operation (reached max retries: 4): Request limit exceeded.\\n\", \"module_stdout\": \"\", \"msg\": \"MODULE FAILURE\", \"rc\": 0}}, \"task\": {\"id\": \"06164f46-5166-9c6c-b611-00000000005c\", \"name\": \"EC2 VPC | Gather VPC s3 endpoint facts\", \"start\": 1513760461.687647}}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/35032", "title": "An error occurred (RequestLimitExceeded) when calling the DescribeSubnets operation ", "body": "ISSUE TYPE\r\nBug Report\r\n\r\nCOMPONENT NAME\r\nec2_vpc_subnet\r\n\r\nANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug  4 2017, 00:39:18) [GCC 4.8.5 20150623 (Red Hat 4.8.5-16)]\r\n```\r\n\r\nCONFIGURATION\r\nDEFAULT_ROLES_PATH(/etc/ansible/ansible.cfg) = [u'/etc/ansible/roles', u'/usr/share/ansible/roles']\r\n\r\n OS / ENVIRONMENT\r\nCentos7.4\r\n\r\nSUMMARY\r\nReceived the error for max tries exceeded while deleting aws subnetwork.\r\nCould not reproduce this issue in the next iteration, but seems to be an intermittent one.\r\n\r\nSTEPS TO REPRODUCE\r\n1. Provision AWS VPC and Subnets\r\n2. De-provision AWS VPC and Subnets -> Throws RateLimitExceeded error\r\n\r\n```\r\n- block:\r\n  - name: EC2 VPC | Remove subnetwork\r\n    ec2_vpc_subnet:\r\n      vpc_id: \"{{ vpc_id }}\"\r\n      region: \"{{ net_data.network_region }}\"\r\n      cidr: \"{{ net_data.subnet_range }}\"\r\n      resource_tags:\r\n        Name: \"{{ resource_env.domain }}/{{ resource_env.env }}/{{ net_data.subnet_name }}\"\r\n        csi-environment: \"{{ resource_env.domain }}-{{ resource_env.env }}\"\r\n      state: absent\r\n  ignore_errors: true\r\n```\r\n##### EXPECTED RESULTS\r\nVPC and Subnets should have been deleted successfully.\r\n\r\n##### ACTUAL RESULTS\r\nFailed while deleting AWS VPC/Subnets\r\n```\r\nTraceback (most recent call last):\r\nFile \"/tmp/ansible_zYmUJP/ansible_module_ec2_vpc_subnet.py\", line 265, in main\r\ncheck_mode=module.check_mode)\r\nFile \"/tmp/ansible_zYmUJP/ansible_module_ec2_vpc_subnet.py\", line 214, in ensure_subnet_absent\r\nsubnet = get_matching_subnet(conn, vpc_id, cidr)\r\nFile \"/tmp/ansible_zYmUJP/ansible_module_ec2_vpc_subnet.py\", line 177, in get_matching_subnet\r\nsubnets = get_subnet_info(conn.describe_subnets(Filters=filters))\r\nFile \"/usr/lib/python2.7/site-packages/botocore/client.py\", line 312, in _api_call\r\nreturn self._make_api_call(operation_name, kwargs)\r\nFile \"/usr/lib/python2.7/site-packages/botocore/client.py\", line 601, in _make_api_call\r\nraise error_class(parsed_response, operation_name)\r\nClientError: An error occurred (RequestLimitExceeded) when calling the DescribeSubnets operation (reached max retries: 4): Request limit exceeded.\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35032/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35044", "title": "Fixes  #35034 - AWS RequestLimitExceeded error while calling DescribeVpcEndpoints", "body": "SUMMARY\r\nWe observed the AWS RequestLimitExceeded error while using ec2_vpc_endpoint_facts ansible module. Please refer issue #35034 for details.\r\n\r\nAdded AWSRetry.exponential_backoff() for describe calls.\r\n\r\nISSUE TYPE\r\n  - Bugfix Pull Request\r\n\r\nCOMPONENT NAME\r\nec2_vpc_endpoint_facts \r\n\r\nANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug  4 2017, 00:39:18) [GCC 4.8.5 20150623 (Red Hat 4.8.5-16)]\r\n```\r\n\r\n\r\nADDITIONAL INFORMATION", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "NZSmartie": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35030", "title": "delegate_to with unreachable hosts breaks playbook", "body": "##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\ndelegate_to\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/dist-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.12 (default, Nov 20 2017, 18:23:56) [GCC 5.4.0 20160609]\r\n```\r\n\r\n##### OS / ENVIRONMENT\r\nUbuntu 16.04.3 LTS\r\n\r\n##### SUMMARY\r\nUsing `delegate_to` (a perfect example can be found in the documentation [http://docs.ansible.com/ansible/latest/playbooks_delegation.html#delegated-facts](http://docs.ansible.com/ansible/latest/playbooks_delegation.html#delegated-facts)); When a host passed along to `delegate_to` is unreachable for whatever reason. The host that is executing the task will be also be marked as unreachable. After a large error is printed out (output from all hosts in the `delegate_to`?) and the playbook ends with something like:\r\n```\r\nPLAY RECAP *************************************************************************************************************************************************\r\nfoo.example.com    : ok=0    changed=0    unreachable=1    failed=0\r\n```\r\n\r\n##### STEPS TO REPRODUCE\r\nplaybook.yml:\r\n```yaml\r\n---\r\n- hosts: app_servers\r\n  tasks:\r\n    - name: gather facts from db servers\r\n      setup:\r\n      delegate_to: \"{{ item }}\"\r\n      delegate_facts: True\r\n      with_items: \"{{groups['dbservers']}}\"\r\n    - name: test\r\n      debug:\r\n        msg: \"test\"\r\n```\r\n\r\ninventory.yml:\r\n```yaml\r\n---\r\nall:\r\n  children:\r\n    app_servers:\r\n      hosts:\r\n        foo.example.com:\r\n    dbservers:\r\n      hosts:\r\n        bar.example.com:\r\n```\r\n\r\n##### EXPECTED RESULTS\r\n```\r\nPLAY [app_servers] ***********************************************************************************************************************************\r\n\r\nTASK [gather facts from db servers] ******************************************************************************************************************\r\nfailed: [foo.example.com] (item=bar.example.com) => {\"item\": \"bar.example.com\", \"msg\": \"Failed to connect to the host via ssh: ssh: connect to host bar.example.com port 22: Connection timed out\\r\\n\", \"unreachable\": true}\r\n\r\nTASK [test] ************************************************************************************************************************************************\r\nok: [foo.example.com] => {\r\n    \"msg\": \"test\"\r\n}\r\n```\r\n\r\n##### ACTUAL RESULTS\r\n```\r\nPLAY [app_servers] ***********************************************************************************************************************************\r\n\r\nTASK [gather facts from db servers] ******************************************************************************************************************\r\nfailed: [foo.example.com] (item=bar.example.com) => {\"item\": \"bar.example.com\", \"msg\": \"Failed to connect to the host via ssh: ssh: connect to host bar.example.com port 22: Connection timed out\\r\\n\", \"unreachable\": true}\r\nfatal: [foo.example.com]: UNREACHABLE! => {\"changed\": false, \"msg\": \"All items completed\", \"...\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "hvindin": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35029", "title": "Copy module silently truncates files if target server tmp location is to small.", "body": "##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\nCopy module\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/home/l066731/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug 29 2016, 10:12:21) [GCC 4.8.5 20150623 (Red Hat 4.8.5-4)]\r\n```\r\n\r\n##### CONFIGURATION\r\nALLOW_WORLD_READABLE_TMPFILES(/etc/ansible/ansible.cfg) = True\r\nANSIBLE_PIPELINING(/etc/ansible/ansible.cfg) = True\r\nANSIBLE_SSH_ARGS(/etc/ansible/ansible.cfg) = -C -o ControlMaster=auto -o ControlPersist=240s\r\nANSIBLE_SSH_CONTROL_PATH_DIR(/etc/ansible/ansible.cfg) = ~/.ansible/cp\r\nCACHE_PLUGIN(/etc/ansible/ansible.cfg) = redis\r\nCACHE_PLUGIN_CONNECTION(/etc/ansible/ansible.cfg) = localhost:6379:0\r\nCACHE_PLUGIN_TIMEOUT(/etc/ansible/ansible.cfg) = 10000\r\nCOMMAND_WARNINGS(/etc/ansible/ansible.cfg) = False\r\nDEFAULT_ALLOW_UNSAFE_LOOKUPS(/etc/ansible/ansible.cfg) = True\r\nDEFAULT_CALLBACK_WHITELIST(/etc/ansible/ansible.cfg) = ['timer', 'skippy', 'profile_roles', 'junit']\r\nDEFAULT_FORKS(/etc/ansible/ansible.cfg) = 15\r\nDEFAULT_GATHERING(/etc/ansible/ansible.cfg) = smart\r\nDEFAULT_GATHER_SUBSET(/etc/ansible/ansible.cfg) = all\r\nDEFAULT_GATHER_TIMEOUT(/etc/ansible/ansible.cfg) = 60\r\nDEFAULT_HASH_BEHAVIOUR(/etc/ansible/ansible.cfg) = replace\r\nDEFAULT_LOAD_CALLBACK_PLUGINS(/etc/ansible/ansible.cfg) = True\r\nDEFAULT_LOG_PATH(/etc/ansible/ansible.cfg) = /var/log/ansible/ansible.log\r\nDEFAULT_MANAGED_STR(/etc/ansible/ansible.cfg) = Ansible managed: {file} %Y-%m-%d %H:%M:%S\r\nDEFAULT_PRIVATE_ROLE_VARS(/etc/ansible/ansible.cfg) = True\r\nDEFAULT_SCP_IF_SSH(/etc/ansible/ansible.cfg) = smart\r\nDEFAULT_SFTP_BATCH_MODE(/etc/ansible/ansible.cfg) = False\r\nDEFAULT_SSH_TRANSFER_METHOD(/etc/ansible/ansible.cfg) = smart\r\nDEFAULT_TRANSPORT(/etc/ansible/ansible.cfg) = smart\r\nDEFAULT_UNDEFINED_VAR_BEHAVIOR(/etc/ansible/ansible.cfg) = True\r\nDEPRECATION_WARNINGS(/etc/ansible/ansible.cfg) = False\r\nDISPLAY_ARGS_TO_STDOUT(/etc/ansible/ansible.cfg) = True\r\nDISPLAY_SKIPPED_HOSTS(/etc/ansible/ansible.cfg) = True\r\nERROR_ON_MISSING_HANDLER(/etc/ansible/ansible.cfg) = True\r\nSHOW_CUSTOM_STATS(/etc/ansible/ansible.cfg) = True\r\n\r\n\r\n##### OS / ENVIRONMENT\r\nRunning with master and target server on Red Hat Enterprise Linux Server 7.2 (Maipo)\r\n\r\n##### SUMMARY\r\nThe Copy module seems to silently fail if the tmp location runs out of space when copying a large file. The copy module will simply fill the diskmount for the defined tmp location on the target server then move the truncated file to the desired path without notifying the user of the failed copy.\r\n\r\nThis can be caught by checking the hash's or file size of the target file, but this seems like it's something that the copy module itself should be able to do to validate that a copy actually occurred correctly.\r\n\r\n##### STEPS TO REPRODUCE\r\nSet up an environment with a target server with a /home diskmount of 2gb size\r\nConfigure ansible to use ~/.ansible/tmp for tmp when copying files (I assume this works if you set the tmp directory to any location with a limited size mount, but I'll use /home for the sake of simplicity)\r\n\r\nGenerate a 3gb random file `dd if=/dev/urandom of=random bs=1M count=3072` and place it in the files directory of a role.\r\nExecute the following role:\r\n\r\n```yaml\r\n- name: copy random file to /random\r\n  copy:\r\n    src: random\r\n    dest: /random\r\n    force: yes\r\n  register: copied\r\n\r\n- name: debug copied\r\n  debug:\r\n    var: copied\r\n\r\n- name: debug random file stat\r\n  local_action: stat path=\"{{ role_path }}/files/random\"\r\n  register: local_file\r\n\r\n- name: debug random file details\r\n  local_action: debug msg=\"{{ local_file.stat }}\"\r\n```\r\n\r\n##### EXPECTED RESULTS\r\nThe sha1sum's of the files copied to the server should match if the copy is successful. If the copy is *not* successful then the copy task should fail.\r\n\r\nIf the target diskmount hasn't got sufficient space for the copied file, the copy task should fail when it runs out of space, not silently truncating the file.\r\n\r\n##### ACTUAL RESULTS\r\nThe copy task is \"successful\" (changed) but the sha1sum of each of the files is random depending how much of the file actually copied to the server before the disk capped storage space.\r\n\r\nBelow trimmed down execution on 5 servers with varying amount of stuff already on the /home directory:\r\n```yaml\r\nPLAY [all] ***********************************************************************************************************************************************************************************\r\n\r\nTASK [test : copy random file to /random src=random, force=True, mode=a=rwX, dest=/random, group=root, owner=root] ***************************************************************\r\nchanged: [auslslnxsd4958]\r\nchanged: [auslslnxsd5505]\r\nchanged: [auslslnxsd3899]\r\nchanged: [auslslnxsd5502]\r\nchanged: [auslslnxsd4960]\r\n\r\nTASK [test : debug copied var=copied] ****************************************************************************************************************************************************\r\nok: [auslslnxsd4958] => {\r\n    \"copied\": {\r\n        \"checksum\": \"0f1d62e25d9487eed4c302a7320d3dd2e37c97cd\", \r\n        \"dest\": \"/random\", \r\n        \"size\": 1761767424, \r\n    }\r\n}\r\nok: [auslslnxsd5505] => {\r\n    \"copied\": {\r\n        \"checksum\": \"5aa686f6fc2038a57bc053c4f7256d1a0144c2a8\", \r\n        \"dest\": \"/random\",\r\n        \"size\": 1913671680\r\n    }\r\n}\r\nok: [auslslnxsd3899] => {\r\n    \"copied\": {\r\n        \"checksum\": \"96febf0131e1e8e70d883bd74e3b66ee1bcbd67d\", \r\n        \"dest\": \"/random\", \r\n        \"size\": 1911713792\r\n    }\r\n}\r\nok: [auslslnxsd5502] => {\r\n    \"copied\": {\r\n        \"checksum\": \"7bd512c18837afd438df718d9304c94a12bacd7a\", \r\n        \"dest\": \"/random\", \r\n        \"size\": 1913860096 \r\n    }\r\n}\r\nok: [auslslnxsd4960] => {\r\n    \"copied\": {\r\n        \"checksum\": \"b761ec98e3578742c2911851fa8f712cbb531de2\", \r\n        \"dest\": \"/random\", \r\n        \"size\": 1915072512 \r\n    }\r\n}\r\n\r\nTASK [test : local stat of random file path={{ role_path }}/files/random] ****************************************************************************************************************\r\nok: [auslslnxsd4958 -> localhost]\r\nok: [auslslnxsd5505 -> localhost]\r\nok: [auslslnxsd3899 -> localhost]\r\nok: [auslslnxsd5502 -> localhost]\r\nok: [auslslnxsd4960 -> localhost]\r\n\r\n\r\nTASK [test : debug random file stat msg={{ local_file.stat }}] **************************************************************************************************************************\r\nok: [auslslnxsd4958 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\nok: [auslslnxsd5505 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\nok: [auslslnxsd3899 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\nok: [auslslnxsd5502 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\nok: [auslslnxsd4960 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\n```", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35029/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Mixer9": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35025", "title": "Unicode characters used in blockinfile", "body": "<!---\r\nVerify first that your issue/request is not already reported on GitHub.\r\nAlso test if the latest release, and master branch are affected too.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest -->\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\nblockinfile\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.1.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /bin/ansible\r\n  python version = 2.7.5 (default, May  3 2017, 07:55:04) [GCC 4.8.5 20150623 (Red Hat 4.8.5-14)]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\n<!---\r\nIf using Ansible 2.4 or above, paste the results of \"ansible-config dump --only-changed\"\r\nOtherwise, mention any settings you have changed/added/removed in ansible.cfg\r\n(or using the ANSIBLE_* environment variables).\r\n-->\r\nPERSISTENT_CONNECT_TIMEOUT(/etc/ansible/ansible.cfg) = 30\r\nRETRY_FILES_SAVE_PATH(/etc/ansible/ansible.cfg) = /tmp/ansibleretry\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nRed Hat Enterprise Linux Server release 7.3 (Maipo)\r\n\r\n##### SUMMARY\r\n<!--- Explain the problem briefly -->\r\nI want to edit the /etc/bashrc file to make the prompt turn red when you are root (uid 0), this requires control characters to set the color, these are apparently not allowed.\r\n\r\n##### STEPS TO REPRODUCE\r\n<!---\r\nFor bugs, show exactly how to reproduce the problem, using a minimal test-case.\r\nFor new features, show how the feature would be used.\r\n-->\r\nRun the below playbook with the control characters in place, they will most likely get clobbered when I submit.  \r\n<!--- Paste example playbooks or commands between quotes below -->\r\n```\r\n---\r\n- hosts: all\r\n  become: yes\r\n\r\n\r\n  tasks:\r\n     - name: Set /etc/bashrc to have red prompt when root.\r\n       blockinfile:\r\n         backup: yes\r\n         path: /etc/bashrc\r\n         state: present\r\n         block: |\r\n           if [ $(id -u) -eq 0 ];\r\n           then # you are root, set red colour prompt\r\n             PS1=\"\\[^[[31m\\][\\u@\\h:\\w]# \\[^[(B^[[m\\]\"\r\n           else # normal\r\n             PS1=\"[\\u@\\h:\\w]$ \"\r\n           fi\r\n         insertafter: \"# vim:ts=4:sw=4\"\r\n       register: insert\r\n```\r\n\r\n<!--- You can also paste gist.github.com links for larger files -->\r\n\r\n##### EXPECTED RESULTS\r\n<!--- What did you expect to happen when running the steps above? -->\r\nI expected the playbook to run successfully and edit the file to include the control characters.\r\n\r\n##### ACTUAL RESULTS\r\n<!--- What actually happened? If possible run with extra verbosity (-vvvv) -->\r\nIt would not run but produced the error below.\r\n\r\n<!--- Paste verbatim command output between quotes below -->\r\n```\r\nERROR! Syntax Error while loading YAML.\r\n\r\nexception type: <class 'yaml.reader.ReaderError'>\r\nexception: unacceptable character #x001b: control characters are not allowed\r\n  in \"<unicode string>\", position 330\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/35023", "title": "jabber module fails with messages successfully sent", "body": "<!---\r\nVerify first that your issue/request is not already reported on GitHub.\r\nAlso test if the latest release, and master branch are affected too.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\njabber\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.4.1.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /bin/ansible\r\n  python version = 2.7.5 (default, May  3 2017, 07:55:04) [GCC 4.8.5 20150623 (Red Hat 4.8.5-14)]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\nPERSISTENT_CONNECT_TIMEOUT(/etc/ansible/ansible.cfg) = 30\r\nRETRY_FILES_SAVE_PATH(/etc/ansible/ansible.cfg) = /tmp/ansibleretry\r\n\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nRed Hat Enterprise Linux Server release 7.3 (Maipo)\r\nJabber server version unknown, I don't own the server.\r\n\r\n##### SUMMARY\r\nJabber module successfully sends the message with my playbook but reports a failure.\r\n\r\n##### STEPS TO REPRODUCE\r\n\r\nRun the playbook as shown below after editing the host to match your environment, the message passed will be delivered but the playbook will report a fail.\r\n\r\n```\r\n  - name: Jabber Test\r\n    hosts: localhost\r\n    gather_facts: no\r\n\r\n    tasks:\r\n    - name: Send Jabber message\r\n      jabber:\r\n        user: \"{{ user }}\"\r\n        password: \"{{ pass }}\"\r\n        to: \"{{ user2 }}\"\r\n        msg: \"{{ message }}\"\r\n        host: <jabber server redacted>\r\n\r\n```\r\n\r\n##### EXPECTED RESULTS\r\nI expected a success returned after message was sent.\r\n\r\n##### ACTUAL RESULTS\r\nansible returned a \"failed\": true when it successfully sent the message.\r\n\r\nfatal: [localhost]: FAILED! => {\r\n    \"changed\": false,\r\n    \"failed\": true,\r\n\r\n```\r\nThe full traceback is:\r\nTraceback (most recent call last):\r\n  File \"/tmp/ansible_oK1Fax/ansible_module_jabber.py\", line 157, in main\r\n    conn.disconnect()\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 378, in disconnect\r\n    while self.Process(1): pass\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 123, in Process\r\n    self.Stream.Parse(data)\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/simplexml.py\", line 425, in endtag\r\n    self.dispatch(self._mini_dom)\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 311, in dispatch\r\n    if user and self._defaultHandler: self._defaultHandler(session,stanza)\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 206, in returnStanzaHandler\r\n    conn.send(Error(stanza,ERR_FEATURE_NOT_IMPLEMENTED))\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 372, in send\r\n    self._owner_send(stanza)\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/transports.py\", line 251, in send\r\n    self._owner.disconnected()\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/client.py\", line 129, in disconnected\r\n    for i in self.disconnect_handlers: i()\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/client.py\", line 137, in DisconnectHandler\r\n    raise IOError('Disconnected from server.')\r\nIOError: Disconnected from server.\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "abhigrover": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35015", "title": "Including playbook and passing ssh_user and ssh_pass", "body": "##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest -->\r\n - Bug Report\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.3.0.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = Default w/o overrides\r\n  python version = 2.7.13 (default, Mar 13 2017, 20:56:15) [GCC 5.4.0]\r\n```\r\n##### COMPONENT NAME\r\nsetup\r\n\r\n##### CONFIGURATION\r\n<!---\r\nIf using Ansible 2.4 or above, paste the results of \"ansible-config dump --only-changed\"\r\nOtherwise, mention any settings you have changed/added/removed in ansible.cfg\r\n(or using the ANSIBLE_* environment variables).\r\n-->\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nWindows\r\n##### SUMMARY\r\n<!--- Explain the problem briefly -->\r\nI am trying to have a parent playbook call a child playbook, while passing in the \"host\" to run against, ssh username to use and ssh password to use to connect to this host. Calling the child playbook by itself works, but from the parent playbook I am getting \"Authentication failure\".\r\n##### STEPS TO REPRODUCE\r\n<!---\r\nFor bugs, show exactly how to reproduce the problem, using a minimal test-case.\r\nFor new features, show how the feature would be used.\r\n-->\r\n\r\n<!--- Paste example playbooks or commands between quotes below -->\r\nParent playbook - test_play_include.yml\r\n```\r\n---\r\n- include: test_play_passhostuserpass.yml t_host=\"host.example.com\" ssh_user=admin_user ssh_pass=\"sec#ret$pass\"\r\n```\r\nChild playbook - test_play_passhostuserpass.yml\r\n```\r\n---\r\n- hosts: all:&{{t_host}}\r\n\r\n  vars:\r\n  - ansible_ssh_user: \"{{ssh_user}}\"\r\n  - ansible_ssh_pass: \"{{ssh_pass}}\"\r\n  tasks:\r\n  - name: Show user account\r\n    shell: \"echo $USER\"\r\n```\r\n<!--- You can also paste gist.github.com links for larger files -->\r\n\r\n##### EXPECTED RESULTS\r\n<!--- What did you expect to happen when running the steps above? -->\r\nansible-playbook test_play_include.yml -i inventory\r\nshould connect to the host successfully\r\n##### ACTUAL RESULTS\r\n<!--- What actually happened? If possible run with extra verbosity (-vvvv) -->\r\nIf I run the child playbook by itself using the below, it works:\r\nansible-playbook test_play_passhostuserpass.yml -e 't_host=\"host.example.com\" ssh_user=admin_user ssh_pass=\"secret#ret$pass\"' -i inventory\r\n\r\nHowever, this fails:\r\n ansible-playbook test_play_include.yml -i inventory\r\n\r\n$ ansible-playbook test_play_include.yml -i inventory\r\n\r\nPLAY [all:&host.example.com] ******************************************************************************************************************************************\r\n\r\nTASK [Gathering Facts] ****************************************************************************************************************************************************\r\nfatal: [host.example.com]: UNREACHABLE! => {\"changed\": false, \"msg\": \"Authentication failure.\", \"unreachable\": true}\r\n        to retry, use: --limit @/home/myuser/ansible/mydir/test_play_include.retry\r\n\r\nPLAY RECAP ****************************************************************************************************************************************************************\r\nhost.example.com       : ok=0    changed=0    unreachable=1    failed=0\r\n\r\n<!--- Paste verbatim command output between quotes below -->\r\n```\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sivel": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/29c1d5cb5d283c649a5bc30dce53b8e4875d01d3", "message": "Ensure that the become password is written on py3 in the ssh connection plugin. Fixes #34727"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/3c400c5899ca7c71b49087ffeae7153191e54c33", "message": "ANSIBLE_METADATA doesn't support YAML currently, change 315 to invalid data type (#35009)"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/b20df1be02765db46edef887d51d0896bbec2570", "message": "Make template action respect local_tmp. Fixes #34941 (#35005)"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/2cb810544cacd1ff96d5f63b1370a9328f89a83f", "message": "Address missing extends_documentation_fragment (#35008)\n\n* Address missing extends_documentation_fragment\r\n\r\n* Document purge_aliases"}], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35017", "title": "Make sure we don't try to inspect DOCUMENTATION if None", "body": "##### SUMMARY\r\n\r\nGuard against inspecting `DOCUMENTATION` in a plugin, that doesn't have `DOCUMENTATION`\r\n\r\nCurrently if you have a custom callback without `DOCUMENTATION` you would get a trace similar to the following:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/bin/ansible-playbook\", line 118, in <module>\r\n    exit_code = cli.run()\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/cli/playbook.py\", line 122, in run\r\n    results = pbex.run()\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/executor/playbook_executor.py\", line 89, in run\r\n    self._tqm.load_callbacks()\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/executor/task_queue_manager.py\", line 190, in load_callbacks\r\n    for callback_plugin in callback_loader.all(class_only=True):\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/plugins/loader.py\", line 462, in all\r\n    self._update_object(obj, name, path)\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/plugins/loader.py\", line 346, in _update_object\r\n    self._load_config_defs(name, path)\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/plugins/loader.py\", line 217, in _load_config_defs\r\n    if 'options' in dstring and isinstance(dstring['options'], dict):\r\nTypeError: argument of type 'NoneType' is not iterable\r\n```\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nlib/ansible/plugins/loader.py\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\ndevel\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/35002", "title": "Don't skip an inventory source just because it has a comma", "body": "##### SUMMARY\r\nDon't skip an inventory source just because it has a comma, make sure it's also doesn't exist as a path. Fixes #34931\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nlib/ansible/vars/manager.py\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\ndevel\r\n2.4\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "tiggi": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/fb18338cdc7120b6f6ccfc39472748d3e3e80b1f", "message": "Change documentation for path: in openssl_csr to match reality (#35045)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "seuf": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/9b07746ff1a5c83872f1e660f8eff9e152c51365", "message": "New module: monitoring/grafana_datasource (#29006)\n\n* Add monitoring/grafana_datasource module\r\n\r\nadded ds type mysql and postgres + check of parameters\r\n\r\n* Added option max_concurrent_shard_requests for es_version >= 5.6"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Spredzy": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/a2b00e9b5201f52355643b6f8c2967d798dd6d54", "message": "openssl_certificate: Ensure issuer field is set (#34982)\n\nEnsure the Issuer field of the certificate is set when using the\r\nselfsigned backend.\r\n\r\nFixes: https://github.com/ansible/ansible/issues/34963"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Akasurde": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/cf88bfdbbf745e7cd2c063f112581db88590a4d0", "message": "VMware: Refactor vmware_maintenancemode module (#35000)\n\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/bf2ce55ca6241464104e38d3d1e205022303b498", "message": "VMware: Add new module: vmware_host_config_manager (#34627)\n\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>"}], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35040", "title": "VMware: add new module: vmware_host_acceptance", "body": "\r\n##### SUMMARY\r\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nlib/ansible/modules/cloud/vmware/vmware_host_acceptance.py\r\ntest/integration/targets/vmware_host_acceptance/aliases\r\ntest/integration/targets/vmware_host_acceptance/tasks/main.yml\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5devel\r\n```", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/35036", "title": "VMware: add new module: vmware_host_package_facts", "body": "##### SUMMARY\r\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>\r\n\r\n##### ISSUE TYPE\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nlib/ansible/modules/cloud/vmware/vmware_host_package_facts.py\r\ntest/integration/targets/vmware_host_package_facts/aliases\r\ntest/integration/targets/vmware_host_package_facts/tasks/main.yml\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5devel\r\n```", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34984", "title": "VMware: add new module: vmware_host_vmnic_facts", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nlib/ansible/modules/cloud/vmware/vmware_host_vmnic_facts.py\r\ntest/integration/targets/vmware_host_vmnic_facts/aliases\r\ntest/integration/targets/vmware_host_vmnic_facts/tasks/main.yml\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5devel\r\n```", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "trishnaguha": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/8a6d69919863c2b1583da03e91e1c2108cde892c", "message": "Enable nxapi nxos_banner test (#35033)\n\nSigned-off-by: Trishna Guha <trishnaguha17@gmail.com>"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/f806a58a5e3d8089ba2bb68cd45edfa0233cc975", "message": "Idempotency test for enabled mode nxos_udld_interface (#35031)\n\nSigned-off-by: Trishna Guha <trishnaguha17@gmail.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "indispeq": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/943730b70c1f1cf2f3cd21b268a1d5e8638a5f8a", "message": "Update pamd.py to allow module path with slashes (#32197)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "jborean93": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/630ae01f91e4ee93e5e1d5c0c9944a27be5bf730", "message": "win_wait_for: fix tests after attempts change (#35026)"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/f0134079e3aaff3a6c8d31ff55cd3d01c82f2bc8", "message": "win_script: work when argument exceeds stdin buffer size (#33855)\n\n* win_script: work when argument exceeds stdin buffer size\r\n\r\n* Added test for large argument being passed"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/8edd1cf18220bbb2d8743035a3843ff4e4064c24", "message": "changed to enable windows temp path override (#34967)"}], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35027", "title": "template: change to pass along the correct template path", "body": "##### SUMMARY\r\nWhen running win_template it will give a warning saying it failed to delete a temporary directory. This change fixes\r\n\r\n* Shares the same temp path with template and copy so that copy does not create an extra unneeded directory\r\n* Fixes the cleanup in template to source the correct template path, for Windows this was trying to delete the new copy tmp path which no longer existed and left another one created by template initially (not sure about POSIX hosts)\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\ntemplate\r\n\r\n##### ANSIBLE VERSION\r\n```\r\n2.5\r\n```", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "cwarner-mdsol": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/e6d01ff7e302211ed01efda13fdcb1e9b3121b50", "message": "fix for ec2 module terminating instances outside of inventory -- Fixes #19427 (#26621)\n\n* Proposed fix for issue 19427\n\n* Use string_types and to_text for evaluation, if not on empty dict.\n\n* if int, to_text and continue on"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "prasadkatti": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/5a9562a1012debab80768b17aefd6cd99f4f694f", "message": "Add option to toggle describe_image_attribute lookups (#34977)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mattclay": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/20824b8f3d8afefe1d442d2aac4752482dab448a", "message": "Simplify Windows versions in ansible-test."}, {"url": "https://api.github.com/repos/ansible/ansible/commits/f9f6080630f1a50b42ae7d5313339a03e2ef69ca", "message": "Improve handling of ansible-doc sanity errors."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "caphrim007": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/8cc0e744482313faf9103ecda47e52672792386c", "message": "Adds better error handling to f5 api connections (#35020)\n\nPreviously, the failure of the API connection would result\r\nin a stack trace. This patch makes the failure capable of exiting\r\nwith fail_json"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "nitzmahone": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/3371b5eb03366a7d7d683050a8bc50904e2fed3f", "message": "restore format arg to azure_rm_common errmsg"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/3e56883c44cc54d11c649a0eb64fd6b1a12f1322", "message": "zap extra format args from azure_rm_common errmsg"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/68ccd5fc007e5f062dc95ca28c822b3b404f8211", "message": "fix minimum client version checking (#35018)\n\n* bump minimum client versions to match requirements file\r\n* improve prescriptive error messaging to match current recommendations"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/e726c7ecf72772f35d4defb61f112026cfce6464", "message": "disable host_key_checking in virtualmachine test"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "elad661": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/ea1361a9273d4b31391f08eb7d7a5e3d44b6161e", "message": "modules/na_cdot_lun: properly compare LUN size (#34846)\n\ncurrent_size is returned from the API as string, while self.size\n(the requested size) is an integer. This caused the comparison\nto always be False, and a resize request to always be sent."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "gundalow": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/9a32f5c88964054c6f2cb042658b1bf0b4e88f18", "message": "Add missing extends_documentation_fragment (#35013)\n\nNXOS modules need more work, though that will all be in\nmodule_docs_fragments/nxos.py"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "themr0c": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/5b52bfad6dd1f8fd6447557948ca2b42465863cf", "message": "azure_rm inventory should add \"ansible_connection: winrm\" in host_vars for windows hosts - fixes #34689 (#34691)\n\n* fix for https://github.com/ansible/ansible/issues/34689\r\nazure_rm inventory should add \"ansible_connection: winrm\" in host_vars for windows hosts\r\n\r\n* add ansible_connection: winrm - fix for https://github.com/ansible/ansible/issues/34689"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "brunocalogero": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/e130b3eed25dafc924133caba766213d6127aa50", "message": "added aci_switch_leaf_selector integration tests (#34951)"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/1166e181ecdf3a9c82514590c505df3e7b781f80", "message": "added aci_switch_leaf_policy_profile integration tests (#34952)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "clarkst": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/e4f294822f77f116a47073f6e4cb68bde9a0ac9b", "message": "[cloud] kinesis stream server side encryption - fixes #30269 (#30689)\n\n* Moved the encryption to its own action method.\r\n\r\n* removed silly default value for encryption type.\r\n\r\n* Code formatting issues from pull request ANSIBOT.\r\n\r\n* changed version_added to  \"2.5\"\r\nbecause of new new options available\r\n\r\n* changed version_added to  \"2.5\"\r\nbecause of new new options available\r\n\r\n* changed version_added to  \"2.5\"\r\nbecause of new new options available"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Qalthos": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35054", "title": "ios_l2_interface", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\nNew module ios_l2_interface\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Feature Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nios_l2_interface\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5\r\n```", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "evrardjp": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35053", "title": "New module etcd3", "body": "This module uses etcd3 python library to do k/v manipulation on\r\nan etcd3 cluster using version3 api.\r\n\r\n##### SUMMARY\r\nThis adds an etcd3 module to ansible.\r\nIt uses a native version 3 calls to modify key/values on the cluster.\r\n\r\n##### ISSUE TYPE\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\netcd3\r\n\r\n##### ANSIBLE VERSION\r\n\r\ndevel\r\n\r\n##### ADDITIONAL INFORMATION\r\n\r\nNone", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "snecklifter": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35043", "title": "Add OpenStack Director provider", "body": "##### SUMMARY\r\nAdds the ability to create an OpenStack Director provider in\r\nManageIQ.\r\n\r\n##### ISSUE TYPE\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\nremote_management/manageiq\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (add-director-provider 382471890b) last updated 2018/01/18 12:14:40 (GMT +100)\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "yuwzho": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35038", "title": "Fixes 27878: subnet should in the virtual network resource group", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\nFixes #27878\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.4\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/35037", "title": "Fix #29593 delete subnet should be idempotent", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\nFixes #29593\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.4\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "aajdinov": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35035", "title": "Oneandone cloud provider bulk one", "body": "##### SUMMARY\r\nAdding three new cloud modules to support oneandone firewall policy, load balancer, and monitoring policy management. Also included in the PR is an update made to oneandone_server module to support server types, wait interval, and custom url, as well as a small update to oneandone module util. \r\n\r\n##### ISSUE TYPE\r\n - Feature Pull Request\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\noneandone_firewall_policy cloud module\r\noneandone_load_balancer cloud module\r\noneandone_monitoring_policy cloud module\r\noneandone_server cloud module\r\noneandone module_util\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (oneandone_cloud_provider_bulk_one 609d2a27a5) last updated 2018/01/18 07:54:49 (GMT +200)\r\n  config file = /etc/ansible/ansible.cfg\r\n  python version = 2.7.12 (default, Nov 20 2017, 18:23:56) [GCC 5.4.0 20160609]\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nBelow is the output from some of the test playbooks utilizing the new modules:\r\n```\r\nFirewall policy create\r\n=================\r\n\r\nPLAY [localhost] ****************************************************************\r\n\r\nTASK [Gathering Facts] *******************************************************\r\nok: [localhost]\r\n\r\nTASK [Create a firewall policy] ***********************************************\r\nchanged: [localhost]\r\n\r\nPLAY RECAP ********************************************************************\r\nlocalhost                  : ok=2    changed=1    unreachable=0    failed=0   \r\n\r\n```\r\n\r\n```\r\nLoad balancer create\r\n=================\r\n\r\nPLAY [localhost] *****************************************************************\r\n\r\nTASK [Gathering Facts] ********************************************************\r\nok: [localhost]\r\n\r\nTASK [Create a load balancer] ***********************************************\r\nchanged: [localhost]\r\n\r\nPLAY RECAP ********************************************************************\r\nlocalhost                  : ok=2    changed=1    unreachable=0    failed=0  \r\n```\r\n\r\n```\r\nMonitoring policy create\r\n===================\r\n\r\nPLAY [localhost] ****************************************************************\r\n\r\nTASK [Gathering Facts] ******************************************************\r\nok: [localhost]\r\n\r\nTASK [Create a monitoring policy] ******************************************\r\nchanged: [localhost]\r\n\r\nPLAY RECAP ********************************************************************\r\nlocalhost                  : ok=2    changed=1    unreachable=0    failed=0   \r\n```\r\n", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "willthames": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35028", "title": "Add aws_s3 action plugin to find source files as expected", "body": "##### SUMMARY\r\nPeople expect to be able to upload files to s3 using standard\r\nlocations for files.\r\n\r\nProviding an action plugin that effectively rewrites the `src`\r\nkey to the result of finding such a file is a great help.\r\n\r\nTests added, and IAM permissions corrected\r\n\r\n\r\n##### ISSUE TYPE\r\n - Feature Pull Request\r\n\r\n##### COMPONENT NAME\r\naws_s3\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (devel 5a9562a101) last updated 2018/01/18 10:21:40 (GMT +1000)\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/home/will/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /home/will/src/ansible/lib/ansible\r\n  executable location = /home/will/src/ansible/bin/ansible\r\n  python version = 2.7.14 (default, Dec 11 2017, 14:52:53) [GCC 7.2.1 20170915 (Red Hat 7.2.1-2)]\r\n```\r\n\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pilou-": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35024", "title": "webfaction modules: fix broken import", "body": "##### SUMMARY\r\nwebfaction mdoules: fix [broken import](https://github.com/ansible/community/wiki/Testing:-progress-tracker#fixing-broken-imports)\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nwebfaction modules\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.5.0 (devel 92b3d79283) last updated 2018/01/16 15:27:58 (GMT +200)\r\n```", "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34983", "title": "azure_rm_dnsrecordset: fix broken import and minor updates", "body": "##### SUMMARY\r\nazure_rm_dnsrecordset:\r\n- fix [broken import](https://github.com/ansible/community/wiki/Testing%3A-progress-tracker#list-of-things-that-need-unit-tests-eg-libraries-under-module_utils)\r\n- doc: use formatting function\r\n- remove unused dictionary\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nazure_rm_dnsrecordset\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (devel 92b3d79283) last updated 2018/01/16 15:27:58 (GMT +200)\r\n```", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "NickWilde1990": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35022", "title": "Fix typo in examples in Lookup/password plugin.", "body": "##### SUMMARY\r\nResolve typo in documentation examples section. Secondarily, fix a couple other typos.\r\n\r\n\r\n##### ISSUE TYPE\r\n - Docs Pull Request\r\n\r\n##### COMPONENT NAME\r\nDocs: Lookup/password", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "abadger": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35016", "title": "Fix copy for implicit relative paths", "body": "##### SUMMARY\r\ncopy currently fails if you specify a destination without any directory\r\ncomponent.  This is because we take the dirname of the destination for\r\nsome processing and no dirname causes issues.\r\n\r\nThis corrects that by prepending \"./\" if there is no directory component\r\nin dest.\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nlib/ansible/modules/file/copy.py\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\ndevel and earlier\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nThis has been behaviour for a long time (at least as far back as 1.9).", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34976", "title": "Remove AnsibleUnicode special handling", "body": "##### SUMMARY\r\nThis is code that we're not sure is needed anymore.  Run it through our CI system to gather some preliminary information about whether it could be removed.\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\ndataloader\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\ndevel\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nI think I wrote this code because we had a traceback at some point with pyyaml not able to handle our AnsibleUnicode type (the C library was doing an exact match to python's unicode type rather than testing with the object inheritance hierarchy.)   Neither jimi nor I are sure when AnsibleUnicode gets passed into this function, though, so we think it may be safe to remove this code now.", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "rambleraptor": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35014", "title": "GCP: DNS Managed Zones", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\nThis adds support for creating managed zones on GCP, along with a test runner and future utilities for adding more GCP resources.\r\n\r\n##### ISSUE TYPE\r\n - Feature Pull Request\r\n\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\ngcp_dns_managed_zone\r\n\r\n##### ANSIBLE VERSION\r\n```\r\n2.5\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nThis code was autogenerated using [Magic Modules](https://github.com/GoogleCloudPlatform/magic-modules)\r\n", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "ganeshrn": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35007", "title": "Add regex to catch ios error prompt", "body": "\r\n\r\n##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\n*  Move the error checking from ios_l3_module\r\n   to ios termianl plugin by adding additional\r\n   regex to catch error prompt.\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Bugfix Pull Request\r\n \r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nios_l3_interface\r\nterminal/ios\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "lrivallain": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35004", "title": "vmware: Add new module 'vmware_datastore_host'", "body": "##### SUMMARY\r\nNew Module: vmware_datastore_host - mount/umount datastore (both vmfs and nfs) on host(s)\r\n\r\n##### ISSUE TYPE\r\n- New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\nlib/ansible/modules/cloud/vmware/vmware_datastore_host.py\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (vmware_datastore ed922c2249) last updated 2018/01/16 21:33:51 (GMT +200)\r\n  config file = None\r\n  configured module search path = ['~/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']\r\n  ansible python module location = ~/wd/ansible/lib/ansible\r\n  executable location = ~/wd/ansible/bin/ansible\r\n  python version = 3.6.3 (default, Nov  3 2017, 19:47:38) [GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.42)]\r\n```\r\n\r\n##### ADDITIONAL INFORMATION\r\n```\r\n- name: Mount VMFS datastores to ESXi\r\n  vmware_datastore_host:\r\n      hostname: '{{ vcenter_hostname }}'\r\n      username: '{{ vcenter_user }}'\r\n      password: '{{ vcenter_pass }}'\r\n      datacenter_name: '{{ datacenter }}'\r\n      datastore_name: '{{ item.name }}'\r\n      datastore_type: '{{ item.type }}'\r\n      vmfs_device_name: 'naa.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'\r\n      vmfs_version: 6\r\n      esxi_hostname: '{{ inventory_hostname }}'\r\n      state: present\r\n  delegate_to: localhost\r\n- name: Mount NFS datastores to ESXi\r\n  vmware_datastore_host:\r\n      hostname: '{{ vcenter_hostname }}'\r\n      username: '{{ vcenter_user }}'\r\n      password: '{{ vcenter_pass }}'\r\n      datacenter_name: '{{ datacenter }}'\r\n      datastore_name: '{{ item.name }}'\r\n      datastore_type: '{{ item.type }}'\r\n      nfs_server: '{{ item.server }}'\r\n      nfs_path: '{{ item.path }}'\r\n      nfs_ro: no\r\n      esxi_hostname: '{{ inventory_hostname }}'\r\n      state: present\r\n  delegate_to: localhost\r\n  with_items:\r\n      - { 'name': 'NasDS_vol01', 'server': 'nas01', 'path': '/mnt/vol01', 'type': 'nfs'}\r\n      - { 'name': 'NasDS_vol02', 'server': 'nas01', 'path': '/mnt/vol02', 'type': 'nfs'}\r\n- name: Remove/Umount Datastores from ESXi\r\n  vmware_datastore_host:\r\n      hostname: '{{ vcenter_hostname }}'\r\n      username: '{{ vcenter_user }}'\r\n      password: '{{ vcenter_pass }}'\r\n      datacenter_name: '{{ datacenter }}'\r\n      datastore_name: NasDS_vol01\r\n      esxi_hostname: '{{ inventory_hostname }}'\r\n      state: absent\r\n  delegate_to: localhost\r\n```", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "anbsmile": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34998", "title": "win_iis_webapplication: added additional parameters", "body": "##### SUMMARY\r\nFeature #34994\r\n\r\n##### ISSUE TYPE\r\n - Feature Pull Request\r\n\r\n##### COMPONENT NAME\r\nwin_iis_webapplication\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/dist-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.12 (default, Nov 20 2017, 18:23:56) [GCC 5.4.0 20160609]\r\n\r\n```\r\n", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "balonik": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34996", "title": "Make vmware_guest always get a resource pool and properly create VM in chosen cluster", "body": "##### SUMMARY\r\nBackporting get_resource_pool from devel branch. This way the VM is properly created in cluster as specified by user in `cluster` option.\r\n\r\nFixing issue https://github.com/ansible/ansible/issues/34801\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nvmware_guest\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.1.0\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34995", "title": " Make vmware_guest always get a resource pool", "body": "##### SUMMARY\r\nSmall change to the code to always get a resource pool before the 'template'/'no-template' code where it would be called anyway.\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nvmware_guest\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34993", "title": "Updating lvol.py to better handle %PVS options when creating/resizing lvols.", "body": "##### SUMMARY\r\nUpdating lvol.py to better handle %PVS options when creating/resizing lvols.\r\n\r\n- Adds idempotency when the module is called N+ times and %PVS is used in `size`\r\n- Making the module inline with LVM2 man pages (lvcreate/lvextend), specifically with the description of `-l|--extents` option and sentence `The suffix %VG denotes the total size of the VG, the suffix %FREE the remaining free space in the VG, and the suffix %PVS the free space in the specified PVs`.\r\n- This update makes `pvs` option mandatory when %PVS is used in size, because it calculates requested size by adding size of specified PVS in `pvs` (to be inline with the above point).\r\n- Fixing errors like `\"msg\": \"Unable to resize lv_var_cache_pulp to 100%PVS\", \"rc\": 5)` when module is called N+ times, because it calculated size of VG and not only subset of PVS.\r\n\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nlvol\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.1.0\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\nBefore applied changes same task 2 times:\r\n- lvol: lv=lv_var_cache_pulp size=100%PVS pvs=/dev/sdc shrink=no state=present vg=vg_pulp\r\n- lvol: lv=lv_var_cache_pulp size=100%PVS pvs=/dev/sdc shrink=no state=present vg=vg_pulp\r\n\r\nwill result in:\r\nTASK [create_lvm : lvol] *****************************************************************************\r\nok: [server] => (item={'key': u'lv_var_cache_pulp', 'value': {u'path': u'/var/cache/pulp', u'pvs': u'/dev/sdc', u'mount': True, u'vg_name': u'vg_pulp', u'size': u'100%PVS'}})\r\nTASK [create_lvm : lvol] *****************************************************************************\r\nfailed: [server] (item={'key': u'lv_var_cache_pulp', 'value': {u'path': u'/var/cache/pulp', u'pvs': u'/dev/sdc', u'mount': True, u'vg_name': u'vg_pulp', u'size': u'100%PVS'}}) => {\"changed\": false, \"err\": \"  WARNING: No free extents on physical volume \\\"/dev/sdc\\\".\\n  No specified PVs have space available.\\n\", \"failed\": true, \"item\": {\"key\": \"lv_var_cache_pulp\", \"value\": {\"mount\": true, \"path\": \"/var/cache/pulp\", \"pvs\": \"/dev/sdc\", \"size\": \"100%PVS\", \"vg_name\": \"vg_pulp\"}}, \"msg\": \"Unable to resize lv_var_cache_pulp to 100%PVS\", \"rc\": 5}\r\n```\r\n", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "resmo": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34991", "title": "doc: fix loop examples", "body": "##### SUMMARY\r\nfix loop examples, \r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Docs Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\ndoc\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "cnasten": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34986", "title": "NSO: handle types for leaf-lists in nso_config (ValueBuilder)", "body": "Fixes: #34985\r\n\r\n##### SUMMARY\r\nThis reads the type information for leaf-list elements from the appropriate part of the schema.\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nnso_config\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (nso_config_leaf-list_34985 e9efe8df5a) last updated 2018/01/17 13:25:10 (GMT +200)\r\n  config file = None\r\n  configured module search path = [u'/home/cnasten/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /home/cnasten/dev/ansible/lib/ansible\r\n  executable location = /home/cnasten/dev/ansible/bin/ansible\r\n  python version = 2.7.14+ (default, Dec  5 2017, 15:17:02) [GCC 7.2.0]\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nSee #34985 for details.", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pmarques": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34980", "title": "Remove unused import from azure dyn inventory", "body": "##### SUMMARY\r\n\r\nRemove unused import from azure_rm dynamic inventory\r\n\r\n##### ISSUE TYPE\r\n\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\n\r\ncontrib/inventory/azure_rm.py\r\n\r\n##### ADDITIONAL INFORMATION\r\n\r\nThe module is importing a package that is not used and not installed by default.\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mpdehaan": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4399054", "body": "suggest a fix?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4399054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4399068", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4399068/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400040", "body": "possible uses:\n\nif this is the os\n\nif in this subnet or whatever\n\nif the last command returned X\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400040/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400147", "body": "also want to be able to do maybe\n\n```\n- action: blah\n  poll:  timeout=30 check_interval=5\n  onfail:   \n```\n\nso it's like a \"notify\" but different\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400174", "body": "Q: does fail mean stop unless there is an onfail?   \n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4433347", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4433347/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4433350", "body": "done, see lib/ansible/connection\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4433350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4435699", "body": "merged up, I don't think the stuff that parses the host file ignores lines starting with \"#\" so we will probably need to patch that.   Filing a ticket\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4435699/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4436134", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4436134/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444075", "body": "fixed\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444075/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444078", "body": "this is already done in /usr/bin/ansible, do similar to playbooks\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444078/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444081", "body": "-P implemented, see \"examples\" on the doc site\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444081/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444088", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444090", "body": "basically done / obsolete\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444090/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444097", "body": "needs to kick off jobs everywhere and then poll, and then fail the jobs that do not complete in time\n\nsee code in /usr/bin/ansible for use as a baseline\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444097/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4460335", "body": "more or less exists in module docs, but should indicate how to test them from CLI and a little more about req'd options\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4460335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4460914", "body": "also this should really happen only in one place, i.e. utils.\n\nmake a is_failed(result) function\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4460914/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4465583", "body": "Thanks, but needs changes.\n\nI agree this is good behavior, though library code should NEVER sys.exit(), this should raise an exception which we can catch in /bin/ansible and /bin/ansible-playbook, noting the type of the Exception and converting it to a friendly error message vs a stack trace.\n\nI need to make a common AnsibleException class in Utils, or you can.    Let me know.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4465583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4474035", "body": "I may have not pushed to public yet.  I am ok with pulling my commit from this pull request.\n\nWill pull/test tonight.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4474035/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489264", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489265", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489272", "body": "too confusing right now\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489276", "body": "options lines like \"async\" should also be able to use vars\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489302", "body": "we can run playbooks in the examples dir for this\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489304", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489311", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489319", "body": "moving to website tracker\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4490567", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4490567/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "tbielawa": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4466728", "body": "Following up on this with another pull request.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4466728/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4466764", "body": "Uh. Weird. Looks like I pulled a commit from your mpdehaan fork that isn't in here yet. Want me to rebase this off of something else?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4466764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "fivethreeo": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/127829445", "body": "Maybe alter the snake_dict_to_camel_dict take a kwarg, uppercase_first.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/127829445/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/127851025", "body": "Changed snake_dict_to_camel_dict to take a capitalize_first kwarg, change the one in ansible.module_utils.ec2?", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/127851025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "stympy": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/111571425", "body": "Yes, we use the 201 status code (created) as the successful response for this API endpoint, rather than 200. ", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/111571425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "kavu": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10867687", "body": "To avoid copy-pasting I am using `api_lookup_role_by_name` with additional parameter, quieting output during API call.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10867687/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10867693", "body": "`parser` is undefined in this function, I think we can delete this statement safely.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10867693/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10867700", "body": "I am not sure if it's ok to use `print print print`. Should I define a multiline-string template and interpolate values with it?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10867700/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "garethr": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10195117", "body": "Thanks, I've corrected the documentation and the example. I agree, `name` provides a better interface.\n\nI've left the internal variable name as `group_name` however as that maps to the actual AWS name. Making this more explicit if you're in the code feels useful to me.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10195117/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "bendiken": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/9828698", "body": "The list of supported protocol names surely is sourced from `/etc/protocols` and/or `/etc/services`, so adding support for protocol names one by one might not be a tenable approach?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/9828698/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}, "pol": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5196396", "body": "This is confusing or wrong, is it considered changed when it is true or false?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5196396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5196582", "body": "Grammar is clumsy, recommended change:\n\nUse the \"changed_when\" option to override the default module \"change\" reporting.  The \"changed_when\" option takes a Python expression.  ...\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5196582/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "retr0h": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121245586", "body": "Wouldn't it be better to pass cmd_output through decode?  Therefore, we don't need to handle bytes directly?\r\n\r\n```\r\ncmd_output = cmd_output.decode('utf-8')\r\n```\r\n\r\nThen we can keep the code exactly as is.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121245586/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "pwnall": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/93417349", "body": "I would like this hunk in a separate PR.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/93417349/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "calfonso": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/116243595", "body": "Is this section needed for parity with previous versions of this document? If not, is it needed if it doesn't provide any info or than no info?", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/116243595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/117328552", "body": "s/tha/the", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/117328552/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/117331101", "body": "reduction of", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/117331101/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/132195541", "body": "@jedelman8 you're right. @schunduri ^", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/132195541/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/148936822", "body": "@thaumos @itdependsnetworks we had already started on NXOS for 2.4, it's not a new platform we are adding. We ran out of time for 2.4, so picking up some of the stuff we didn't get done. We are not changing how DI is designed in 2.5.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/148936822/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/149092513", "body": "@itdependsnetworks I'm not aware of the time constraint around documentation. The documentation discussion was about how we want to advertise DI modules and the direction we should have other people take when implementing modules. For the platforms we already implemented using DI, we are taking time to finish up some features we didn't get to. What else do you want to know?", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/149092513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "flaper87": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265531", "body": "\ud83d\udc4d ", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265531/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265534", "body": "done", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265534/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265548", "body": "mmhh, tbh, it should work but I'll double check ", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265548/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265592", "body": "There could be but this is something `pyhelm` doesn't support right now. We can add it once the feature is added there. Thoughts?", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265596", "body": "\ud83d\udc4d ", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265596/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/123185073", "body": "@ryansb so, yeah, this should work. Want to resolve this?", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/123185073/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156591311", "body": "I think it's fine to keep this here for now but, I wonder if this check (and similar checks in the future) should go into the `OpenShift` client as they are specific to `OpenShift` and not `Kubernetes`.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156591311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156593100", "body": "Out of curiosity, what are the benefits of using the openshift restclient instead of the kubernetes client?\r\n\r\nIIUC, the openshift client models are generated using OpenShift origin, which doesn't necessarily have the latest supported API by upstream `Kubernetes`. This has caused me some problems in the past where I've needed newer APIs that weren't supported by the openshift client. This is not to say that upstream kubernetes-client is better or worse but I'd like to find a way for us to be able to consume the latest released version of kubernetes. Am I missing something? \r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156593100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156689698", "body": "@chouseknecht thanks a bunch, it makes sense to me.\r\n\r\nFWIW, I'm happy to help with the maintenance of the openshift client too. I'd like to help keeping the ansible module and the openshift client aligned with upstream kubernetes.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156689698/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156690412", "body": "@chouseknecht makes sense. Also, as a first iteration, this is already good so I wouldn't stress it to find a better abstraction at this stage. I think once this module matures, we can start thinking about splitting some of this logic.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156690412/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}}, "4": {"mtnbikenc": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35051", "title": "ansible_virtualization_type and ansible_virtualization_role not recognized for Amazon EC2 C5 Instances", "body": "<!---\r\nVerify first that your issue/request is not already reported on GitHub.\r\nAlso test if the latest release, and master branch are affected too.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest -->\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\n<!---\r\nName of the module, plugin, task or feature\r\nDo not include extra details here, e.g. \"vyos_command\" not \"the network module vyos_command\" or the full path\r\n-->\r\nlib/ansible/module_utils/facts/virtual/linux.py\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.5.0 (devel fb18338cdc) last updated 2018/01/18 11:02:22 (GMT -400)\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/home/rteague/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /home/rteague/git/clusters/aws-c1/ansible/lib/ansible\r\n  executable location = /home/rteague/git/clusters/aws-c1/ansible/bin/ansible\r\n  python version = 2.7.14 (default, Jan 11 2018, 14:45:11) [GCC 7.2.1 20170915 (Red Hat 7.2.1-2)]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\n<!---\r\nIf using Ansible 2.4 or above, paste the results of \"ansible-config dump --only-changed\"\r\nOtherwise, mention any settings you have changed/added/removed in ansible.cfg\r\n(or using the ANSIBLE_* environment variables).\r\n-->\r\n```\r\n$ ansible-config dump --only-changed\r\n(no output)\r\n```\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nN/A\r\n\r\n##### SUMMARY\r\n<!--- Explain the problem briefly -->\r\nAmazon EC2 C5 instances are not properly recognized due to a change in bios_vendor/sys_vendor identifier.\r\n\r\n##### STEPS TO REPRODUCE\r\n<!---\r\nFor bugs, show exactly how to reproduce the problem, using a minimal test-case.\r\nFor new features, show how the feature would be used.\r\n-->\r\nOn a C5 instance:\r\n```\r\n$ ansible -m setup all -i /tmp/c5_host |grep \"virtualization\"\r\n        \"ansible_virtualization_role\": \"NA\", \r\n        \"ansible_virtualization_type\": \"NA\", \r\n```\r\n\r\n\r\n\r\n##### EXPECTED RESULTS\r\n<!--- What did you expect to happen when running the steps above? -->\r\nExpected _role and _type to be properly populated.\r\n\r\n##### ACTUAL RESULTS\r\n<!--- What actually happened? If possible run with extra verbosity (-vvvv) -->\r\n\r\n<!--- Paste verbatim command output between quotes below -->\r\n```\r\nChecked on the EC2 C5 instance:\r\n# cat /sys/devices/virtual/dmi/id/bios_vendor\r\nAmazon EC2\r\n# cat /sys/devices/virtual/dmi/id/sys_vendor\r\nAmazon EC2\r\n# cat /sys/devices/virtual/dmi/id/product_name\r\nc5.large\r\n\r\nChecking on a normal EC2 instance:\r\n# cat /sys/devices/virtual/dmi/id/bios_vendor\r\nXen\r\n# cat /sys/devices/virtual/dmi/id/sys_vendor\r\nXen\r\n# cat /sys/devices/virtual/dmi/id/product_name\r\nHVM domU\r\n```\r\nPlease see related bug: https://bugzilla.redhat.com/show_bug.cgi?id=1533099", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35051/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dagwieers": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35050", "title": "aci_rest: Using status=\"created\" behaves differently than status=\"deleted\"", "body": "##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\naci_rest\r\n\r\n##### ANSIBLE VERSION\r\nv2.4+\r\n\r\n##### SUMMARY\r\nIf you use a REST payload with **aci_rest** using `status=\"created\"` the action is not idempotent. The first time (when the object does not exist) it works (`changed=True`), but a subsequent call fails as the APIC returns an HTTP failure.\r\n\r\nHowever, if you do the same for removing an object using `status=\"deleted\"` the action *is* idempotent. So a subsequent call works (and does not report a change, `changed=False`) as one would expect.\r\n\r\nThis seems an implementation issue in the APIC.\r\n\r\n**PS** If you would add `status=\"created,modified\"` or simply `status=\"modified\"` your task will be idempotent and it will not lead to failures on subsequent runs.\r\n\r\n##### STEPS TO REPRODUCE\r\nThis will cause a failure on a subsequent create:\r\n```xml\r\n<aaaUserCert dn=\"uni/userext/user-admin/usercert-admin\" data=\"-----BEGIN CERTIFICATE-----\\r\\nMII<snip>NGg\\r\\n-----END CERTIFICATE\\r\\n\" name=\"admin\" rn=\"usercert-admin\" status=\"created\"/>\r\n```\r\n\r\nThis will not cause a failure on a subsequent removal:\r\n```xml\r\n<aaaUserCert dn=\"uni/userext/user-admin/usercert-admin\" name=\"admin\" rn=\"usercert-admin\" status=\"deleted\"/>\r\n```\r\n\r\nHowever using `status=\"modified\"` will always work.\r\n\r\nThis report wants to highlight that creation and deletion have a different behaviour.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35050/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/2fd5a99989fb52e5026da316608f17c53c037f6f", "message": "ACI: Fix validate-module tests E322 and E323 (#35052)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2044503", "body": "I am not too pleased seeing this to be made the default way of adding actions. Not only do we remove the very explicit \"action\" from the syntax (which is part of the terminology), we also make local_action an exception to the default practice, as well as mixing namespaces.\n\nSure it is shorter, but is shorter better ?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2044503/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2406171", "body": "Thanks !\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2406171/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "review_comments": []}, "freeseacher": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35048", "title": "import_tasks inside include_tasks generates confusing error", "body": "\r\n##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\ncore\r\n\r\n##### ANSIBLE VERSION\r\n\r\n```\r\n2.4.2.0 - v2.4.3.0-0.5.rc2\r\n```\r\n\r\n##### CONFIGURATION\r\n<!---\r\n# ansible-config dump --only-changed\r\nANSIBLE_PIPELINING(env: ANSIBLE_SSH_PIPELINING) = True\r\nCACHE_PLUGIN(env: ANSIBLE_CACHE_PLUGIN) = yaml\r\nCACHE_PLUGIN_CONNECTION(env: ANSIBLE_CACHE_PLUGIN_CONNECTION) = /tmp/ansible_cache\r\nDEFAULT_ROLES_PATH(env: ANSIBLE_ROLES_PATH) = [u'/opt/tower/var/tower/roles/NOC', u'/opt/tower/var/tower/playbooks/NOC']\r\nDEFAULT_STDOUT_CALLBACK(env: ANSIBLE_STDOUT_CALLBACK) = debug\r\nHOST_KEY_CHECKING(env: ANSIBLE_HOST_KEY_CHECKING) = False\r\n\r\n-->\r\n\r\n##### OS / ENVIRONMENT\r\nN/A\r\n\r\n##### SUMMARY\r\nwrong error generated if import_tasks found in include_tasks file\r\n\r\n##### STEPS TO REPRODUCE\r\n\r\n```yaml\r\n- include_tasks: \"os/{{ ansible_distribution }}/main.yml\"\r\n...\r\ninside\r\n...\r\n- import_tasks: \"firewall.yml\"\r\n\r\n```\r\n\r\n\r\n##### EXPECTED RESULTS\r\nimport error/lint error/any error\r\n\r\n##### ACTUAL RESULTS\r\n```\r\nfatal: [node1]: FAILED! => {\r\n    \"reason\": \"'ansible_distribution' is undefined\"\r\n}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35048/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "maxgio92": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35046", "title": "s3_lifecycle: Add support for non-current versions", "body": "##### ISSUE TYPE\r\nFeature Idea\r\n\r\n##### COMPONENT NAME\r\ns3_lifecycle\r\n\r\n##### ANSIBLE VERSION\r\n2.4.2.0\r\n\r\n##### OS / ENVIRONMENT\r\nMacOS 10.13.2\r\n\r\n##### SUMMARY\r\nIt would be nice to have control on which versions to apply the rule to (current version or previous non-current versions).\r\n\r\nActually is not possible to apply the rule for non-current version S3 objects and by default the rule will be applied only to current version objects; this is because the s3_lifecycle module uses Boto 2 .\r\n\r\nIn Boto 2 the Rule class does not support the non-current versions of the S3 objects instead Boto 3 does:\r\nhttp://boto.cloudhackers.com/en/latest/ref/s3.html?highlight=lifecycle#boto.s3.lifecycle.Rule\r\nhttps://boto3.readthedocs.io/en/latest/reference/services/s3.html#S3.BucketLifecycle.rules\r\n\r\nThe only solution seems to be to rewrite the entire module using Boto 3.\r\n\r\nThank you all!\r\n\r\n##### EXPECTED RESULTS\r\nIn s3_lifecycle module to have new options, something like this:\r\n- noncurrent_version_transition\r\n- noncurrent_version_storage_class\r\n- noncurrent_version_expiration\r\n\r\nin order to apply a rule to non-current versions of the objects.\r\n\r\n##### ACTUAL RESULTS\r\nIt is not possible to do it.\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35046/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "yamenK": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35042", "title": "Add exclusion list to filetree plugin", "body": "##### ISSUE TYPE\r\n - Feature Idea\r\n\r\n\r\n##### COMPONENT NAME\r\n  - Filetree plugin\r\n\r\n\r\n##### SUMMARY\r\nWhen using the filetree plugin in combination with the template module, I would like to exclude some subdirectories under the root path as these sub-directories contain many files that I don't want to process with the template module.\r\n\r\n```\r\nroot\r\n  |_ directory1\r\n  |_ directory2\r\n              |_ include-subdir\r\n              |_ exclude-subdir\r\n```\r\n\r\nIt is possible to specify the subdirectories separately, however their relative path to the root is lost, when running:\r\n\r\n```\r\n- name: Create directories\r\n  file:\r\n    path: /root/{{ item.path }}\r\n    state: directory\r\n    mode: '{{ item.mode }}'\r\n  with_filetree: root/\r\n  when: item.state == 'directory'\r\n\r\n- name: Template files\r\n  template:\r\n    src: '{{ item.src }}'\r\n    dest: /root/{{ item.path }}\r\n    mode: '{{ item.mode }}'\r\n  with_filetree:\r\n     - /root/directory1\r\n     - /root/directory2/include-subdir\r\n  when: item.state == 'file'\r\n```\r\n\r\n##### EXPECTED RESULTS\r\nAllow for an exclusion list for filetree plugin.\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35042/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "marinus81": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35041", "title": "aci_rest: change not detected", "body": "<!---\r\nVerify first that your issue/request is not already reported on GitHub.\r\nAlso test if the latest release, and master branch are affected too.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest -->\r\n - Bug Report \r\n - maybe Enhancement request?\r\n\r\n##### COMPONENT NAME\r\naci_rest\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.2.0\r\n  config file = None\r\n  configured module search path = [u'/home/dhamann/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible\r\n  executable location = /usr/local/bin/ansible\r\n  python version = 2.7.12 (default, Nov 20 2017, 18:23:56) [GCC 5.4.0 20160609]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\n<!---\r\nIf using Ansible 2.4 or above, paste the results of \"ansible-config dump --only-changed\"\r\nOtherwise, mention any settings you have changed/added/removed in ansible.cfg\r\n(or using the ANSIBLE_* environment variables).\r\n-->\r\nDEFAULT_DEBUG(env: ANSIBLE_DEBUG) = False\r\nDEFAULT_STRATEGY(env: ANSIBLE_STRATEGY) = linear\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nN/A\r\n\r\n##### SUMMARY\r\n<!--- Explain the problem briefly -->\r\naci_rest module does not always detect changed config, but reports it as unchanged (\"ok:\")\r\n\r\n##### STEPS TO REPRODUCE\r\n<!---\r\nFor bugs, show exactly how to reproduce the problem, using a minimal test-case.\r\nFor new features, show how the feature would be used.\r\n-->\r\nDepending on how you push the config to APIC the aci_rest module detects it as changed or not:\r\n\r\nThis example will always report as unchanged:\r\n<!--- Paste example playbooks or commands between quotes below -->\r\n```yaml\r\n- name: Create CDP Policies\r\n      tags:\r\n        - create\r\n        - network\r\n      aci_rest:\r\n        host: \"{{ apic_hostname }}\"\r\n        username: \"{{ apic_username }}\"\r\n        password: \"{{ apic_password }}\"\r\n        validate_certs: false\r\n        method: post\r\n        path: \"api/node/mo/uni/infra.xml?rsp-subtree=modified\"\r\n        content: |\r\n          <infraInfra>\r\n            <cdpIfPol adminSt=\"{{item.state}}\"  name=\"{{item.name}}\" descr=\"CDP set to {{item.state}}\"/>\r\n          </infraInfra>\r\n      with_items:\r\n        - \"{{cdp_policies}}\"\r\n```\r\n\r\nThis playbook works as expected (\"ok:\" if nothing has changed and \"changed:\" otherwise)\r\n```yaml\r\n- name: Create CDP Policies\r\n      tags:\r\n        - create\r\n        - network\r\n      aci_rest:\r\n        host: \"{{ apic_hostname }}\"\r\n        username: \"{{ apic_username }}\"\r\n        password: \"{{ apic_password }}\"\r\n        validate_certs: false\r\n        method: post\r\n        path: \"api/node/mo/uni/infra/.xml?rsp-subtree=modified\"\r\n        content: |\r\n            <cdpIfPol adminSt=\"{{item.state}}\"  name=\"{{item.name}}\" descr=\"CDP set to {{item.state}}\"/>\r\n      with_items:\r\n        - \"{{cdp_policies}}\"\r\n```\r\nNote the difference in path: parameter (infra.xml vs. infra/.xml) as well as adjusted content.\r\n\r\n<!--- You can also paste gist.github.com links for larger files -->\r\n\r\n##### EXPECTED RESULTS\r\nIn both cases changes to actual APIC config should result in \"changed:\" status\r\n\r\n##### ACTUAL RESULTS\r\n<!--- What actually happened? If possible run with extra verbosity (-vvvv) -->\r\nThe reason why the first playbook does not behave as expected is that APIC does not populate the \"status=\" parameter as expected by the aci_rest module (it will only report change if this parameter is set to either of 'created', 'modified', 'deleted')\r\n(see https://github.com/datacenter/aci-ansible/blob/e87db8f15e34ea7dc2e1b30fd445a4c59561bbc9/library/aci_rest.py#L270-L284)\r\n<!--- Paste verbatim command output between quotes below -->\r\n```\r\nok: [localhost] => (item={u'state': u'enabled', u'name': u'cdp_on2'}) => {\r\n    \"changed\": false, \r\n    \"error_code\": 0, \r\n    \"error_text\": \"Success\", \r\n    \"imdata\": [\r\n        {\r\n            \"infraInfra\": {\r\n                \"attributes\": {\r\n                    \"childAction\": \"deleteNonPresent\", \r\n                    \"dn\": \"uni/infra\", \r\n                    \"lcOwn\": \"local\", \r\n                    \"modTs\": \"2017-08-17T01:40:52.471+01:00\", \r\n                    \"monPolDn\": \"uni/fabric/monfab-default\", \r\n                    \"name\": \"infra\", \r\n                    \"nameAlias\": \"\", \r\n                    \"ownerKey\": \"\", \r\n                    \"ownerTag\": \"\", \r\n                    \"rn\": \"\", \r\n                    \"status\": \"\", \r\n                    \"uid\": \"0\"\r\n                }, \r\n                \"children\": [\r\n                    {\r\n                        \"cdpIfPol\": {\r\n                            \"attributes\": {\r\n                                \"adminSt\": \"enabled\", \r\n                                \"childAction\": \"deleteNonPresent\", \r\n                                \"descr\": \"\", \r\n                                \"extMngdBy\": \"\", \r\n                                \"lcOwn\": \"local\", \r\n                                \"modTs\": \"2018-01-17T09:45:05.902+01:00\", \r\n                                \"monPolDn\": \"\", \r\n                                \"name\": \"cdp_on2\", \r\n                                \"nameAlias\": \"\", \r\n                                \"ownerKey\": \"\", \r\n                                \"ownerTag\": \"\", \r\n                                \"rn\": \"cdpIfP-cdp_on2\", \r\n                                \"status\": \"\", \r\n                                \"uid\": \"17805\"\r\n                            }\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    ], \r\n    \"invocation\": {\r\n        \"module_args\": {\r\n            \"content\": \"<infraInfra>\\n  <cdpIfPol adminSt=\\\"enabled\\\"  name=\\\"cdp_on2\\\" />\\n</infraInfra>\\n\", \r\n            \"host\": \"apic.ddsdnlab.at\", \r\n            \"hostname\": \"apic.ddsdnlab.at\", \r\n            \"method\": \"post\", \r\n            \"password\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\", \r\n            \"path\": \"api/node/mo/uni/infra.xml?rsp-subtree=modified\", \r\n            \"protocol\": \"https\", \r\n            \"src\": null, \r\n            \"timeout\": 30, \r\n            \"use_proxy\": true, \r\n            \"use_ssl\": true, \r\n            \"username\": \"ansible\", \r\n            \"validate_certs\": false\r\n        }\r\n    }, \r\n    \"item\": {\r\n        \"name\": \"cdp_on2\", \r\n        \"state\": \"enabled\"\r\n    }, \r\n    \"response\": \"OK (544 bytes)\", \r\n    \"status\": 200, \r\n    \"totalCount\": \"1\", \r\n    \"url\": \"https://apic.ddsdnlab.at/api/node/mo/uni/infra.xml?rsp-subtree=modified\"\r\n}\r\n```\r\n\r\nOn the other hand the second playbook runs as expected as returned data from APIC contains (status='modified'):\r\n\r\n```\r\nchanged: [localhost] => (item={u'state': u'enabled', u'name': u'cdp_on'}) => {\r\n    \"changed\": true, \r\n    \"error_code\": 0, \r\n    \"error_text\": \"Success\", \r\n    \"imdata\": [\r\n        {\r\n            \"cdpIfPol\": {\r\n                \"attributes\": {\r\n                    \"adminSt\": \"enabled\", \r\n                    \"childAction\": \"deleteNonPresent\", \r\n                    \"descr\": \"CDP set to enabled\", \r\n                    \"dn\": \"uni/infra/cdpIfP-cdp_on\", \r\n                    \"extMngdBy\": \"\", \r\n                    \"lcOwn\": \"local\", \r\n                    \"modTs\": \"2018-01-18T05:26:34.072+01:00\", \r\n                    \"monPolDn\": \"uni/fabric/monfab-default\", \r\n                    \"name\": \"cdp_on\", \r\n                    \"nameAlias\": \"\", \r\n                    \"ownerKey\": \"\", \r\n                    \"ownerTag\": \"\", \r\n                    \"rn\": \"\", \r\n                    \"status\": \"modified\", \r\n                    \"uid\": \"15374\"\r\n                }\r\n            }\r\n        }\r\n    ], \r\n    \"invocation\": {\r\n        \"module_args\": {\r\n            \"content\": \"<cdpIfPol adminSt=\\\"enabled\\\"  name=\\\"cdp_on\\\" descr=\\\"CDP set to enabled\\\"/>\\n\", \r\n            \"host\": \"apic.ddsdnlab.at\", \r\n            \"hostname\": \"apic.ddsdnlab.at\", \r\n            \"method\": \"post\", \r\n            \"password\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\", \r\n            \"path\": \"api/node/mo/uni/infra/.xml?rsp-subtree=modified\", \r\n            \"protocol\": \"https\", \r\n            \"src\": null, \r\n            \"timeout\": 30, \r\n            \"use_proxy\": true, \r\n            \"use_ssl\": true, \r\n            \"username\": \"ansible\", \r\n            \"validate_certs\": false\r\n        }\r\n    }, \r\n    \"item\": {\r\n        \"name\": \"cdp_on\", \r\n        \"state\": \"enabled\"\r\n    }, \r\n    \"response\": \"OK (375 bytes)\", \r\n    \"status\": 200, \r\n    \"totalCount\": \"1\", \r\n    \"url\": \"https://apic.ddsdnlab.at/api/node/mo/uni/infra/.xml?rsp-subtree=modified\"\r\n}\r\n```\r\n\r\nGiven this (weired?) behavior of APIC (I confirmed this behavior is the same on APIC versions 3.0, 3.1 and 2.1), I think the current implementation of aci_changed() might be insufficient.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "tiraboschi": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35039", "title": "ovirt_hosts has iscsidiscover and iscsilogin state but it misses iscsilogout", "body": "##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\novirt_hosts\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug  4 2017, 00:39:18) [GCC 4.8.5 20150623 (Red Hat 4.8.5-16)]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\n\r\n\r\n##### OS / ENVIRONMENT\r\nCentos 7\r\n\r\n##### SUMMARY\r\novirt_hosts has iscsidiscover and iscsilogin state but it misses iscsilogout, \r\noVIrt REST APIs lacks it as well: https://bugzilla.redhat.com/show_bug.cgi?id=1535951\r\n\r\novirt_host_storage_facts then performs an implicit iSCSI login:\r\nhttps://github.com/ansible/ansible/blob/devel/lib/ansible/modules/cloud/ovirt/ovirt_host_storage_facts.py#L134 and so you need the full iSCSI parameters set while according to its example it should simply Gather facts about HostStorages with specified target and address\r\n\r\n\r\n\r\n##### STEPS TO REPRODUCE\r\nTry an iSCSI logout\r\n\r\n##### EXPECTED RESULTS\r\niscsilogout state\r\n\r\n##### ACTUAL RESULTS\r\niscsidiscover and iscsilogin state are there but iscsilogout is not\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35039/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Chetan-CSI": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35034", "title": "An error occurred (RequestLimitExceeded) when calling the DescribeVpcEndpoints operation ", "body": "An error occurred (RequestLimitExceeded) when calling the DescribeVpcEndpoints operation \r\n\r\nISSUE TYPE\r\nBug Report\r\n\r\nCOMPONENT NAME\r\nec2_vpc_endpoint_facts\r\n\r\nANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug  4 2017, 00:39:18) [GCC 4.8.5 20150623 (Red Hat 4.8.5-16)]\r\n```\r\n\r\nCONFIGURATION\r\nDEFAULT_ROLES_PATH(/etc/ansible/ansible.cfg) = [u'/etc/ansible/roles', u'/usr/share/ansible/roles']\r\n\r\n OS / ENVIRONMENT\r\nCentos7.4\r\n\r\nSUMMARY\r\nReceived this error while trying to collect  VPC endpoint facts.\r\n\r\nSTEPS TO REPRODUCE\r\n1. Provision AWS VPC,  Subnets \r\n2. Collect VPC endpoint facts -> Throws RateLimitExceeded error\r\n\r\n```\r\n- name: EC2 VPC | Gather VPC s3 endpoint facts\r\n  ec2_vpc_endpoint_facts:\r\n    query: endpoints\r\n    region: \"{{ net_data.network_region }}\"\r\n    filters:\r\n      vpc-id: \"{{ vpc.vpc.id }}\"\r\n      vpc-endpoint-state:\r\n        - available\r\n      service-name: \"com.amazonaws.{{ net_data.network_region }}.s3\"\r\n  register: existing_s3_endpoints\r\n\r\n- name: EC2 VPC | Create a VPC s3 endpoint, only if doesn't exist\r\n  ec2_vpc_endpoint:\r\n    state: present\r\n    region: \"{{ net_data.network_region }}\"\r\n    vpc_id: \"{{ vpc.vpc.id }}\"\r\n    service: \"com.amazonaws.{{ net_data.network_region }}.s3\"\r\n  register: vpc_s3_endpoint\r\n  when: existing_s3_endpoints.vpc_endpoints == []\r\n```\r\nEXPECTED RESULTS\r\nVPC endpoint facts should have been fetched succssfully.\r\n\r\n##### ACTUAL RESULTS\r\nReceiving request limit exceeded error.\r\n```\r\n \"raw_output\": {\"localhost\": {\"_ansible_no_log\": false, \"_ansible_parsed\": false, \"changed\": false, \"exception\": \"Traceback (most recent call last):\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 205, in <module>\\n main()\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 199, in main\\n results = invocations[module.params.get('query')](connection, module)\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 157, in get_endpoints\\n response = client.describe_vpc_endpoints(*params)\\n File \\\"/usr/lib/python2.7/site-packages/botocore/client.py\\\", line 312, in _api_call\\n return self._make_api_call(operation_name, kwargs)\\n File \\\"/usr/lib/python2.7/site-packages/botocore/client.py\\\", line 601, in _make_api_call\\n raise error_class(parsed_response, operation_name)\\nbotocore.exceptions.ClientError: An error occurred (RequestLimitExceeded) when calling the DescribeVpcEndpoints operation (reached max retries: 4): Request limit exceeded.\\n\", \"failed\": true, \"module_stderr\": \"Traceback (most recent call last):\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 205, in <module>\\n main()\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 199, in main\\n results = invocations[module.params.get('query')](connection, module)\\n File \\\"/tmp/ansible_3EyYlb/ansible_module_ec2_vpc_endpoint_facts.py\\\", line 157, in get_endpoints\\n response = client.describe_vpc_endpoints(*params)\\n File \\\"/usr/lib/python2.7/site-packages/botocore/client.py\\\", line 312, in _api_call\\n return self._make_api_call(operation_name, kwargs)\\n File \\\"/usr/lib/python2.7/site-packages/botocore/client.py\\\", line 601, in _make_api_call\\n raise error_class(parsed_response, operation_name)\\nbotocore.exceptions.ClientError: An error occurred (RequestLimitExceeded) when calling the DescribeVpcEndpoints operation (reached max retries: 4): Request limit exceeded.\\n\", \"module_stdout\": \"\", \"msg\": \"MODULE FAILURE\", \"rc\": 0}}, \"task\": {\"id\": \"06164f46-5166-9c6c-b611-00000000005c\", \"name\": \"EC2 VPC | Gather VPC s3 endpoint facts\", \"start\": 1513760461.687647}}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/35032", "title": "An error occurred (RequestLimitExceeded) when calling the DescribeSubnets operation ", "body": "ISSUE TYPE\r\nBug Report\r\n\r\nCOMPONENT NAME\r\nec2_vpc_subnet\r\n\r\nANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug  4 2017, 00:39:18) [GCC 4.8.5 20150623 (Red Hat 4.8.5-16)]\r\n```\r\n\r\nCONFIGURATION\r\nDEFAULT_ROLES_PATH(/etc/ansible/ansible.cfg) = [u'/etc/ansible/roles', u'/usr/share/ansible/roles']\r\n\r\n OS / ENVIRONMENT\r\nCentos7.4\r\n\r\nSUMMARY\r\nReceived the error for max tries exceeded while deleting aws subnetwork.\r\nCould not reproduce this issue in the next iteration, but seems to be an intermittent one.\r\n\r\nSTEPS TO REPRODUCE\r\n1. Provision AWS VPC and Subnets\r\n2. De-provision AWS VPC and Subnets -> Throws RateLimitExceeded error\r\n\r\n```\r\n- block:\r\n  - name: EC2 VPC | Remove subnetwork\r\n    ec2_vpc_subnet:\r\n      vpc_id: \"{{ vpc_id }}\"\r\n      region: \"{{ net_data.network_region }}\"\r\n      cidr: \"{{ net_data.subnet_range }}\"\r\n      resource_tags:\r\n        Name: \"{{ resource_env.domain }}/{{ resource_env.env }}/{{ net_data.subnet_name }}\"\r\n        csi-environment: \"{{ resource_env.domain }}-{{ resource_env.env }}\"\r\n      state: absent\r\n  ignore_errors: true\r\n```\r\n##### EXPECTED RESULTS\r\nVPC and Subnets should have been deleted successfully.\r\n\r\n##### ACTUAL RESULTS\r\nFailed while deleting AWS VPC/Subnets\r\n```\r\nTraceback (most recent call last):\r\nFile \"/tmp/ansible_zYmUJP/ansible_module_ec2_vpc_subnet.py\", line 265, in main\r\ncheck_mode=module.check_mode)\r\nFile \"/tmp/ansible_zYmUJP/ansible_module_ec2_vpc_subnet.py\", line 214, in ensure_subnet_absent\r\nsubnet = get_matching_subnet(conn, vpc_id, cidr)\r\nFile \"/tmp/ansible_zYmUJP/ansible_module_ec2_vpc_subnet.py\", line 177, in get_matching_subnet\r\nsubnets = get_subnet_info(conn.describe_subnets(Filters=filters))\r\nFile \"/usr/lib/python2.7/site-packages/botocore/client.py\", line 312, in _api_call\r\nreturn self._make_api_call(operation_name, kwargs)\r\nFile \"/usr/lib/python2.7/site-packages/botocore/client.py\", line 601, in _make_api_call\r\nraise error_class(parsed_response, operation_name)\r\nClientError: An error occurred (RequestLimitExceeded) when calling the DescribeSubnets operation (reached max retries: 4): Request limit exceeded.\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35032/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35044", "title": "Fixes  #35034 - AWS RequestLimitExceeded error while calling DescribeVpcEndpoints", "body": "SUMMARY\r\nWe observed the AWS RequestLimitExceeded error while using ec2_vpc_endpoint_facts ansible module. Please refer issue #35034 for details.\r\n\r\nAdded AWSRetry.exponential_backoff() for describe calls.\r\n\r\nISSUE TYPE\r\n  - Bugfix Pull Request\r\n\r\nCOMPONENT NAME\r\nec2_vpc_endpoint_facts \r\n\r\nANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug  4 2017, 00:39:18) [GCC 4.8.5 20150623 (Red Hat 4.8.5-16)]\r\n```\r\n\r\n\r\nADDITIONAL INFORMATION", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "NZSmartie": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35030", "title": "delegate_to with unreachable hosts breaks playbook", "body": "##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\ndelegate_to\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/dist-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.12 (default, Nov 20 2017, 18:23:56) [GCC 5.4.0 20160609]\r\n```\r\n\r\n##### OS / ENVIRONMENT\r\nUbuntu 16.04.3 LTS\r\n\r\n##### SUMMARY\r\nUsing `delegate_to` (a perfect example can be found in the documentation [http://docs.ansible.com/ansible/latest/playbooks_delegation.html#delegated-facts](http://docs.ansible.com/ansible/latest/playbooks_delegation.html#delegated-facts)); When a host passed along to `delegate_to` is unreachable for whatever reason. The host that is executing the task will be also be marked as unreachable. After a large error is printed out (output from all hosts in the `delegate_to`?) and the playbook ends with something like:\r\n```\r\nPLAY RECAP *************************************************************************************************************************************************\r\nfoo.example.com    : ok=0    changed=0    unreachable=1    failed=0\r\n```\r\n\r\n##### STEPS TO REPRODUCE\r\nplaybook.yml:\r\n```yaml\r\n---\r\n- hosts: app_servers\r\n  tasks:\r\n    - name: gather facts from db servers\r\n      setup:\r\n      delegate_to: \"{{ item }}\"\r\n      delegate_facts: True\r\n      with_items: \"{{groups['dbservers']}}\"\r\n    - name: test\r\n      debug:\r\n        msg: \"test\"\r\n```\r\n\r\ninventory.yml:\r\n```yaml\r\n---\r\nall:\r\n  children:\r\n    app_servers:\r\n      hosts:\r\n        foo.example.com:\r\n    dbservers:\r\n      hosts:\r\n        bar.example.com:\r\n```\r\n\r\n##### EXPECTED RESULTS\r\n```\r\nPLAY [app_servers] ***********************************************************************************************************************************\r\n\r\nTASK [gather facts from db servers] ******************************************************************************************************************\r\nfailed: [foo.example.com] (item=bar.example.com) => {\"item\": \"bar.example.com\", \"msg\": \"Failed to connect to the host via ssh: ssh: connect to host bar.example.com port 22: Connection timed out\\r\\n\", \"unreachable\": true}\r\n\r\nTASK [test] ************************************************************************************************************************************************\r\nok: [foo.example.com] => {\r\n    \"msg\": \"test\"\r\n}\r\n```\r\n\r\n##### ACTUAL RESULTS\r\n```\r\nPLAY [app_servers] ***********************************************************************************************************************************\r\n\r\nTASK [gather facts from db servers] ******************************************************************************************************************\r\nfailed: [foo.example.com] (item=bar.example.com) => {\"item\": \"bar.example.com\", \"msg\": \"Failed to connect to the host via ssh: ssh: connect to host bar.example.com port 22: Connection timed out\\r\\n\", \"unreachable\": true}\r\nfatal: [foo.example.com]: UNREACHABLE! => {\"changed\": false, \"msg\": \"All items completed\", \"...\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "hvindin": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35029", "title": "Copy module silently truncates files if target server tmp location is to small.", "body": "##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\nCopy module\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/home/l066731/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.5 (default, Aug 29 2016, 10:12:21) [GCC 4.8.5 20150623 (Red Hat 4.8.5-4)]\r\n```\r\n\r\n##### CONFIGURATION\r\n```\r\nALLOW_WORLD_READABLE_TMPFILES(/etc/ansible/ansible.cfg) = True\r\nANSIBLE_PIPELINING(/etc/ansible/ansible.cfg) = True\r\nANSIBLE_SSH_ARGS(/etc/ansible/ansible.cfg) = -C -o ControlMaster=auto -o ControlPersist=240s\r\nANSIBLE_SSH_CONTROL_PATH_DIR(/etc/ansible/ansible.cfg) = ~/.ansible/cp\r\nCACHE_PLUGIN(/etc/ansible/ansible.cfg) = redis\r\nCACHE_PLUGIN_CONNECTION(/etc/ansible/ansible.cfg) = localhost:6379:0\r\nCACHE_PLUGIN_TIMEOUT(/etc/ansible/ansible.cfg) = 10000\r\nCOMMAND_WARNINGS(/etc/ansible/ansible.cfg) = False\r\nDEFAULT_ALLOW_UNSAFE_LOOKUPS(/etc/ansible/ansible.cfg) = True\r\nDEFAULT_CALLBACK_WHITELIST(/etc/ansible/ansible.cfg) = ['timer', 'skippy', 'profile_roles', 'junit']\r\nDEFAULT_FORKS(/etc/ansible/ansible.cfg) = 15\r\nDEFAULT_GATHERING(/etc/ansible/ansible.cfg) = smart\r\nDEFAULT_GATHER_SUBSET(/etc/ansible/ansible.cfg) = all\r\nDEFAULT_GATHER_TIMEOUT(/etc/ansible/ansible.cfg) = 60\r\nDEFAULT_HASH_BEHAVIOUR(/etc/ansible/ansible.cfg) = replace\r\nDEFAULT_LOAD_CALLBACK_PLUGINS(/etc/ansible/ansible.cfg) = True\r\nDEFAULT_LOG_PATH(/etc/ansible/ansible.cfg) = /var/log/ansible/ansible.log\r\nDEFAULT_MANAGED_STR(/etc/ansible/ansible.cfg) = Ansible managed: {file} %Y-%m-%d %H:%M:%S\r\nDEFAULT_PRIVATE_ROLE_VARS(/etc/ansible/ansible.cfg) = True\r\nDEFAULT_SCP_IF_SSH(/etc/ansible/ansible.cfg) = smart\r\nDEFAULT_SFTP_BATCH_MODE(/etc/ansible/ansible.cfg) = False\r\nDEFAULT_SSH_TRANSFER_METHOD(/etc/ansible/ansible.cfg) = smart\r\nDEFAULT_TRANSPORT(/etc/ansible/ansible.cfg) = smart\r\nDEFAULT_UNDEFINED_VAR_BEHAVIOR(/etc/ansible/ansible.cfg) = True\r\nDEPRECATION_WARNINGS(/etc/ansible/ansible.cfg) = False\r\nDISPLAY_ARGS_TO_STDOUT(/etc/ansible/ansible.cfg) = True\r\nDISPLAY_SKIPPED_HOSTS(/etc/ansible/ansible.cfg) = True\r\nERROR_ON_MISSING_HANDLER(/etc/ansible/ansible.cfg) = True\r\nSHOW_CUSTOM_STATS(/etc/ansible/ansible.cfg) = True\r\n```\r\n\r\n##### OS / ENVIRONMENT\r\nRunning with master and target server on Red Hat Enterprise Linux Server 7.2 (Maipo)\r\n\r\n##### SUMMARY\r\nThe Copy module seems to silently fail if the tmp location runs out of space when copying a large file. The copy module will simply fill the diskmount for the defined tmp location on the target server then move the truncated file to the desired path without notifying the user of the failed copy.\r\n\r\nThis can be caught by checking the hash's or file size of the target file, but this seems like it's something that the copy module itself should be able to do to validate that a copy actually occurred correctly.\r\n\r\n##### STEPS TO REPRODUCE\r\nSet up an environment with a target server with a /home diskmount of 2gb size\r\nConfigure ansible to use ~/.ansible/tmp for tmp when copying files (I assume this works if you set the tmp directory to any location with a limited size mount, but I'll use /home for the sake of simplicity)\r\n\r\nGenerate a 3gb random file `dd if=/dev/urandom of=random bs=1M count=3072` and place it in the files directory of a role.\r\nExecute the following role:\r\n\r\n```yaml\r\n- name: copy random file to /random\r\n  copy:\r\n    src: random\r\n    dest: /random\r\n    force: yes\r\n  register: copied\r\n\r\n- name: debug copied\r\n  debug:\r\n    var: copied\r\n\r\n- name: debug random file stat\r\n  local_action: stat path=\"{{ role_path }}/files/random\"\r\n  register: local_file\r\n\r\n- name: debug random file details\r\n  local_action: debug msg=\"{{ local_file.stat }}\"\r\n```\r\n\r\n##### EXPECTED RESULTS\r\nThe sha1sum's of the files copied to the server should match if the copy is successful. If the copy is *not* successful then the copy task should fail.\r\n\r\nIf the target diskmount hasn't got sufficient space for the copied file, the copy task should fail when it runs out of space, not silently truncating the file.\r\n\r\n##### ACTUAL RESULTS\r\nThe copy task is \"successful\" (changed) but the sha1sum of each of the files is random depending how much of the file actually copied to the server before the disk capped storage space.\r\n\r\nBelow trimmed down execution on 5 servers with varying amount of stuff already on the /home directory:\r\n```yaml\r\nPLAY [all] ***********************************************************************************************************************************************************************************\r\n\r\nTASK [test : copy random file to /random src=random, force=True, mode=a=rwX, dest=/random, group=root, owner=root] ***************************************************************\r\nchanged: [auslslnxsd4958]\r\nchanged: [auslslnxsd5505]\r\nchanged: [auslslnxsd3899]\r\nchanged: [auslslnxsd5502]\r\nchanged: [auslslnxsd4960]\r\n\r\nTASK [test : debug copied var=copied] ****************************************************************************************************************************************************\r\nok: [auslslnxsd4958] => {\r\n    \"copied\": {\r\n        \"checksum\": \"0f1d62e25d9487eed4c302a7320d3dd2e37c97cd\", \r\n        \"dest\": \"/random\", \r\n        \"size\": 1761767424, \r\n    }\r\n}\r\nok: [auslslnxsd5505] => {\r\n    \"copied\": {\r\n        \"checksum\": \"5aa686f6fc2038a57bc053c4f7256d1a0144c2a8\", \r\n        \"dest\": \"/random\",\r\n        \"size\": 1913671680\r\n    }\r\n}\r\nok: [auslslnxsd3899] => {\r\n    \"copied\": {\r\n        \"checksum\": \"96febf0131e1e8e70d883bd74e3b66ee1bcbd67d\", \r\n        \"dest\": \"/random\", \r\n        \"size\": 1911713792\r\n    }\r\n}\r\nok: [auslslnxsd5502] => {\r\n    \"copied\": {\r\n        \"checksum\": \"7bd512c18837afd438df718d9304c94a12bacd7a\", \r\n        \"dest\": \"/random\", \r\n        \"size\": 1913860096 \r\n    }\r\n}\r\nok: [auslslnxsd4960] => {\r\n    \"copied\": {\r\n        \"checksum\": \"b761ec98e3578742c2911851fa8f712cbb531de2\", \r\n        \"dest\": \"/random\", \r\n        \"size\": 1915072512 \r\n    }\r\n}\r\n\r\nTASK [test : local stat of random file path={{ role_path }}/files/random] ****************************************************************************************************************\r\nok: [auslslnxsd4958 -> localhost]\r\nok: [auslslnxsd5505 -> localhost]\r\nok: [auslslnxsd3899 -> localhost]\r\nok: [auslslnxsd5502 -> localhost]\r\nok: [auslslnxsd4960 -> localhost]\r\n\r\n\r\nTASK [test : debug random file stat msg={{ local_file.stat }}] **************************************************************************************************************************\r\nok: [auslslnxsd4958 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\nok: [auslslnxsd5505 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\nok: [auslslnxsd3899 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\nok: [auslslnxsd5502 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\nok: [auslslnxsd4960 -> localhost] => {\r\n    \"msg\": {\r\n        \"checksum\": \"592f1b9adaab949bd30b10f9b1a893bac792dd19\", \r\n        \"size\": 3221225472 \r\n    }\r\n}\r\n```", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35029/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Mixer9": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35025", "title": "Unicode characters used in blockinfile", "body": "<!---\r\nVerify first that your issue/request is not already reported on GitHub.\r\nAlso test if the latest release, and master branch are affected too.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest -->\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\nblockinfile\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.1.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /bin/ansible\r\n  python version = 2.7.5 (default, May  3 2017, 07:55:04) [GCC 4.8.5 20150623 (Red Hat 4.8.5-14)]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\n<!---\r\nIf using Ansible 2.4 or above, paste the results of \"ansible-config dump --only-changed\"\r\nOtherwise, mention any settings you have changed/added/removed in ansible.cfg\r\n(or using the ANSIBLE_* environment variables).\r\n-->\r\nPERSISTENT_CONNECT_TIMEOUT(/etc/ansible/ansible.cfg) = 30\r\nRETRY_FILES_SAVE_PATH(/etc/ansible/ansible.cfg) = /tmp/ansibleretry\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nRed Hat Enterprise Linux Server release 7.3 (Maipo)\r\n\r\n##### SUMMARY\r\n<!--- Explain the problem briefly -->\r\nI want to edit the /etc/bashrc file to make the prompt turn red when you are root (uid 0), this requires control characters to set the color, these are apparently not allowed.\r\n\r\n##### STEPS TO REPRODUCE\r\n<!---\r\nFor bugs, show exactly how to reproduce the problem, using a minimal test-case.\r\nFor new features, show how the feature would be used.\r\n-->\r\nRun the below playbook with the control characters in place, they will most likely get clobbered when I submit.  \r\n<!--- Paste example playbooks or commands between quotes below -->\r\n```\r\n---\r\n- hosts: all\r\n  become: yes\r\n\r\n\r\n  tasks:\r\n     - name: Set /etc/bashrc to have red prompt when root.\r\n       blockinfile:\r\n         backup: yes\r\n         path: /etc/bashrc\r\n         state: present\r\n         block: |\r\n           if [ $(id -u) -eq 0 ];\r\n           then # you are root, set red colour prompt\r\n             PS1=\"\\[^[[31m\\][\\u@\\h:\\w]# \\[^[(B^[[m\\]\"\r\n           else # normal\r\n             PS1=\"[\\u@\\h:\\w]$ \"\r\n           fi\r\n         insertafter: \"# vim:ts=4:sw=4\"\r\n       register: insert\r\n```\r\n\r\n<!--- You can also paste gist.github.com links for larger files -->\r\n\r\n##### EXPECTED RESULTS\r\n<!--- What did you expect to happen when running the steps above? -->\r\nI expected the playbook to run successfully and edit the file to include the control characters.\r\n\r\n##### ACTUAL RESULTS\r\n<!--- What actually happened? If possible run with extra verbosity (-vvvv) -->\r\nIt would not run but produced the error below.\r\n\r\n<!--- Paste verbatim command output between quotes below -->\r\n```\r\nERROR! Syntax Error while loading YAML.\r\n\r\nexception type: <class 'yaml.reader.ReaderError'>\r\nexception: unacceptable character #x001b: control characters are not allowed\r\n  in \"<unicode string>\", position 330\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/35023", "title": "jabber module fails with messages successfully sent", "body": "<!---\r\nVerify first that your issue/request is not already reported on GitHub.\r\nAlso test if the latest release, and master branch are affected too.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n - Bug Report\r\n\r\n##### COMPONENT NAME\r\njabber\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.4.1.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\r\n  executable location = /bin/ansible\r\n  python version = 2.7.5 (default, May  3 2017, 07:55:04) [GCC 4.8.5 20150623 (Red Hat 4.8.5-14)]\r\n\r\n```\r\n\r\n##### CONFIGURATION\r\nPERSISTENT_CONNECT_TIMEOUT(/etc/ansible/ansible.cfg) = 30\r\nRETRY_FILES_SAVE_PATH(/etc/ansible/ansible.cfg) = /tmp/ansibleretry\r\n\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nRed Hat Enterprise Linux Server release 7.3 (Maipo)\r\nJabber server version unknown, I don't own the server.\r\n\r\n##### SUMMARY\r\nJabber module successfully sends the message with my playbook but reports a failure.\r\n\r\n##### STEPS TO REPRODUCE\r\n\r\nRun the playbook as shown below after editing the host to match your environment, the message passed will be delivered but the playbook will report a fail.\r\n\r\n```\r\n  - name: Jabber Test\r\n    hosts: localhost\r\n    gather_facts: no\r\n\r\n    tasks:\r\n    - name: Send Jabber message\r\n      jabber:\r\n        user: \"{{ user }}\"\r\n        password: \"{{ pass }}\"\r\n        to: \"{{ user2 }}\"\r\n        msg: \"{{ message }}\"\r\n        host: <jabber server redacted>\r\n\r\n```\r\n\r\n##### EXPECTED RESULTS\r\nI expected a success returned after message was sent.\r\n\r\n##### ACTUAL RESULTS\r\nansible returned a \"failed\": true when it successfully sent the message.\r\n\r\nfatal: [localhost]: FAILED! => {\r\n    \"changed\": false,\r\n    \"failed\": true,\r\n\r\n```\r\nThe full traceback is:\r\nTraceback (most recent call last):\r\n  File \"/tmp/ansible_oK1Fax/ansible_module_jabber.py\", line 157, in main\r\n    conn.disconnect()\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 378, in disconnect\r\n    while self.Process(1): pass\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 123, in Process\r\n    self.Stream.Parse(data)\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/simplexml.py\", line 425, in endtag\r\n    self.dispatch(self._mini_dom)\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 311, in dispatch\r\n    if user and self._defaultHandler: self._defaultHandler(session,stanza)\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 206, in returnStanzaHandler\r\n    conn.send(Error(stanza,ERR_FEATURE_NOT_IMPLEMENTED))\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/dispatcher.py\", line 372, in send\r\n    self._owner_send(stanza)\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/transports.py\", line 251, in send\r\n    self._owner.disconnected()\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/client.py\", line 129, in disconnected\r\n    for i in self.disconnect_handlers: i()\r\n  File \"/usr/lib/python2.7/site-packages/xmpp/client.py\", line 137, in DisconnectHandler\r\n    raise IOError('Disconnected from server.')\r\nIOError: Disconnected from server.\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "abhigrover": {"issues": [{"url": "https://api.github.com/repos/ansible/ansible/issues/35015", "title": "Including playbook and passing ssh_user and ssh_pass", "body": "##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest -->\r\n - Bug Report\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.3.0.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = Default w/o overrides\r\n  python version = 2.7.13 (default, Mar 13 2017, 20:56:15) [GCC 5.4.0]\r\n```\r\n##### COMPONENT NAME\r\nsetup\r\n\r\n##### CONFIGURATION\r\n<!---\r\nIf using Ansible 2.4 or above, paste the results of \"ansible-config dump --only-changed\"\r\nOtherwise, mention any settings you have changed/added/removed in ansible.cfg\r\n(or using the ANSIBLE_* environment variables).\r\n-->\r\n\r\n##### OS / ENVIRONMENT\r\n<!---\r\nMention the OS you are running Ansible from, and the OS you are\r\nmanaging, or say \"N/A\" for anything that is not platform-specific.\r\nAlso mention the specific version of what you are trying to control,\r\ne.g. if this is a network bug the version of firmware on the network device.\r\n-->\r\nWindows\r\n##### SUMMARY\r\n<!--- Explain the problem briefly -->\r\nI am trying to have a parent playbook call a child playbook, while passing in the \"host\" to run against, ssh username to use and ssh password to use to connect to this host. Calling the child playbook by itself works, but from the parent playbook I am getting \"Authentication failure\".\r\n##### STEPS TO REPRODUCE\r\n<!---\r\nFor bugs, show exactly how to reproduce the problem, using a minimal test-case.\r\nFor new features, show how the feature would be used.\r\n-->\r\n\r\n<!--- Paste example playbooks or commands between quotes below -->\r\nParent playbook - test_play_include.yml\r\n```\r\n---\r\n- include: test_play_passhostuserpass.yml t_host=\"host.example.com\" ssh_user=admin_user ssh_pass=\"sec#ret$pass\"\r\n```\r\nChild playbook - test_play_passhostuserpass.yml\r\n```\r\n---\r\n- hosts: all:&{{t_host}}\r\n\r\n  vars:\r\n  - ansible_ssh_user: \"{{ssh_user}}\"\r\n  - ansible_ssh_pass: \"{{ssh_pass}}\"\r\n  tasks:\r\n  - name: Show user account\r\n    shell: \"echo $USER\"\r\n```\r\n<!--- You can also paste gist.github.com links for larger files -->\r\n\r\n##### EXPECTED RESULTS\r\n<!--- What did you expect to happen when running the steps above? -->\r\nansible-playbook test_play_include.yml -i inventory\r\nshould connect to the host successfully\r\n##### ACTUAL RESULTS\r\n<!--- What actually happened? If possible run with extra verbosity (-vvvv) -->\r\nIf I run the child playbook by itself using the below, it works:\r\nansible-playbook test_play_passhostuserpass.yml -e 't_host=\"host.example.com\" ssh_user=admin_user ssh_pass=\"secret#ret$pass\"' -i inventory\r\n\r\nHowever, this fails:\r\n ansible-playbook test_play_include.yml -i inventory\r\n\r\n$ ansible-playbook test_play_include.yml -i inventory\r\n\r\nPLAY [all:&host.example.com] ******************************************************************************************************************************************\r\n\r\nTASK [Gathering Facts] ****************************************************************************************************************************************************\r\nfatal: [host.example.com]: UNREACHABLE! => {\"changed\": false, \"msg\": \"Authentication failure.\", \"unreachable\": true}\r\n        to retry, use: --limit @/home/myuser/ansible/mydir/test_play_include.retry\r\n\r\nPLAY RECAP ****************************************************************************************************************************************************************\r\nhost.example.com       : ok=0    changed=0    unreachable=1    failed=0\r\n\r\n<!--- Paste verbatim command output between quotes below -->\r\n```\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/35015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sivel": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/29c1d5cb5d283c649a5bc30dce53b8e4875d01d3", "message": "Ensure that the become password is written on py3 in the ssh connection plugin. Fixes #34727"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/3c400c5899ca7c71b49087ffeae7153191e54c33", "message": "ANSIBLE_METADATA doesn't support YAML currently, change 315 to invalid data type (#35009)"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/b20df1be02765db46edef887d51d0896bbec2570", "message": "Make template action respect local_tmp. Fixes #34941 (#35005)"}], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35017", "title": "Make sure we don't try to inspect DOCUMENTATION if None", "body": "##### SUMMARY\r\n\r\nGuard against inspecting `DOCUMENTATION` in a plugin, that doesn't have `DOCUMENTATION`\r\n\r\nCurrently if you have a custom callback without `DOCUMENTATION` you would get a trace similar to the following:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/bin/ansible-playbook\", line 118, in <module>\r\n    exit_code = cli.run()\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/cli/playbook.py\", line 122, in run\r\n    results = pbex.run()\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/executor/playbook_executor.py\", line 89, in run\r\n    self._tqm.load_callbacks()\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/executor/task_queue_manager.py\", line 190, in load_callbacks\r\n    for callback_plugin in callback_loader.all(class_only=True):\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/plugins/loader.py\", line 462, in all\r\n    self._update_object(obj, name, path)\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/plugins/loader.py\", line 346, in _update_object\r\n    self._load_config_defs(name, path)\r\n  File \"/home/travis/build/goodplay/goodplay/.tox/py27-ansibledevel/lib/python2.7/site-packages/ansible/plugins/loader.py\", line 217, in _load_config_defs\r\n    if 'options' in dstring and isinstance(dstring['options'], dict):\r\nTypeError: argument of type 'NoneType' is not iterable\r\n```\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nlib/ansible/plugins/loader.py\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\ndevel\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/35002", "title": "Don't skip an inventory source just because it has a comma", "body": "##### SUMMARY\r\nDon't skip an inventory source just because it has a comma, make sure it's also doesn't exist as a path. Fixes #34931\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nlib/ansible/vars/manager.py\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\ndevel\r\n2.4\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "tiggi": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/fb18338cdc7120b6f6ccfc39472748d3e3e80b1f", "message": "Change documentation for path: in openssl_csr to match reality (#35045)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "seuf": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/9b07746ff1a5c83872f1e660f8eff9e152c51365", "message": "New module: monitoring/grafana_datasource (#29006)\n\n* Add monitoring/grafana_datasource module\r\n\r\nadded ds type mysql and postgres + check of parameters\r\n\r\n* Added option max_concurrent_shard_requests for es_version >= 5.6"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Spredzy": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/a2b00e9b5201f52355643b6f8c2967d798dd6d54", "message": "openssl_certificate: Ensure issuer field is set (#34982)\n\nEnsure the Issuer field of the certificate is set when using the\r\nselfsigned backend.\r\n\r\nFixes: https://github.com/ansible/ansible/issues/34963"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Akasurde": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/cf88bfdbbf745e7cd2c063f112581db88590a4d0", "message": "VMware: Refactor vmware_maintenancemode module (#35000)\n\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/bf2ce55ca6241464104e38d3d1e205022303b498", "message": "VMware: Add new module: vmware_host_config_manager (#34627)\n\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>"}], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35040", "title": "VMware: add new module: vmware_host_acceptance", "body": "\r\n##### SUMMARY\r\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nlib/ansible/modules/cloud/vmware/vmware_host_acceptance.py\r\ntest/integration/targets/vmware_host_acceptance/aliases\r\ntest/integration/targets/vmware_host_acceptance/tasks/main.yml\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5devel\r\n```", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/35036", "title": "VMware: add new module: vmware_host_package_facts", "body": "##### SUMMARY\r\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>\r\n\r\n##### ISSUE TYPE\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nlib/ansible/modules/cloud/vmware/vmware_host_package_facts.py\r\ntest/integration/targets/vmware_host_package_facts/aliases\r\ntest/integration/targets/vmware_host_package_facts/tasks/main.yml\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5devel\r\n```", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34984", "title": "VMware: add new module: vmware_host_vmnic_facts", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\nSigned-off-by: Abhijeet Kasurde <akasurde@redhat.com>\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nlib/ansible/modules/cloud/vmware/vmware_host_vmnic_facts.py\r\ntest/integration/targets/vmware_host_vmnic_facts/aliases\r\ntest/integration/targets/vmware_host_vmnic_facts/tasks/main.yml\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5devel\r\n```", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "trishnaguha": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/8a6d69919863c2b1583da03e91e1c2108cde892c", "message": "Enable nxapi nxos_banner test (#35033)\n\nSigned-off-by: Trishna Guha <trishnaguha17@gmail.com>"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/f806a58a5e3d8089ba2bb68cd45edfa0233cc975", "message": "Idempotency test for enabled mode nxos_udld_interface (#35031)\n\nSigned-off-by: Trishna Guha <trishnaguha17@gmail.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "indispeq": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/943730b70c1f1cf2f3cd21b268a1d5e8638a5f8a", "message": "Update pamd.py to allow module path with slashes (#32197)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "jborean93": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/630ae01f91e4ee93e5e1d5c0c9944a27be5bf730", "message": "win_wait_for: fix tests after attempts change (#35026)"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/f0134079e3aaff3a6c8d31ff55cd3d01c82f2bc8", "message": "win_script: work when argument exceeds stdin buffer size (#33855)\n\n* win_script: work when argument exceeds stdin buffer size\r\n\r\n* Added test for large argument being passed"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/8edd1cf18220bbb2d8743035a3843ff4e4064c24", "message": "changed to enable windows temp path override (#34967)"}], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35027", "title": "template: change to pass along the correct template path", "body": "##### SUMMARY\r\nWhen running win_template it will give a warning saying it failed to delete a temporary directory. This change fixes\r\n\r\n* Shares the same temp path with template and copy so that copy does not create an extra unneeded directory\r\n* Fixes the cleanup in template to source the correct template path, for Windows this was trying to delete the new copy tmp path which no longer existed and left another one created by template initially (not sure about POSIX hosts)\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\ntemplate\r\n\r\n##### ANSIBLE VERSION\r\n```\r\n2.5\r\n```", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "cwarner-mdsol": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/e6d01ff7e302211ed01efda13fdcb1e9b3121b50", "message": "fix for ec2 module terminating instances outside of inventory -- Fixes #19427 (#26621)\n\n* Proposed fix for issue 19427\n\n* Use string_types and to_text for evaluation, if not on empty dict.\n\n* if int, to_text and continue on"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "prasadkatti": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/5a9562a1012debab80768b17aefd6cd99f4f694f", "message": "Add option to toggle describe_image_attribute lookups (#34977)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mattclay": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/20824b8f3d8afefe1d442d2aac4752482dab448a", "message": "Simplify Windows versions in ansible-test."}, {"url": "https://api.github.com/repos/ansible/ansible/commits/f9f6080630f1a50b42ae7d5313339a03e2ef69ca", "message": "Improve handling of ansible-doc sanity errors."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "caphrim007": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/8cc0e744482313faf9103ecda47e52672792386c", "message": "Adds better error handling to f5 api connections (#35020)\n\nPreviously, the failure of the API connection would result\r\nin a stack trace. This patch makes the failure capable of exiting\r\nwith fail_json"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "nitzmahone": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/3371b5eb03366a7d7d683050a8bc50904e2fed3f", "message": "restore format arg to azure_rm_common errmsg"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/3e56883c44cc54d11c649a0eb64fd6b1a12f1322", "message": "zap extra format args from azure_rm_common errmsg"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/68ccd5fc007e5f062dc95ca28c822b3b404f8211", "message": "fix minimum client version checking (#35018)\n\n* bump minimum client versions to match requirements file\r\n* improve prescriptive error messaging to match current recommendations"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/e726c7ecf72772f35d4defb61f112026cfce6464", "message": "disable host_key_checking in virtualmachine test"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "elad661": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/ea1361a9273d4b31391f08eb7d7a5e3d44b6161e", "message": "modules/na_cdot_lun: properly compare LUN size (#34846)\n\ncurrent_size is returned from the API as string, while self.size\n(the requested size) is an integer. This caused the comparison\nto always be False, and a resize request to always be sent."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "gundalow": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/9a32f5c88964054c6f2cb042658b1bf0b4e88f18", "message": "Add missing extends_documentation_fragment (#35013)\n\nNXOS modules need more work, though that will all be in\nmodule_docs_fragments/nxos.py"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "themr0c": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/5b52bfad6dd1f8fd6447557948ca2b42465863cf", "message": "azure_rm inventory should add \"ansible_connection: winrm\" in host_vars for windows hosts - fixes #34689 (#34691)\n\n* fix for https://github.com/ansible/ansible/issues/34689\r\nazure_rm inventory should add \"ansible_connection: winrm\" in host_vars for windows hosts\r\n\r\n* add ansible_connection: winrm - fix for https://github.com/ansible/ansible/issues/34689"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "brunocalogero": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/e130b3eed25dafc924133caba766213d6127aa50", "message": "added aci_switch_leaf_selector integration tests (#34951)"}, {"url": "https://api.github.com/repos/ansible/ansible/commits/1166e181ecdf3a9c82514590c505df3e7b781f80", "message": "added aci_switch_leaf_policy_profile integration tests (#34952)"}], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34968", "title": "WIP: added aci_interface_policy_leaf_policy_group module", "body": "##### SUMMARY\r\nAdding aci_interface_policy_leaf_policy_group module, creates the following ACI objects: infra:AccPortGrp and infra:AccBndlGrp\r\n\r\n##### ISSUE TYPE\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\naci_interface_policy_leaf_policy_group\r\n\r\n##### ANSIBLE VERSION\r\n```\r\n2.5\r\n```", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "clarkst": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ansible/ansible/commits/e4f294822f77f116a47073f6e4cb68bde9a0ac9b", "message": "[cloud] kinesis stream server side encryption - fixes #30269 (#30689)\n\n* Moved the encryption to its own action method.\r\n\r\n* removed silly default value for encryption type.\r\n\r\n* Code formatting issues from pull request ANSIBOT.\r\n\r\n* changed version_added to  \"2.5\"\r\nbecause of new new options available\r\n\r\n* changed version_added to  \"2.5\"\r\nbecause of new new options available\r\n\r\n* changed version_added to  \"2.5\"\r\nbecause of new new options available"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Qalthos": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35054", "title": "ios_l2_interface", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\nNew module ios_l2_interface\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Feature Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nios_l2_interface\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5\r\n```", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "evrardjp": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35053", "title": "New module etcd3", "body": "This module uses etcd3 python library to do k/v manipulation on\r\nan etcd3 cluster using version3 api.\r\n\r\n##### SUMMARY\r\nThis adds an etcd3 module to ansible.\r\nIt uses a native version 3 calls to modify key/values on the cluster.\r\n\r\n##### ISSUE TYPE\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\netcd3\r\n\r\n##### ANSIBLE VERSION\r\n\r\ndevel\r\n\r\n##### ADDITIONAL INFORMATION\r\n\r\nNone", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "snecklifter": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35043", "title": "Add OpenStack Director provider", "body": "##### SUMMARY\r\nAdds the ability to create an OpenStack Director provider in\r\nManageIQ.\r\n\r\n##### ISSUE TYPE\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\nremote_management/manageiq\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (add-director-provider 382471890b) last updated 2018/01/18 12:14:40 (GMT +100)\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "yuwzho": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35038", "title": "Fixes 27878: subnet should in the virtual network resource group", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\nFixes #27878\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.4\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/35037", "title": "Fix #29593 delete subnet should be idempotent", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\n\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\nFixes #29593\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.4\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "aajdinov": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35035", "title": "Oneandone cloud provider bulk one", "body": "##### SUMMARY\r\nAdding three new cloud modules to support oneandone firewall policy, load balancer, and monitoring policy management. Also included in the PR is an update made to oneandone_server module to support server types, wait interval, and custom url, as well as a small update to oneandone module util. \r\n\r\n##### ISSUE TYPE\r\n - Feature Pull Request\r\n - New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\noneandone_firewall_policy cloud module\r\noneandone_load_balancer cloud module\r\noneandone_monitoring_policy cloud module\r\noneandone_server cloud module\r\noneandone module_util\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (oneandone_cloud_provider_bulk_one 609d2a27a5) last updated 2018/01/18 07:54:49 (GMT +200)\r\n  config file = /etc/ansible/ansible.cfg\r\n  python version = 2.7.12 (default, Nov 20 2017, 18:23:56) [GCC 5.4.0 20160609]\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nBelow is the output from some of the test playbooks utilizing the new modules:\r\n```\r\nFirewall policy create\r\n=================\r\n\r\nPLAY [localhost] ****************************************************************\r\n\r\nTASK [Gathering Facts] *******************************************************\r\nok: [localhost]\r\n\r\nTASK [Create a firewall policy] ***********************************************\r\nchanged: [localhost]\r\n\r\nPLAY RECAP ********************************************************************\r\nlocalhost                  : ok=2    changed=1    unreachable=0    failed=0   \r\n\r\n```\r\n\r\n```\r\nLoad balancer create\r\n=================\r\n\r\nPLAY [localhost] *****************************************************************\r\n\r\nTASK [Gathering Facts] ********************************************************\r\nok: [localhost]\r\n\r\nTASK [Create a load balancer] ***********************************************\r\nchanged: [localhost]\r\n\r\nPLAY RECAP ********************************************************************\r\nlocalhost                  : ok=2    changed=1    unreachable=0    failed=0  \r\n```\r\n\r\n```\r\nMonitoring policy create\r\n===================\r\n\r\nPLAY [localhost] ****************************************************************\r\n\r\nTASK [Gathering Facts] ******************************************************\r\nok: [localhost]\r\n\r\nTASK [Create a monitoring policy] ******************************************\r\nchanged: [localhost]\r\n\r\nPLAY RECAP ********************************************************************\r\nlocalhost                  : ok=2    changed=1    unreachable=0    failed=0   \r\n```\r\n", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "willthames": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35028", "title": "Add aws_s3 action plugin to find source files as expected", "body": "##### SUMMARY\r\nPeople expect to be able to upload files to s3 using standard\r\nlocations for files.\r\n\r\nProviding an action plugin that effectively rewrites the `src`\r\nkey to the result of finding such a file is a great help.\r\n\r\nTests added, and IAM permissions corrected\r\n\r\n\r\n##### ISSUE TYPE\r\n - Feature Pull Request\r\n\r\n##### COMPONENT NAME\r\naws_s3\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (devel 5a9562a101) last updated 2018/01/18 10:21:40 (GMT +1000)\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/home/will/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /home/will/src/ansible/lib/ansible\r\n  executable location = /home/will/src/ansible/bin/ansible\r\n  python version = 2.7.14 (default, Dec 11 2017, 14:52:53) [GCC 7.2.1 20170915 (Red Hat 7.2.1-2)]\r\n```\r\n\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pilou-": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35024", "title": "webfaction modules: fix broken import", "body": "##### SUMMARY\r\nwebfaction mdoules: fix [broken import](https://github.com/ansible/community/wiki/Testing:-progress-tracker#fixing-broken-imports)\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nwebfaction modules\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.5.0 (devel 92b3d79283) last updated 2018/01/16 15:27:58 (GMT +200)\r\n```", "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34983", "title": "azure_rm_dnsrecordset: fix broken import and minor updates", "body": "##### SUMMARY\r\nazure_rm_dnsrecordset:\r\n- fix [broken import](https://github.com/ansible/community/wiki/Testing%3A-progress-tracker#list-of-things-that-need-unit-tests-eg-libraries-under-module_utils)\r\n- doc: use formatting function\r\n- remove unused dictionary\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nazure_rm_dnsrecordset\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (devel 92b3d79283) last updated 2018/01/16 15:27:58 (GMT +200)\r\n```", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "NickWilde1990": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35022", "title": "Fix typo in examples in Lookup/password plugin.", "body": "##### SUMMARY\r\nResolve typo in documentation examples section. Secondarily, fix a couple other typos.\r\n\r\n\r\n##### ISSUE TYPE\r\n - Docs Pull Request\r\n\r\n##### COMPONENT NAME\r\nDocs: Lookup/password", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "abadger": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35016", "title": "Fix copy for implicit relative paths", "body": "##### SUMMARY\r\ncopy currently fails if you specify a destination without any directory\r\ncomponent.  This is because we take the dirname of the destination for\r\nsome processing and no dirname causes issues.\r\n\r\nThis corrects that by prepending \"./\" if there is no directory component\r\nin dest.\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nlib/ansible/modules/file/copy.py\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\ndevel and earlier\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nThis has been behaviour for a long time (at least as far back as 1.9).", "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34976", "title": "Remove AnsibleUnicode special handling", "body": "##### SUMMARY\r\nThis is code that we're not sure is needed anymore.  Run it through our CI system to gather some preliminary information about whether it could be removed.\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\ndataloader\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\ndevel\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nI think I wrote this code because we had a traceback at some point with pyyaml not able to handle our AnsibleUnicode type (the C library was doing an exact match to python's unicode type rather than testing with the object inheritance hierarchy.)   Neither jimi nor I are sure when AnsibleUnicode gets passed into this function, though, so we think it may be safe to remove this code now.", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "rambleraptor": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35014", "title": "GCP: DNS Managed Zones", "body": "##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\nThis adds support for creating managed zones on GCP, along with a test runner and future utilities for adding more GCP resources.\r\n\r\n##### ISSUE TYPE\r\n - Feature Pull Request\r\n\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\ngcp_dns_managed_zone\r\n\r\n##### ANSIBLE VERSION\r\n```\r\n2.5\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nThis code was autogenerated using [Magic Modules](https://github.com/GoogleCloudPlatform/magic-modules)\r\n", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "ganeshrn": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35007", "title": "Add regex to catch ios error prompt", "body": "\r\n\r\n##### SUMMARY\r\n<!--- Describe the change, including rationale and design decisions -->\r\n*  Move the error checking from ios_l3_module\r\n   to ios termianl plugin by adding additional\r\n   regex to catch error prompt.\r\n<!---\r\nIf you are fixing an existing issue, please include \"Fixes #nnn\" in your\r\ncommit message and your description; but you should still explain what\r\nthe change does.\r\n-->\r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Bugfix Pull Request\r\n \r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\nios_l3_interface\r\nterminal/ios\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "lrivallain": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/35004", "title": "vmware: Add new module 'vmware_datastore_host'", "body": "##### SUMMARY\r\nNew Module: vmware_datastore_host - mount/umount datastore (both vmfs and nfs) on host(s)\r\n\r\n##### ISSUE TYPE\r\n- New Module Pull Request\r\n\r\n##### COMPONENT NAME\r\nlib/ansible/modules/cloud/vmware/vmware_datastore_host.py\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (vmware_datastore ed922c2249) last updated 2018/01/16 21:33:51 (GMT +200)\r\n  config file = None\r\n  configured module search path = ['~/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']\r\n  ansible python module location = ~/wd/ansible/lib/ansible\r\n  executable location = ~/wd/ansible/bin/ansible\r\n  python version = 3.6.3 (default, Nov  3 2017, 19:47:38) [GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.42)]\r\n```\r\n\r\n##### ADDITIONAL INFORMATION\r\n```\r\n- name: Mount VMFS datastores to ESXi\r\n  vmware_datastore_host:\r\n      hostname: '{{ vcenter_hostname }}'\r\n      username: '{{ vcenter_user }}'\r\n      password: '{{ vcenter_pass }}'\r\n      datacenter_name: '{{ datacenter }}'\r\n      datastore_name: '{{ item.name }}'\r\n      datastore_type: '{{ item.type }}'\r\n      vmfs_device_name: 'naa.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'\r\n      vmfs_version: 6\r\n      esxi_hostname: '{{ inventory_hostname }}'\r\n      state: present\r\n  delegate_to: localhost\r\n- name: Mount NFS datastores to ESXi\r\n  vmware_datastore_host:\r\n      hostname: '{{ vcenter_hostname }}'\r\n      username: '{{ vcenter_user }}'\r\n      password: '{{ vcenter_pass }}'\r\n      datacenter_name: '{{ datacenter }}'\r\n      datastore_name: '{{ item.name }}'\r\n      datastore_type: '{{ item.type }}'\r\n      nfs_server: '{{ item.server }}'\r\n      nfs_path: '{{ item.path }}'\r\n      nfs_ro: no\r\n      esxi_hostname: '{{ inventory_hostname }}'\r\n      state: present\r\n  delegate_to: localhost\r\n  with_items:\r\n      - { 'name': 'NasDS_vol01', 'server': 'nas01', 'path': '/mnt/vol01', 'type': 'nfs'}\r\n      - { 'name': 'NasDS_vol02', 'server': 'nas01', 'path': '/mnt/vol02', 'type': 'nfs'}\r\n- name: Remove/Umount Datastores from ESXi\r\n  vmware_datastore_host:\r\n      hostname: '{{ vcenter_hostname }}'\r\n      username: '{{ vcenter_user }}'\r\n      password: '{{ vcenter_pass }}'\r\n      datacenter_name: '{{ datacenter }}'\r\n      datastore_name: NasDS_vol01\r\n      esxi_hostname: '{{ inventory_hostname }}'\r\n      state: absent\r\n  delegate_to: localhost\r\n```", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "anbsmile": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34998", "title": "win_iis_webapplication: added additional parameters", "body": "##### SUMMARY\r\nFeature #34994\r\n\r\n##### ISSUE TYPE\r\n - Feature Pull Request\r\n\r\n##### COMPONENT NAME\r\nwin_iis_webapplication\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.4.2.0\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /usr/lib/python2.7/dist-packages/ansible\r\n  executable location = /usr/bin/ansible\r\n  python version = 2.7.12 (default, Nov 20 2017, 18:23:56) [GCC 5.4.0 20160609]\r\n\r\n```\r\n", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "balonik": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34996", "title": "Make vmware_guest always get a resource pool and properly create VM in chosen cluster", "body": "##### SUMMARY\r\nBackporting get_resource_pool from devel branch. This way the VM is properly created in cluster as specified by user in `cluster` option.\r\n\r\nFixing issue https://github.com/ansible/ansible/issues/34801\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nvmware_guest\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.1.0\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34995", "title": " Make vmware_guest always get a resource pool", "body": "##### SUMMARY\r\nSmall change to the code to always get a resource pool before the 'template'/'no-template' code where it would be called anyway.\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nvmware_guest\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/34993", "title": "Updating lvol.py to better handle %PVS options when creating/resizing lvols.", "body": "##### SUMMARY\r\nUpdating lvol.py to better handle %PVS options when creating/resizing lvols.\r\n\r\n- Adds idempotency when the module is called N+ times and %PVS is used in `size`\r\n- Making the module inline with LVM2 man pages (lvcreate/lvextend), specifically with the description of `-l|--extents` option and sentence `The suffix %VG denotes the total size of the VG, the suffix %FREE the remaining free space in the VG, and the suffix %PVS the free space in the specified PVs`.\r\n- This update makes `pvs` option mandatory when %PVS is used in size, because it calculates requested size by adding size of specified PVS in `pvs` (to be inline with the above point).\r\n- Fixing errors like `\"msg\": \"Unable to resize lv_var_cache_pulp to 100%PVS\", \"rc\": 5)` when module is called N+ times, because it calculated size of VG and not only subset of PVS.\r\n\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nlvol\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\nansible 2.4.1.0\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\nBefore applied changes same task 2 times:\r\n- lvol: lv=lv_var_cache_pulp size=100%PVS pvs=/dev/sdc shrink=no state=present vg=vg_pulp\r\n- lvol: lv=lv_var_cache_pulp size=100%PVS pvs=/dev/sdc shrink=no state=present vg=vg_pulp\r\n\r\nwill result in:\r\nTASK [create_lvm : lvol] *****************************************************************************\r\nok: [server] => (item={'key': u'lv_var_cache_pulp', 'value': {u'path': u'/var/cache/pulp', u'pvs': u'/dev/sdc', u'mount': True, u'vg_name': u'vg_pulp', u'size': u'100%PVS'}})\r\nTASK [create_lvm : lvol] *****************************************************************************\r\nfailed: [server] (item={'key': u'lv_var_cache_pulp', 'value': {u'path': u'/var/cache/pulp', u'pvs': u'/dev/sdc', u'mount': True, u'vg_name': u'vg_pulp', u'size': u'100%PVS'}}) => {\"changed\": false, \"err\": \"  WARNING: No free extents on physical volume \\\"/dev/sdc\\\".\\n  No specified PVs have space available.\\n\", \"failed\": true, \"item\": {\"key\": \"lv_var_cache_pulp\", \"value\": {\"mount\": true, \"path\": \"/var/cache/pulp\", \"pvs\": \"/dev/sdc\", \"size\": \"100%PVS\", \"vg_name\": \"vg_pulp\"}}, \"msg\": \"Unable to resize lv_var_cache_pulp to 100%PVS\", \"rc\": 5}\r\n```\r\n", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "resmo": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34991", "title": "doc: fix loop examples", "body": "##### SUMMARY\r\nfix loop examples, \r\n\r\n##### ISSUE TYPE\r\n<!--- Pick one below and delete the rest: -->\r\n - Docs Pull Request\r\n\r\n##### COMPONENT NAME\r\n<!--- Name of the module, plugin, module or task -->\r\ndoc\r\n\r\n##### ANSIBLE VERSION\r\n<!--- Paste verbatim output from \"ansible --version\" between quotes below -->\r\n```\r\n2.5\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\n<!---\r\nInclude additional information to help people understand the change here.\r\nFor bugs that don't have a linked bug report, a step-by-step reproduction\r\nof the problem is helpful.\r\n  -->\r\n\r\n<!--- Paste verbatim command output below, e.g. before and after your change -->\r\n```\r\n\r\n```\r\n", "author_association": "MEMBER"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "cnasten": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34986", "title": "NSO: handle types for leaf-lists in nso_config (ValueBuilder)", "body": "Fixes: #34985\r\n\r\n##### SUMMARY\r\nThis reads the type information for leaf-list elements from the appropriate part of the schema.\r\n\r\n##### ISSUE TYPE\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\nnso_config\r\n\r\n##### ANSIBLE VERSION\r\n```\r\nansible 2.5.0 (nso_config_leaf-list_34985 e9efe8df5a) last updated 2018/01/17 13:25:10 (GMT +200)\r\n  config file = None\r\n  configured module search path = [u'/home/cnasten/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\r\n  ansible python module location = /home/cnasten/dev/ansible/lib/ansible\r\n  executable location = /home/cnasten/dev/ansible/bin/ansible\r\n  python version = 2.7.14+ (default, Dec  5 2017, 15:17:02) [GCC 7.2.0]\r\n```\r\n\r\n\r\n##### ADDITIONAL INFORMATION\r\nSee #34985 for details.", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pmarques": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/34980", "title": "Remove unused import from azure dyn inventory", "body": "##### SUMMARY\r\n\r\nRemove unused import from azure_rm dynamic inventory\r\n\r\n##### ISSUE TYPE\r\n\r\n - Bugfix Pull Request\r\n\r\n##### COMPONENT NAME\r\n\r\ncontrib/inventory/azure_rm.py\r\n\r\n##### ADDITIONAL INFORMATION\r\n\r\nThe module is importing a package that is not used and not installed by default.\r\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mpdehaan": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444088", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4399068", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4399068/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4399054", "body": "suggest a fix?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4399054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4518269", "body": "I don't think this is a problem because setup.py was trying to install manpages and such before.\n\nIt runs pretty well directly out of checkout which is what the whole hacking script is designed to deal with.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4518269/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4433350", "body": "done, see lib/ansible/connection\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4433350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444090", "body": "basically done / obsolete\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444090/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4433347", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4433347/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444081", "body": "-P implemented, see \"examples\" on the doc site\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444081/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444078", "body": "this is already done in /usr/bin/ansible, do similar to playbooks\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444078/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444097", "body": "needs to kick off jobs everywhere and then poll, and then fail the jobs that do not complete in time\n\nsee code in /usr/bin/ansible for use as a baseline\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4444097/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489311", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400040", "body": "possible uses:\n\nif this is the os\n\nif in this subnet or whatever\n\nif the last command returned X\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400040/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400147", "body": "also want to be able to do maybe\n\n```\n- action: blah\n  poll:  timeout=30 check_interval=5\n  onfail:   \n```\n\nso it's like a \"notify\" but different\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400174", "body": "Q: does fail mean stop unless there is an onfail?   \n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4400174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580225", "body": "more random thoughts:\n\n```\n- name: foo\n  switch:\n     - var: asdf\n         - case: $facter_fqdn \n           then: value\n         - case: $facter_fqdn  # this is a Python expression after replacing the dollar signs\n           then: bar                  # this too\n  action: module param1 param2 $asdf\n```\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580394", "body": "Attempting to iterate on this:\n\n<pre>\n    - name: foo\n      calculate_vars:\n         - asdf\n             - if: $facter_fqdn.endswith(\".rtp.example.org\") \n               then: 'foo'\n             - elif: $facter_fqdn.startswith(\".atl.example.org\")  # this is a Python expression after replacing the dollar signs\n               then: 'bar'\n             - else: 'default'\n      action: module param1 param2 $asdf\n\n</pre>\n\n\n?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580523", "body": "calculate_vars should not be part of a task because vars should be reusable\n\n```\n-  calculate_vars:\n     - asdf\n         - if: $facter_fqdn.endswith(\".rtp.example.org\") \n           then: 'foo'\n         - elif: $facter_fqdn.startswith(\".atl.example.org\")  # this is a Python expression after replacing the dollar signs\n           then: 'bar'\n         - else: 'default'\n\n- tasks:\n      - name:  foo\n        action: module param1 param2 $asdf\n        onlyif:  expression goes here\n```\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580523/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580563", "body": "```\n -  calculate_vars:\n     - if: $facter_fqdn.endswith(\".rtp.example.org\") \n       then:\n           asdf: 'foo'\n     - elif: $facter_fqdn.startswith(\".atl.example.org\")  # this is a Python expression after replacing the dollar signs\n       then:\n           asdf: 'bar'\n     - else:\n           asdf: 'default' \n\n- tasks:\n  - name:  foo\n    action: module param1 param2 $asdf\n    onlyif:  expression goes here\n```\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580563/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580819", "body": "```\n - conditional_vars:\n    - apache:\n        - [ \" $facter_os == 'Debian' \" , 'apache' ]\n        - [ \" $facter_os == 'RedHat' \", 'httpd' ]\n\n- tasks:\n    - name:  install apache\n      action:  yum blarg $apache\n      onlyif: $facter_os == 'RedHat'\n   - name: install apache\n      action: apt blarg $apache\n      onlyif: $facter_os == 'Debian'\n```\n\n?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580819/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4581323", "body": "Inside of tasks list, a list of both task (name+action) and conditional_set elements:\n\n```\n- conditional_set:\n    - \"$facter_os == 'Debian' \":\n        - install_apache: apt ensure=installed pkg=apache\n        - restart_apache: service httpd start\n    - \"$facter_os == 'RedHat' \":\n        - install_apache: yum ensure=installed pkg=httpd\n        - restart_apache: systemctl enable httpd.service\n    # possibly some error syntax  \n\n- name: install apache\n  action: $install_apache\n- name: restart apache\n  action: $restart_apache\n  onlyif: $somevar == X   # totally optional to use this\n```\n\npossibly some errorif syntax too\n\nand you can interlace conditional_sets and tasks all you want\n\nwe could also put in automagic such that if the action line starts with \"$\" and it wasn't evaluated we just skip the step\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4581323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4582425", "body": "plan is to revisit these ideas after #57\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4582425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4460335", "body": "more or less exists in module docs, but should indicate how to test them from CLI and a little more about req'd options\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4460335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489319", "body": "moving to website tracker\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4513218", "body": "this is actually LESS needed since all modules now use the argsfile convention, but we still need them to choke properly on invalid arguments.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4513218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4708105", "body": "duplicate\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4708105/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489304", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4511900", "body": "done, see mailing list thread\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4511900/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489302", "body": "we can run playbooks in the examples dir for this\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4489302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/1401943", "body": "hey, FYI... I had to revert this because it was not returning the path back to the function.  When running as users other than root, such as:\n\nansible all -m ping -u test\n\nyou can see it tries to transfer a file to a directory containing the unsubstituted $HOME\n\nNot sure of the best way to fix this but check it out with a non root user...\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/1401943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/1822311", "body": "Likely, will fix, thanks\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/1822311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2006552", "body": "I'll fix it, I need my cows.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2006552/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2006561", "body": "done!\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2006561/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2044646", "body": "I am pleased.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2044646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2271852", "body": "actually I'm probably going to drop supervisorctl from core as it's a bit of a niche module.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2271852/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2536497", "body": "Can you open a bug ticket?  if you commit on the commits the discussion can\nbe hard to find.\n\nOn Thu, Jan 31, 2013 at 11:07 AM, Luca Cipriani notifications@github.comwrote:\n\n> is this in conflict with\n> https://github.com/ansible/ansible/blob/devel/lib/ansible/playbook/play.py#L38? Because I have a ERROR:\n> private_key_file is not a legal parameter in an Ansible Playbook Seems\n> you have removed the functionality.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/ansible/ansible/commit/f5c6457de8a21ba5f22312d33cd315da4d6d0bf1#commitcomment-2536398.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2536497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2638641", "body": "minor suggestion: flatten deserves to be a function in utils ...\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2638641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2681502", "body": "I find being able to keep more on the same screen useful in this case.\n\nI also fixed an indentation error.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2681502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2756271", "body": "I tested it and it did.  Please paste your playbook?\n\nOn Thu, Mar 7, 2013 at 12:31 AM, Simon Law notifications@github.com wrote:\n\n> Sorry to be nitpicky\u2026 Don't these two lines have to occur before sourceand\n> dest are assigned to?\n> \n> Tested the patch and it doesn't work. [image: :frowning:]\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/ansible/ansible/commit/2bb305f6d57cc6b8158ac8f82b978a7def552d57#commitcomment-2756268\n> .\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2756271/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2756273", "body": "Ah hmm, my file already existed.  This is what you get for making me work\njet-lagged :)\n\nTo be clear, the complex arg stuff was really done to support the cloud\nformations module, it's not common that you'd actually code playbooks this\nway most of the time, but it's important that it should work.\n\nThe\n\ntemplate: src=value dest=value\n\nis how you normally write them...\n\nOn Thu, Mar 7, 2013 at 12:32 AM, Michael DeHaan michael.dehaan@gmail.comwrote:\n\n> I tested it and it did.  Please paste your playbook?\n> \n> On Thu, Mar 7, 2013 at 12:31 AM, Simon Law notifications@github.comwrote:\n> \n> > Sorry to be nitpicky\u2026 Don't these two lines have to occur before sourceand\n> > dest are assigned to?\n> > \n> > Tested the patch and it doesn't work. [image: :frowning:]\n> > \n> > \u2014\n> > Reply to this email directly or view it on GitHubhttps://github.com/ansible/ansible/commit/2bb305f6d57cc6b8158ac8f82b978a7def552d57#commitcomment-2756268\n> > .\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2756273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2756357", "body": "Totally, I'm excited about the option too.\n\nIt's cleaner than this:\n\nfoo: >\n   asdf=xyz\n   jkl=123\n\nAnd much more friendly to being machine readable.\n\nIt's just new, so pounding some bugs out of it is something we needed to do\n:)\n\nI especially like it now that you don't have to use \"args:\" and can just\nsay:\n- template:\n     src: asdf\n     dest: bar\n\nEtc.  This is pretty recent though I've pushed notes on that to the\nadvanced playbooks page of the docs site.  We did it so \"args\" keeps\nworking too though.\n\nOn Thu, Mar 7, 2013 at 12:41 AM, Simon Law notifications@github.com wrote:\n\n> I understand completely. Thanks for the support.\n> \n> Our use case is that we have some very long lines, and we use the complex\n> arguments so that our template lines are readable. We could have folded our\n> long lines, but the complex arguments looked the most aesthetically\n> pleasing.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/ansible/ansible/commit/2bb305f6d57cc6b8158ac8f82b978a7def552d57#commitcomment-2756294\n> .\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2756357/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "skvidal": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580668", "body": "So that seems to make simple things harder.\n\nthe obvious cases you'd see here are in pseudo-code:\n\nif $distrover == \"6\":\n    install somepkg\n    service  someprocess start\nelif $distrover == \"5\":\n    install someotherpkg\n    service  someotherprocess start\nelse:\n     error_print(\"$distrover doesn't match anything\")\n\nThat seems likely to be the most common case - being able to define a task is much like a function - and those are great - but the 'run these two things' seem like a really common case. With most languages it is very important to make the common things trivial and the uncommon things possible.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4580668/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4581071", "body": "it still feels like everything is defined far away from where you use it. I would expect the tasks section to get larger along  with the conditional_vars, too.\n\nso, conceptually something like this seems more reasonable for day-to-day use:\n\n```\n- name:  install apache\n- action: \n    if   \" $facter_os == 'Debian' \":\n        apt ensure=installed pkg=apache\n        service httpd start\n    elif  $facter_os == 'RedHat':\n        yum ensure=installed pkg=httpd\n        systemctl enable httpd.service\n    else:\n        error_msg(\"Could not action for facter_os = $facter_os\")\n```\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/issues/comments/4581071/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "pas256": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/1773303", "body": "That's a smarter fix - thanks\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/1773303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "serbaut": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/1822272", "body": "I think you are missing 'ansible.runner.action_plugins' here.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/1822272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "jejohns": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2006548", "body": "This broke cowsay for everyone else. :(\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2006548/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2006560", "body": "Thank you! This is breaking our cowsay SLA.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2006560/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "mastrolinux": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2536398", "body": "is this in conflict with https://github.com/ansible/ansible/blob/devel/lib/ansible/playbook/play.py#L38 ? Because I have a `ERROR: private_key_file is not a legal parameter in an Ansible Playbook` Seems you have removed the functionality.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2536398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "leucos": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2554038", "body": "Seems that this commit breaks devel for me :\n\n```\n((a79373f...)|BISECTING) $ python2 bin/ansible-playbook -l goat ~/.ansible/playbooks/tmux/setup.yml \n\nPLAY [ubuntu] ********************* \n\nGATHERING FACTS ********************* \nok: [goat]\n\nTASK: [Tmux | Installs tmux] ********************* \nfatal: [goat] => Traceback (most recent call last):\n  File \"/home/leucos/dev/ansible/lib/ansible/runner/__init__.py\", line 237, in _executor\n    exec_rc = self._executor_internal(host)\n  File \"/home/leucos/dev/ansible/lib/ansible/runner/__init__.py\", line 293, in _executor_internal\n    return self._executor_internal_inner(host, self.module_name, self.module_args, inject, port)\n  File \"/home/leucos/dev/ansible/lib/ansible/runner/__init__.py\", line 353, in _executor_internal_inner\n    if not getattr(handler, 'BYPASS_HOST_LOOP', False) and not utils.check_conditional(conditional):\n  File \"/home/leucos/dev/ansible/lib/ansible/utils/__init__.py\", line 155, in check_conditional\n    return eval(conditional.replace(\"\\n\", \"\\\\n\"))\nAttributeError: 'bool' object has no attribute 'replace'\n\n\nFATAL: all hosts have already failed -- aborting\n\nPLAY RECAP ********************* \ngoat                           : ok=1    changed=0    unreachable=1    failed=0    \n\n\n((a79373f...)|BISECTING) $\n```\n\nI'll try to set up a minimal example to reproduce.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2554038/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "briceburg": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2633554", "body": "+1 muchos gracias! Works with $PIPE as well.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2633554/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "jmrodri": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2681378", "body": "I know it's old, but the above looked easier to read :) It probably wasted a lot of space in a file, but it's definitely easier to look at. :D \n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2681378/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2681801", "body": "I figured there was a reason.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2681801/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "sfllaw": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2756294", "body": "I understand completely. Thanks for the support.\n\nOur use case is that we have some very long lines, and we use the complex arguments so that our template lines are readable. We could have folded our long lines, but the complex arguments looked the most aesthetically pleasing.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2756294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "blair": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2822649", "body": "Reading the URL at Amazon, isn't this the reverse logic?  EBS volumes should use /dev/sdf while local storage should use /dev/sdb?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2822649/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "tima": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2862436", "body": "This commit broke a unit test:\n\n```\nRegression\n\nTestRunner.TestRunner.test_lineinfile (from nosetests)\n\nError Message\n\n-------------------- >> begin captured stdout << ---------------------\nDEBUG: using args=dest=/.statelite/tmpfs/data/VCS/est-ax010-d/logs01/jenkins/workspace/ansible-devel/test/test_data/rocannon.out.txt regexp='^First: ' line='First: Line added by default at the end of the file.'\nRESULTS={'dark': {}, 'contacted': {'localhost': {u'msg': u'', 'invocation': {'module_name': 'lineinfile', 'module_args': \"dest=/.statelite/tmpfs/data/VCS/est-ax010-d/logs01/jenkins/workspace/ansible-devel/test/test_data/rocannon.out.txt regexp='^First: ' line='First: Line added by default at the end of the file.'\"}, u'changed': False}}}\n\n--------------------- >> end captured stdout << ----------------------\n\nStacktrace\n\nTraceback (most recent call last):\n  File \"/efs/dist/python/core/2.6.5/exec/lib/python2.6/unittest.py\", line 279, in run\n    testMethod()\n  File \"/.statelite/tmpfs/data/VCS/est-ax010-d/logs01/jenkins/workspace/ansible-devel/test/TestRunner.py\", line 308, in test_lineinfile\n    assert result['changed'] == True\nAssertionError: \n-------------------- >> begin captured stdout << ---------------------\nDEBUG: using args=dest=/.statelite/tmpfs/data/VCS/est-ax010-d/logs01/jenkins/workspace/ansible-devel/test/test_data/rocannon.out.txt regexp='^First: ' line='First: Line added by default at the end of the file.'\nRESULTS={'dark': {}, 'contacted': {'localhost': {u'msg': u'', 'invocation': {'module_name': 'lineinfile', 'module_args': \"dest=/.statelite/tmpfs/data/VCS/est-ax010-d/logs01/jenkins/workspace/ansible-devel/test/test_data/rocannon.out.txt regexp='^First: ' line='First: Line added by default at the end of the file.'\"}, u'changed': False}}}\n\n--------------------- >> end captured stdout << ----------------------\n```\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2862436/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/comments/2862663", "body": "Assuming I understand the intent of this code, I think is where the problem is: \n\n```\n# Do nothing if regexp didn't match\n    elif index[1] == -1:\n        msg = ''\n        changed = False \n```\n\nIt looks like the regexp match is being stored in index[0] and not index[1] based on this preceding code there:\n\n```\n# index[0] is the line num where regexp has been found\n# index[1] is the line num where insertafter/inserbefore has been found\nindex = [-1, -1]\nm = None\nfor lineno in range(0, len(lines)):\n    match_found = mre.search(lines[lineno])\n    if match_found:\n        index[0] = lineno\n        m = match_found\n    elif insre is not None and insre.search(lines[lineno]):\n        if insertafter:\n            # + 1 for the next line\n            index[1] = lineno + 1\n        if insertbefore:\n            # + 1 for the previous line\n            index[1] = lineno\n```\n\nEither the comment is wrong or the logic.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2862663/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "Tinche": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2870423", "body": "Probably it's the comment that's wrong; the author was probably referring to the insert\\* regexp.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2870423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "gw0": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2954275", "body": "I think this is a useful advanced usage pattern that shows how Ansible can work in practice. Imho it should be placed in a \"advanced usage examples\" subpage with a notice describing how the scope changes.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2954275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "mrjoes": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/ansible/ansible/comments/2966968", "body": "I'm sorry, but this particular change broke lineinfile with state='present'.\n\nConsider following example: lineinfile: dest=file.txt state=present regexp='abcd' line='1234'\n\nExpected behaviour: if 'abcd' is present, it should be replaced by '1234'.\nWhat actually happens:\n1. If line is found in the file, it will be replaced by the '1234'\n2. If line is not found in the file, it will be appended to the end of the file\n\nAssuming that all scripts should be re-runnable, every single run of the deployment script will append extra line to the configuration file and in lots of cases will prevent dependant programs from working.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/comments/2966968/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "fivethreeo": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/127829445", "body": "Maybe alter the snake_dict_to_camel_dict take a kwarg, uppercase_first.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/127829445/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/127851025", "body": "Changed snake_dict_to_camel_dict to take a capitalize_first kwarg, change the one in ansible.module_utils.ec2?", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/127851025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "stympy": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/111571425", "body": "Yes, we use the 201 status code (created) as the successful response for this API endpoint, rather than 200. ", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/111571425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "kavu": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10867687", "body": "To avoid copy-pasting I am using `api_lookup_role_by_name` with additional parameter, quieting output during API call.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10867687/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10867693", "body": "`parser` is undefined in this function, I think we can delete this statement safely.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10867693/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10867700", "body": "I am not sure if it's ok to use `print print print`. Should I define a multiline-string template and interpolate values with it?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10867700/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "garethr": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10195117", "body": "Thanks, I've corrected the documentation and the example. I agree, `name` provides a better interface.\n\nI've left the internal variable name as `group_name` however as that maps to the actual AWS name. Making this more explicit if you're in the code feels useful to me.\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/10195117/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "bendiken": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/9828698", "body": "The list of supported protocol names surely is sourced from `/etc/protocols` and/or `/etc/services`, so adding support for protocol names one by one might not be a tenable approach?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/9828698/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}, "pol": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5196396", "body": "This is confusing or wrong, is it considered changed when it is true or false?\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5196396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5196582", "body": "Grammar is clumsy, recommended change:\n\nUse the \"changed_when\" option to override the default module \"change\" reporting.  The \"changed_when\" option takes a Python expression.  ...\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/5196582/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "retr0h": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121245586", "body": "Wouldn't it be better to pass cmd_output through decode?  Therefore, we don't need to handle bytes directly?\r\n\r\n```\r\ncmd_output = cmd_output.decode('utf-8')\r\n```\r\n\r\nThen we can keep the code exactly as is.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121245586/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "pwnall": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/93417349", "body": "I would like this hunk in a separate PR.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/93417349/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "calfonso": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/116243595", "body": "Is this section needed for parity with previous versions of this document? If not, is it needed if it doesn't provide any info or than no info?", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/116243595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/117328552", "body": "s/tha/the", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/117328552/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/117331101", "body": "reduction of", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/117331101/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/132195541", "body": "@jedelman8 you're right. @schunduri ^", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/132195541/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/148936822", "body": "@thaumos @itdependsnetworks we had already started on NXOS for 2.4, it's not a new platform we are adding. We ran out of time for 2.4, so picking up some of the stuff we didn't get done. We are not changing how DI is designed in 2.5.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/148936822/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/149092513", "body": "@itdependsnetworks I'm not aware of the time constraint around documentation. The documentation discussion was about how we want to advertise DI modules and the direction we should have other people take when implementing modules. For the platforms we already implemented using DI, we are taking time to finish up some features we didn't get to. What else do you want to know?", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/149092513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "flaper87": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265531", "body": "\ud83d\udc4d ", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265531/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265534", "body": "done", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265534/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265548", "body": "mmhh, tbh, it should work but I'll double check ", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265548/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265592", "body": "There could be but this is something `pyhelm` doesn't support right now. We can add it once the feature is added there. Thoughts?", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265596", "body": "\ud83d\udc4d ", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/121265596/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/123185073", "body": "@ryansb so, yeah, this should work. Want to resolve this?", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/123185073/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156591311", "body": "I think it's fine to keep this here for now but, I wonder if this check (and similar checks in the future) should go into the `OpenShift` client as they are specific to `OpenShift` and not `Kubernetes`.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156591311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156593100", "body": "Out of curiosity, what are the benefits of using the openshift restclient instead of the kubernetes client?\r\n\r\nIIUC, the openshift client models are generated using OpenShift origin, which doesn't necessarily have the latest supported API by upstream `Kubernetes`. This has caused me some problems in the past where I've needed newer APIs that weren't supported by the openshift client. This is not to say that upstream kubernetes-client is better or worse but I'd like to find a way for us to be able to consume the latest released version of kubernetes. Am I missing something? \r\n", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156593100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156689698", "body": "@chouseknecht thanks a bunch, it makes sense to me.\r\n\r\nFWIW, I'm happy to help with the maintenance of the openshift client too. I'd like to help keeping the ansible module and the openshift client aligned with upstream kubernetes.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156689698/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156690412", "body": "@chouseknecht makes sense. Also, as a first iteration, this is already good so I wouldn't stress it to find a better abstraction at this stage. I think once this module matures, we can start thinking about splitting some of this logic.", "reactions": {"url": "https://api.github.com/repos/ansible/ansible/pulls/comments/156690412/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}}}}