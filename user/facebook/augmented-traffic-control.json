{"_default": {"1": {"jeffreyzh": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/351", "title": "show AttributeError: 'Options' object has no attribute 'get_all_related_objects' when execute \"sudo bash restore-profiles.sh\" ", "body": "the atc server show` Internal Server Error` when I execute `sudo bash restore-profiles.sh 0.0.0.0:8000`\r\n```\r\npi@raspberrypi:~/workspace/atcui $ sudo python manage.py runserver 0.0.0.0:8000\r\nPerforming system checks...\r\n\r\nSystem check identified no issues (0 silenced).\r\nJanuary 05, 2018 - 02:24:26\r\nDjango version 1.10, using settings 'atcui.settings'\r\nStarting development server at http://0.0.0.0:8000/\r\nQuit the server with CONTROL-C.\r\nInternal Server Error: /api/v1/profiles/\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/django/core/handlers/exception.py\", line 39, in inner\r\n    response = get_response(request)\r\n  File \"/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py\", line 187, in _get_response\r\n    response = self.process_exception_by_middleware(e, request)\r\n  File \"/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py\", line 185, in _get_response\r\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/django/views/decorators/csrf.py\", line 58, in wrapped_view\r\n    return view_func(*args, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/atc_profile_storage/views.py\", line 36, in profile_list\r\n    if serializer.is_valid():\r\n  File \"/usr/local/lib/python2.7/dist-packages/rest_framework/serializers.py\", line 197, in is_valid\r\n    self._validated_data = self.run_validation(self.initial_data)\r\n  File \"/usr/local/lib/python2.7/dist-packages/rest_framework/serializers.py\", line 391, in run_validation\r\n    value = self.to_internal_value(data)\r\n  File \"/usr/local/lib/python2.7/dist-packages/rest_framework/serializers.py\", line 415, in to_internal_value\r\n    fields = self._writable_fields\r\n  File \"/usr/local/lib/python2.7/dist-packages/django/utils/functional.py\", line 35, in __get__\r\n    res = instance.__dict__[self.name] = self.func(instance)\r\n  File \"/usr/local/lib/python2.7/dist-packages/rest_framework/serializers.py\", line 330, in _writable_fields\r\n    field for field in self.fields.values()\r\n  File \"/usr/local/lib/python2.7/dist-packages/rest_framework/serializers.py\", line 323, in fields\r\n    for key, value in self.get_fields().items():\r\n  File \"/usr/local/lib/python2.7/dist-packages/rest_framework/serializers.py\", line 896, in get_fields\r\n    info = model_meta.get_field_info(model)\r\n  File \"/usr/local/lib/python2.7/dist-packages/rest_framework/utils/model_meta.py\", line 69, in get_field_info\r\n    reverse_relations = _get_reverse_relationships(opts)\r\n  File \"/usr/local/lib/python2.7/dist-packages/rest_framework/utils/model_meta.py\", line 130, in _get_reverse_relationships\r\n    for relation in opts.get_all_related_objects():\r\nAttributeError: 'Options' object has no attribute 'get_all_related_objects'\r\n```\r\nso I think maybe the versions of these libraries do not fit\uff0ccheck my django and django-rest-framework version:\r\n\r\nmy `django` version is 1.10 \r\n```\r\npi@raspberrypi:~/workspace/augmented-traffic-control/utils $ pip show django\r\nName: Django\r\nVersion: 1.10\r\nSummary: A high-level Python Web framework that encourages rapid development and clean, pragmatic design.\r\nHome-page: http://www.djangoproject.com/\r\nAuthor: Django Software Foundation\r\nAuthor-email: foundation@djangoproject.com\r\nLicense: BSD\r\nLocation: /usr/local/lib/python2.7/dist-packages\r\nRequires:\r\n```\r\n\r\nthe [changelog](https://github.com/facebook/augmented-traffic-control/blob/master/CHANGELOG.md) show ```Django rest framework 3.2``` has been supported from django 0.1.3,so my `Django rest framework` version is 3.2.0 \r\n```\r\npi@raspberrypi:~/workspace/augmented-traffic-control/utils $ pip show djangorestframework\r\nName: djangorestframework\r\nVersion: 3.2.0\r\nSummary: Web APIs for Django, made easy.\r\nHome-page: http://www.django-rest-framework.org\r\nAuthor: Tom Christie\r\nAuthor-email: tom@tomchristie.com\r\nLicense: BSD\r\nLocation: /usr/local/lib/python2.7/dist-packages\r\nRequires:\r\n```\r\nthe versions of these libraries seems no problem. after that,I found django has a new meta API in the version of 1.10:\r\nhttps://docs.djangoproject.com/en/1.10/ref/models/meta/ \uff0c`get_all_related_objects` was removed \r\nbut `get_all_related_objects` is using in `django-rest-framework 3.2.0`\r\nhttps://github.com/encode/django-rest-framework/blob/3.2.0/rest_framework/utils/model_meta.py#L130\r\n\r\nIs this the cause of the problem?\r\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/351/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dthkao": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/349", "title": "Support burst bandwith and duplication settings in the API?", "body": "Would it be possible to support burst bandwith and duplication settings in the ATC RESTful API?\r\n\r\nAIUI implementation for burst shouldn't be too much of a deviation from the 'rate' field and duplication shouldn't be too different from corruption or reordering.", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/349/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/317", "title": "Support multiple shapings per device?", "body": "Not a bug, but more of a feature request. Does the atcd API support (or is there a plan to support) multiple shapings per source IP and/or more advanced filtering (e.g., destination ip vis u32 filters)?", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/317/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "tachu": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/341", "title": "Any shaping settings give inconsistent results", "body": "I'm running atcd (0.1.6) on ubuntu 16.04 I've setup the server as a gateway using both nic. One nick is connected to my LAN on 10.24.0.0/24 network \r\nseconds nic is initialized on vlan 255 and ip 192.168.128.0/24 \r\nMachine is setup as a gateway for clients with dhcp provided. all clients connect to network via wireless on save vlan. \r\n\r\nI've run several tests with atcd disabled and speed tests are consistent at around 50mbps down and 30mbps up. enabling atcd for a device drops the speed way below the settings on the profile. \r\n\r\nExample is\r\n\r\nCable profile 1000kbps up 6000 down. \r\nspeed test reports max of 3000 down and 740 up. I've tried increasing the numbers to 12000 down and 6000 up and reports still shows same bandwidth result. \r\n\r\nRemoving shaping for that device and retesting reports again 50mbps down and 30mbps up. \r\n\r\nI  notice dmesg reporting\r\n[75883.030421] htb: netem qdisc 8004: is non-work-conserving?\r\n[75883.089821] htb: netem qdisc 8003: is non-work-conserving?\r\n[76228.413021] htb: netem qdisc 8006: is non-work-conserving?\r\n[76228.462346] htb: netem qdisc 8005: is non-work-conserving?\r\n\r\nHEre is dump info\r\n\r\nroot@Slacker:~/augmented-traffic-control/utils# ./dump_system_info.sh \r\n\r\n######### uname -a #########\r\n\r\nLinux Slacker 4.4.0-96-generic #119-Ubuntu SMP Tue Sep 12 14:59:54 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n######### cat /etc/os-release #########\r\n\r\nNAME=\"Ubuntu\"\r\nVERSION=\"16.04.3 LTS (Xenial Xerus)\"\r\nID=ubuntu\r\nID_LIKE=debian\r\nPRETTY_NAME=\"Ubuntu 16.04.3 LTS\"\r\nVERSION_ID=\"16.04\"\r\nHOME_URL=\"http://www.ubuntu.com/\"\r\nSUPPORT_URL=\"http://help.ubuntu.com/\"\r\nBUG_REPORT_URL=\"http://bugs.launchpad.net/ubuntu/\"\r\nVERSION_CODENAME=xenial\r\nUBUNTU_CODENAME=xenial\r\n\r\n######### python -V #########\r\n\r\nPython 2.7.12\r\n\r\n######### pip freeze #########\r\n\r\nadium-theme-ubuntu==0.3.4\r\natc-thrift==0.1.6\r\natcd==0.1.6\r\ndaemonize==2.4.7\r\nDjango==1.11.6\r\ndjango-atc-api==0.1.6\r\ndjango-atc-demo-ui==0.1.6\r\ndjango-atc-profile-storage==0.1.6\r\ndjango-bootstrap-themes==3.3.6\r\ndjango-static-jquery==1.11.1\r\ndjangorestframework==3.6.4\r\nfutures==3.1.1\r\npyotp==1.4.1\r\npyroute2==0.3.3\r\npytz==2017.2\r\nsix==1.11.0\r\nsparts==0.7.1\r\nthrift==0.10.0\r\nunity-lens-photos==1.0\r\nYou are using pip version 8.1.1, however version 9.0.1 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n\r\n######### ip r #########\r\n\r\ndefault via 10.24.4.1 dev eno1 onlink \r\n10.24.4.0/22 dev eno1  proto kernel  scope link  src 10.24.4.99 \r\n169.254.0.0/16 dev eno2.255  scope link  metric 1000 \r\n192.168.128.0/24 dev eno2.255  proto kernel  scope link  src 192.168.128.1 \r\n\r\n######### iptables-save #########\r\n\r\n# Generated by iptables-save v1.6.0 on Fri Oct  6 14:47:37 2017\r\n*filter\r\n:INPUT ACCEPT [406130:550661434]\r\n:FORWARD ACCEPT [452698:675838389]\r\n:OUTPUT ACCEPT [192325:11860521]\r\n-A FORWARD -i eno2.255 -o eno1 -m state --state RELATED,ESTABLISHED -j ACCEPT\r\n-A FORWARD -i eno2.255 -o eno1 -j ACCEPT\r\nCOMMIT\r\n# Completed on Fri Oct  6 14:47:37 2017\r\n# Generated by iptables-save v1.6.0 on Fri Oct  6 14:47:37 2017\r\n*mangle\r\n:PREROUTING ACCEPT [22251:11227350]\r\n:INPUT ACCEPT [5672:879536]\r\n:FORWARD ACCEPT [12067:9571076]\r\n:OUTPUT ACCEPT [921:88087]\r\n:POSTROUTING ACCEPT [12988:9659163]\r\n-A FORWARD -d 192.168.128.106/32 -i eno1 -j MARK --set-xmark 0x2/0xffffffff\r\n-A FORWARD -s 192.168.128.106/32 -i eno2.255 -j MARK --set-xmark 0x2/0xffffffff\r\nCOMMIT\r\n# Completed on Fri Oct  6 14:47:37 2017\r\n# Generated by iptables-save v1.6.0 on Fri Oct  6 14:47:37 2017\r\n*nat\r\n:PREROUTING ACCEPT [24127:3795964]\r\n:INPUT ACCEPT [11488:1857333]\r\n:OUTPUT ACCEPT [207:12727]\r\n:POSTROUTING ACCEPT [187:11286]\r\n-A POSTROUTING -o eno1 -j MASQUERADE\r\nCOMMIT\r\n# Completed on Fri Oct  6 14:47:37 2017\r\n\r\n######### ip r #########\r\n\r\ndefault via 10.24.4.1 dev eno1 onlink \r\n10.24.4.0/22 dev eno1  proto kernel  scope link  src 10.24.4.99 \r\n169.254.0.0/16 dev eno2.255  scope link  metric 1000 \r\n192.168.128.0/24 dev eno2.255  proto kernel  scope link  src 192.168.128.1 \r\n\r\n######### ip a #########\r\n\r\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1\r\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\r\n    inet 127.0.0.1/8 scope host lo\r\n       valid_lft forever preferred_lft forever\r\n    inet6 ::1/128 scope host \r\n       valid_lft forever preferred_lft forever\r\n2: eno1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc htb state UP group default qlen 1000\r\n    inet 10.24.4.99/22 brd 10.24.7.255 scope global eno1\r\n       valid_lft forever preferred_lft forever\r\n       valid_lft forever preferred_lft forever\r\n3: eno2: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq state UP group default qlen 1000\r\n       valid_lft forever preferred_lft forever\r\n4: eno2.255@eno2: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc htb state UP group default qlen 1000\r\n    inet 192.168.128.1/24 brd 192.168.128.255 scope global eno2.255\r\n       valid_lft forever preferred_lft forever\r\n       valid_lft forever preferred_lft forever\r\n\r\n######### tc qdisc show dev eno1 #########\r\n\r\nqdisc htb 1: root refcnt 6 r2q 10 default 0 direct_packets_stat 94727 direct_qlen 1000\r\nqdisc netem 8005: parent 1:2 limit 1000 delay 2.0ms\r\n\r\n######### tc class show dev eno1 #########\r\n\r\nclass htb 1:2 root leaf 8005: prio 0 rate 5Mbit ceil 5Mbit burst 1600b cburst 1600b \r\n\r\n######### tc filter show dev eno1 #########\r\n\r\nfilter parent 1: protocol ip pref 1 fw \r\nfilter parent 1: protocol ip pref 1 fw handle 0x2 classid 1:2  police 0x5 rate 5Mbit burst 12000b mtu 2Kb action drop overhead 0b \r\nref 1 bind 1\r\n\r\n\r\n######### tc qdisc show dev eno2.255 #########\r\n\r\nqdisc htb 1: root refcnt 2 r2q 10 default 0 direct_packets_stat 144355 direct_qlen 1000\r\nqdisc netem 8006: parent 1:2 limit 1000 delay 2.0ms\r\n\r\n######### tc class show dev eno2.255 #########\r\n\r\nclass htb 1:2 root leaf 8006: prio 0 rate 12Mbit ceil 12Mbit burst 1597b cburst 1597b \r\n\r\n######### tc filter show dev eno2.255 #########\r\n\r\nfilter parent 1: protocol ip pref 1 fw \r\nfilter parent 1: protocol ip pref 1 fw handle 0x2 classid 1:2  police 0x6 rate 12Mbit burst 12000b mtu 2Kb action drop overhead 0b \r\nref 1 bind 1\r\n\r\nroot@Slacker:~/augmented-traffic-control/utils# \r\n\r\n\r\nHere is after removing shapping\r\n\r\nroot@Slacker:~/augmented-traffic-control/utils# ./dump_system_info.sh \r\n\r\n######### uname -a #########\r\n\r\nLinux Slacker 4.4.0-96-generic #119-Ubuntu SMP Tue Sep 12 14:59:54 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n######### cat /etc/os-release #########\r\n\r\nNAME=\"Ubuntu\"\r\nVERSION=\"16.04.3 LTS (Xenial Xerus)\"\r\nID=ubuntu\r\nID_LIKE=debian\r\nPRETTY_NAME=\"Ubuntu 16.04.3 LTS\"\r\nVERSION_ID=\"16.04\"\r\nHOME_URL=\"http://www.ubuntu.com/\"\r\nSUPPORT_URL=\"http://help.ubuntu.com/\"\r\nBUG_REPORT_URL=\"http://bugs.launchpad.net/ubuntu/\"\r\nVERSION_CODENAME=xenial\r\nUBUNTU_CODENAME=xenial\r\n\r\n######### python -V #########\r\n\r\nPython 2.7.12\r\n\r\n######### pip freeze #########\r\n\r\nadium-theme-ubuntu==0.3.4\r\natc-thrift==0.1.6\r\natcd==0.1.6\r\ndaemonize==2.4.7\r\nDjango==1.11.6\r\ndjango-atc-api==0.1.6\r\ndjango-atc-demo-ui==0.1.6\r\ndjango-atc-profile-storage==0.1.6\r\ndjango-bootstrap-themes==3.3.6\r\ndjango-static-jquery==1.11.1\r\ndjangorestframework==3.6.4\r\nfutures==3.1.1\r\npyotp==1.4.1\r\npyroute2==0.3.3\r\npytz==2017.2\r\nsix==1.11.0\r\nsparts==0.7.1\r\nthrift==0.10.0\r\nunity-lens-photos==1.0\r\nYou are using pip version 8.1.1, however version 9.0.1 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n\r\n######### ip r #########\r\n\r\ndefault via 10.24.4.1 dev eno1 onlink \r\n10.24.4.0/22 dev eno1  proto kernel  scope link  src 10.24.4.99 \r\n169.254.0.0/16 dev eno2.255  scope link  metric 1000 \r\n192.168.128.0/24 dev eno2.255  proto kernel  scope link  src 192.168.128.1 \r\n\r\n######### iptables-save #########\r\n\r\n# Generated by iptables-save v1.6.0 on Fri Oct  6 14:49:13 2017\r\n*filter\r\n:INPUT ACCEPT [407393:550853438]\r\n:FORWARD ACCEPT [452736:675851292]\r\n:OUTPUT ACCEPT [192893:11910114]\r\n-A FORWARD -i eno2.255 -o eno1 -m state --state RELATED,ESTABLISHED -j ACCEPT\r\n-A FORWARD -i eno2.255 -o eno1 -j ACCEPT\r\nCOMMIT\r\n# Completed on Fri Oct  6 14:49:13 2017\r\n# Generated by iptables-save v1.6.0 on Fri Oct  6 14:49:13 2017\r\n*mangle\r\n:PREROUTING ACCEPT [1559:247082]\r\n:INPUT ACCEPT [1036:147283]\r\n:FORWARD ACCEPT [24:2711]\r\n:OUTPUT ACCEPT [514:44028]\r\n:POSTROUTING ACCEPT [538:46739]\r\nCOMMIT\r\n# Completed on Fri Oct  6 14:49:13 2017\r\n# Generated by iptables-save v1.6.0 on Fri Oct  6 14:49:13 2017\r\n*nat\r\n:PREROUTING ACCEPT [24678:3879108]\r\n:INPUT ACCEPT [11779:1899861]\r\n:OUTPUT ACCEPT [242:14827]\r\n:POSTROUTING ACCEPT [222:13386]\r\n-A POSTROUTING -o eno1 -j MASQUERADE\r\nCOMMIT\r\n# Completed on Fri Oct  6 14:49:13 2017\r\n\r\n######### ip r #########\r\n\r\ndefault via 10.24.4.1 dev eno1 onlink \r\n10.24.4.0/22 dev eno1  proto kernel  scope link  src 10.24.4.99 \r\n169.254.0.0/16 dev eno2.255  scope link  metric 1000 \r\n192.168.128.0/24 dev eno2.255  proto kernel  scope link  src 192.168.128.1 \r\n\r\n######### ip a #########\r\n\r\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1\r\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\r\n    inet 127.0.0.1/8 scope host lo\r\n       valid_lft forever preferred_lft forever\r\n    inet6 ::1/128 scope host \r\n       valid_lft forever preferred_lft forever\r\n2: eno1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc htb state UP group default qlen 1000\r\n    inet 10.24.4.99/22 brd 10.24.7.255 scope global eno1\r\n       valid_lft forever preferred_lft forever\r\n       valid_lft forever preferred_lft forever\r\n3: eno2: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq state UP group default qlen 1000\r\n       valid_lft forever preferred_lft forever\r\n4: eno2.255@eno2: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc htb state UP group default qlen 1000\r\n    inet 192.168.128.1/24 brd 192.168.128.255 scope global eno2.255\r\n       valid_lft forever preferred_lft forever\r\n       valid_lft forever preferred_lft forever\r\n\r\n######### tc qdisc show dev eno1 #########\r\n\r\nqdisc htb 1: root refcnt 6 r2q 10 default 0 direct_packets_stat 94823 direct_qlen 1000\r\n\r\n######### tc class show dev eno1 #########\r\n\r\n\r\n######### tc filter show dev eno1 #########\r\n\r\n\r\n######### tc qdisc show dev eno2.255 #########\r\n\r\nqdisc htb 1: root refcnt 2 r2q 10 default 0 direct_packets_stat 144506 direct_qlen 1000\r\n\r\n######### tc class show dev eno2.255 #########\r\n\r\n\r\n######### tc filter show dev eno2.255 #########\r\n\r\nroot@Slacker:~/augmented-traffic-control/utils# \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "kavithaks": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/319", "title": "I have installed ATC(augmented traffic control)- how to access it via mobile device - As unable use the same network between the laptop and device. Could anyone please guide me the detailed steps to perform in order to access ATC via mobile device", "body": "<!--\r\nIf you are filling an issue, please provide the information below, if this is not a bug and just a question, you can skip it.\r\n\r\n---------------------------------------------------\r\nBUG REPORT INFORMATION\r\n---------------------------------------------------\r\nHere are a few questions that will help us get a better understanding of your setup. Please take a minute to answer them, this will avoid some back and forth communication by providing some context to us.\r\n-->\r\n**Meeting the requirements:**\r\n**ATC** has a few requirements, this section is used to make sure the requirements are met. Until you can check all the boxes, **ATC** will not work on your system.\r\n- [ ] `atcd` runs on Linux\r\n- [ ] `atcd` has 2 physical interfaces\r\n - [ ] 1 that connects to the internet (WAN)\r\n - [ ] 1 that connects to the local network (LAN)\r\n- [ ] the traffic from the devices that are being shaped is routed through `atcd`\r\n- [ ] `atcd` sees the real IP of the devices (e.g there is no **NAT** on the LAN segment)\r\n\r\n**Checking for special atcd options:**\r\n\r\nIn some cases, `atcd` default configuration may not be suitable for your system. Use:\r\n```\r\natcd -h\r\n```\r\ndo change those default to suit your setup.\r\nFor instance, if your lan interface is `wlan0`, you should start `atcd` using:\r\n```\r\natcd --atcd-lan wlan0\r\n```\r\n\r\n**Steps to reproduce the issue:**\r\n1.\r\n2.\r\n3.\r\n\r\n\r\n**Describe the results you received:**\r\n\r\n\r\n**Describe the results you expected:**\r\n\r\n\r\n\r\n**Any additional information that you think is important:**\r\n\r\n\r\n**Dumping system info:**\r\n\r\nWhile this may not be required in many cases, providing the following information will help us better understand your setup.\r\n\r\n**NOTE**: before putting the output on gist, please check its content is fine to be publically available\r\n\r\nRun https://github.com/facebook/augmented-traffic-control/blob/master/utils/dump_system_info.sh and upload the content of the logs to [https://gist.github.com/](gist)\r\n\r\n```\r\ncurl https://raw.githubusercontent.com/facebook/augmented-traffic-control/master/utils/dump_system_info.sh | bash -s -\r\n```\r\n\r\nThis default to using `eth0` and `eth1` for `wan` and `lan` respectively. If you are using other interfaces (let say eth0 and wlan0 respectively), use:\r\n```\r\ncurl https://raw.githubusercontent.com/facebook/augmented-traffic-control/master/utils/dump_system_info.sh | bash -s -  eth0 wlan0\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "lycfr": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/318", "title": "Switch network control failed", "body": " executable code:sudo --atcd-wan eth0 --atcd-lan wlan0\r\nprompt:\r\nERROR:sparts.tasks:Error creating task, AtcdNBServerTask\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/sparts/vtask.py\", line 313, in init\r\n    t.initTask()\r\n  File \"/usr/local/lib/python2.7/dist-packages/sparts/tasks/thrift.py\", line 146, in initTask\r\n    self.server.prepare()\r\n  File \"/usr/local/lib/python2.7/dist-packages/thrift/server/TNonblockingServer.py\", line 256, in prepare\r\n    self.socket.listen()\r\n  File \"/usr/local/lib/python2.7/dist-packages/thrift/transport/TSocket.py\", line 185, in listen\r\n    self.handle.bind(res[4])\r\n  File \"/usr/lib/python2.7/socket.py\", line 224, in meth\r\n    return getattr(self._sock,name)(*args)\r\nerror: [Errno 98] Address already in use\r\nINFO:AtcdVService.AtcdLinuxShaper:Calling initialize_shaping_system\r\nINFO:AtcdVService.AtcdLinuxShaper:Running /sbin/iptables -t mangle -F FORWARD\r\nINFO:AtcdVService.AtcdLinuxShaper:deleting root QDisc on wlan0\r\nINFO:AtcdVService.AtcdLinuxShaper:setting root qdisc on wlan0\r\nINFO:AtcdVService.AtcdLinuxShaper:deleting root QDisc on eth0\r\nINFO:AtcdVService.AtcdLinuxShaper:setting root qdisc on eth0\r\nINFO:AtcdVService.AtcdLinuxShaper:Restoring shaped connection from DB\r\nERROR:AtcdVService:Unexpected Exception during init\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/sparts/vservice.py\", line 268, in _runloop\r\n    instance._createTasks()\r\n  File \"/usr/local/lib/python2.7/dist-packages/sparts/vservice.py\", line 167, in _createTasks\r\n    self.tasks.init()\r\n  File \"/usr/local/lib/python2.7/dist-packages/sparts/vtask.py\", line 332, in init\r\n    len(exceptions))\r\nException: Unable to start service (1 task start errors)\r\nINFO:AtcdVService:Received graceful shutdown request\r\nDEBUG:AtcdVService:VService Active.  Awaiting graceful shutdown.\r\nINFO:AtcdVService:Waiting for tasks to shutdown gracefully...\r\nDEBUG:AtcdVService:Waiting for <atcd.AtcdDeviceTimeoutTask.AtcdDeviceTimeoutTask object at 0x7ff244717bd0> to stop...\r\nDEBUG:AtcdVService:Waiting for <atcd.backends.linux.AtcdLinuxShaper object at 0x7ff2447179d0> to stop...\r\nDEBUG:AtcdVService:Waiting for <atcd.AtcdDBQueueTask.AtcdDBQueueTask object at 0x7ff244717950> to stop...\r\nDEBUG:AtcdVService:Waiting for <atcd.AtcdThriftHandlerTask.AtcdNBServerTask object at 0x7ff2447178d0> to stop...\r\nINFO:AtcdVService:Instance shut down gracefully\r\n\r\nBut I can do it normally:sudo python manage.py runserver 0.0.0.0:8000\r\nEverything else is normal,\r\nWhat's the reason.\r\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Deathangel908": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/315", "title": "Running ATC from a laptop using 'create_ap'", "body": "I'm trying to simulate low network conditions on my real android device based on [this answer](https://stackoverflow.com/a/40488451/3872976).  I'm using a laptop (x86) with archlinux as a router. In the laptop I have wired `enp61s0` and wireless `wlp62s0` interfaces. So I created wifi access point using [create_ap](https://github.com/oblique/create_ap) command, to be specific `sudo create_ap wlp62s0 enp61s0 MSI_AP`. That thing creates `ap0` interface, which I'm connecting my android device to. I specified `ap0` as wlan interface in atc and `enp61s0` as another one. (enp61s0 is connected to internet)\r\n\r\nUnfortunately rules do not work ( I set up up and down speeds to 1kbs, but android's speedtest app shows 20mb/s). Any idea what I'm doing wrong?\r\n\r\n`create_ap` [output](https://gist.github.com/Deathangel908/ffae015e9995f80d9c7365597a6478f2)\r\n`dump_system_info` [output](https://gist.github.com/Deathangel908/e0712c32f9e0bbbe3c86e9bf27b80d80)\r\n`log` from atc is [here](https://gist.github.com/Deathangel908/f58669de7ec8f4c6b7d86e39e7846a58) ", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/315/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "winzows": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/314", "title": "ATC is Running But browsers are so slow that they can't even open them", "body": "**ATC is Running  But browsers are so slow that they can't even open them**\r\n\r\n```\r\nI use the note PC.It has a wireless network card,and Using broadband Internet access ,Wireless card sharing hot spot\r\n\r\nI started using this command \u201csudo actd \u201d ,broke\u4e86\r\nso,I've changed your code  eth0,eth1 to eth0,wlan0 \u3002Specifically, I don't remember that file\r\nSorry, my English is not very good  = = \r\n```\r\nBut browsers are so slow that they can't even open them\r\nI don't know what caused it\uff0c\r\n\r\n**can you help me?thank you very much\uff01\uff01**\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "hamsterksu": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/308", "title": "atc_demo_ui: manage/shape authorized machine", "body": "Hi everybody,\r\n\r\nI'm looking for capability to configure shaping rules for another authorized machine(controlled ip) from ui.\r\ni know it's possible to do with api. but i need to have UI for this purpose.\r\n\r\nweb ui displays a list of ip in \"Machines You Can Shape:\". but seems i can't pick anyone from it\r\n\r\nis it possible now?\r\n\r\nseems not: api doesn't allow to do it - https://github.com/facebook/augmented-traffic-control/blob/master/atc/django-atc-api/atc_api/static/js/atc-api.js#L60\r\n\r\nThanks,", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/308/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "muthurajbharathi": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/307", "title": "How to know how much packets or data  flowing to shaped devices", "body": "I want to render a live graph based on how much data or packets are flowing to devices which are shaped using atcd.\r\n\r\nAnd also i need a info of packet drop along with packets or data flow. Please help me achieving this", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/304", "title": "atc create profiles", "body": "\r\nHi I need to create profiles from backend instead from UI. How can i do that what is the end point and please provide api endpoint and parameters to be sent to create profile.", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "scvjx": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/306", "title": "ATC can not control  different mobiles", "body": "Hello, I use a PC that have two net adapters . one adapter connect internet , other connect a H3C Switch that create a WIFI.  Different mobiles use wifi can not separate control .why?", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "liuang68": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/305", "title": "sudo atcd failed", "body": "Hello,Sorry for disturbing, I wanna ask for assistance about a problem I rencently encountered\r\n.when 'sudo actd' is executed, the sentence\"can  not find actd\" is showed on my screen.However,I have installed atcd.Could anyone give me some suggestions or solutions?", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "JaewookYou": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/303", "title": "Plz help me with my atc, it successfully runned but actually not working", "body": "**ATC** has a few requirements, this section is used to make sure the requirements are met. Until you can check all the boxes, **ATC** will not work on your system.\r\n- [o ] `atcd` runs on Linux\r\n- [ o] `atcd` has 2 physical interfaces\r\n - [o ] 1 that connects to the internet (WAN)\r\n - [o ] 1 that connects to the local network (LAN)\r\n- [o ] the traffic from the devices that are being shaped is routed through `atcd`\r\n- [x ] `atcd` sees the real IP of the devices (e.g there is no **NAT** on the LAN segment)\r\n\r\n\r\n**Steps to reproduce the issue:**\r\nI succesffuly run ATC, but actually it doesn't work. I gave packet loss, delay, modify bandwidth, but device's network works well.\r\n\r\n1. Here's my network environment.\r\n\r\n                                 ATC Ubuntu\r\nap1 ---------------------eth0 | eth1 ---------------------------- ap2 ------------ adsl-----outside\r\n(mobile use this) atcd (connect lan)\r\n\r\n2. This is my ifconfig set\r\n\r\neht0 -- lan\r\neth1 -- wan\r\n\r\n$ ifconfig\r\neth0      Link encap:Ethernet  HWaddr xx:xx:xx:xx:xx:xx  \r\n          inet addr:100.100.100.1  Bcast:100.100.100.255  Mask:255.255.255.0\r\n          inet6 addr: xxxx::xxxx:xxxx:xxxx:xxxx/64 Scope:Link\r\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\r\n          RX packets:284744 errors:0 dropped:0 overruns:0 frame:0\r\n          TX packets:341465 errors:0 dropped:0 overruns:0 carrier:0\r\n          collisions:0 txqueuelen:1000 \r\n          RX bytes:215253744 (215.2 MB)  TX bytes:365172508 (365.1 MB)\r\n\r\neth1      Link encap:Ethernet  HWaddr xx:xx:xx:xx:xx:xx  \r\n          inet addr:172.xxx.xxx.250  Bcast:172.xxx.xxx.255  Mask:255.255.255.0\r\n          inet6 addr: xxxx::xxx:xxxx:xxxx:xxxx/64 Scope:Link\r\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\r\n          RX packets:361268 errors:0 dropped:0 overruns:0 frame:0\r\n          TX packets:299660 errors:0 dropped:0 overruns:0 carrier:0\r\n          collisions:0 txqueuelen:1000 \r\n          RX bytes:383028468 (383.0 MB)  TX bytes:215711661 (215.7 MB)\r\n\r\neth2      Link encap:Ethernet  HWaddr xx:xx:xx:xx:xx:xx  \r\n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\r\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\r\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\r\n          collisions:0 txqueuelen:1000 \r\n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\r\n\r\nlo        Link encap:Local Loopback  \r\n          inet addr:127.0.0.1  Mask:255.0.0.0\r\n          inet6 addr: ::1/128 Scope:Host\r\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\r\n          RX packets:21756 errors:0 dropped:0 overruns:0 frame:0\r\n          TX packets:21756 errors:0 dropped:0 overruns:0 carrier:0\r\n          collisions:0 txqueuelen:1 \r\n          RX bytes:3055869 (3.0 MB)  TX bytes:3055869 (3.0 MB)\r\n\r\n\r\n3. This is my command when run ATC\r\n\r\n(venv)a@a-Z68A-D3H-B3:~/dev/atc/atcui$ sudo atcd --thrift-host 127.0.0.1 --atcd-lan eth0 --atcd-wan eth1 --atcd-dont-drop-packets\r\nINFO:AtcdVService.AtcdNBServerTask:AtcdNBServerTask Server Started on 127.0.0.1:9090\r\nINFO:AtcdVService.AtcdLinuxShaper:Calling initialize_shaping_system\r\nINFO:AtcdVService.AtcdLinuxShaper:Running /sbin/iptables -t mangle -F FORWARD\r\nINFO:AtcdVService.AtcdLinuxShaper:deleting root QDisc on eth0\r\nINFO:AtcdVService.AtcdLinuxShaper:setting root qdisc on eth0\r\nINFO:AtcdVService.AtcdLinuxShaper:deleting root QDisc on eth1\r\nINFO:AtcdVService.AtcdLinuxShaper:setting root qdisc on eth1\r\nINFO:AtcdVService.AtcdLinuxShaper:Restoring shaped connection from DB\r\nINFO:AtcdVService.AtcdLinuxShaper:Request startShaping TrafficControl(device=TrafficControlledDevice(controllingIP='100.100.100.1', controlledIP='100.100.100.1'), timeout=85805.38567900658, settings=TrafficControlSetting(down=Shaping(loss=Loss(percentage=0.0, correlation=0.0), delay=Delay(delay=0, jitter=0, correlation=0.0), rate=None, iptables_options=[], corruption=Corruption(percentage=0.0, correlation=0.0), reorder=Reorder(percentage=0.0, correlation=0.0, gap=0)), up=Shaping(loss=Loss(percentage=0.0, correlation=0.0), delay=Delay(delay=0, jitter=0, correlation=0.0), rate=None, iptables_options=[], corruption=Corruption(percentage=0.0, correlation=0.0), reorder=Reorder(percentage=0.0, correlation=0.0, gap=0))))\r\nINFO:AtcdVService.AtcdLinuxShaper:Shaping ip 100.100.100.1 on interface eth1\r\nINFO:AtcdVService.AtcdLinuxShaper:create new HTB class on IFID eth1, classid 1:2,parent 1:0, rate 4194303kbits\r\nINFO:AtcdVService.AtcdLinuxShaper:create new Netem qdisc on IFID eth1, parent 1:2, loss 0.0%, delay 0\r\nINFO:AtcdVService.AtcdLinuxShaper:create new FW filter on IFID eth1, classid 1:2, handle 2, rate: Nonekbits\r\nINFO:AtcdVService.AtcdLinuxShaper:Running /sbin/iptables -t mangle -A FORWARD -d 100.100.100.1 -i eth1  -j MARK --set-mark 2\r\nINFO:AtcdVService.AtcdLinuxShaper:Shaping ip 100.100.100.1 on interface eth0\r\nINFO:AtcdVService.AtcdLinuxShaper:create new HTB class on IFID eth0, classid 1:2,parent 1:0, rate 4194303kbits\r\nINFO:AtcdVService.AtcdLinuxShaper:create new Netem qdisc on IFID eth0, parent 1:2, loss 0.0%, delay 0\r\nINFO:AtcdVService.AtcdLinuxShaper:create new FW filter on IFID eth0, classid 1:2, handle 2, rate: Nonekbits\r\nINFO:AtcdVService.AtcdLinuxShaper:Running /sbin/iptables -t mangle -A FORWARD -s 100.100.100.1 -i eth0  -j MARK --set-mark 2\r\nDEBUG:AtcdVService:All tasks started\r\nDEBUG:AtcdVService:VService Active.  Awaiting graceful shutdown.\r\nINFO:AtcdVService.AtcdLinuxShaper:Request requestToken(100.100.100.1, 259200)\r\n\r\n\r\n4. This is my iptables set\r\n\r\n$sudo iptables -nvL\r\n\r\nChain INPUT (policy ACCEPT 39203 packets, 22M bytes)\r\n pkts bytes target     prot opt in     out     source               destination         \r\n\r\nChain FORWARD (policy ACCEPT 280K packets, 344M bytes)\r\n pkts bytes target     prot opt in     out     source               destination         \r\n 216K  206M ACCEPT     all  --  eth0   *       0.0.0.0/0            0.0.0.0/0           \r\n\r\nChain OUTPUT (policy ACCEPT 38460 packets, 4955K bytes)\r\n pkts bytes target     prot opt in     out     source               destination         \r\n\r\n+ I've done this command set on iptables\r\n\r\n$sudo iptables --table nat --append POSTROUTING --out-interface eth1 -j MASQUERADE\r\n\r\n\r\n5. This is my ~/dev/atc/atcui/atcui/settings.py and urls.py set\r\n\r\n- settings.py\r\n\r\nALLOWED_HOSTS = ['*']\r\n\r\n# Application definition\r\n\r\nINSTALLED_APPS = [\r\n    'django.contrib.admin',\r\n    'django.contrib.auth',\r\n    'django.contrib.contenttypes',\r\n    'django.contrib.sessions',\r\n    'django.contrib.messages',\r\n    'django.contrib.staticfiles',\r\n    'rest_framework',\r\n    'atc_api',\r\n    'bootstrap_themes',\r\n    'django_static_jquery',\r\n    'atc_demo_ui',\r\n    'atc_profile_storage',\r\n]\r\n\r\n- urls.py\r\n\r\nfrom django.conf.urls import url, include\r\nfrom django.contrib import admin\r\nfrom django.views.generic.base import RedirectView\r\n\r\nurlpatterns = [\r\n    url(r'^admin/', admin.site.urls),\r\n    url(r'^api/v1/', include('atc_api.urls')),\r\n    url(r'^atc_demo_ui/', include('atc_demo_ui.urls')),\r\n    url(r'^api/v1/profiles/', include('atc_profile_storage.urls')),\r\n    url(r'^$', RedirectView.as_view(url='/atc_demo_ui/', permanent=False)),\r\n]\r\n\r\n6. Ubuntu's info\r\n\r\n######### uname -a #########\r\n\r\nLinux x-xxxx-xxx-xx 4.4.0-47-generic #68~14.04.1-Ubuntu SMP Wed Oct 26 19:42:11 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n######### cat /etc/os-release #########\r\n\r\nNAME=\"Ubuntu\"\r\nVERSION=\"14.04.5 LTS, Trusty Tahr\"\r\nID=ubuntu\r\nID_LIKE=debian\r\nPRETTY_NAME=\"Ubuntu 14.04.5 LTS\"\r\nVERSION_ID=\"14.04\"\r\nHOME_URL=\"http://www.ubuntu.com/\"\r\nSUPPORT_URL=\"http://help.ubuntu.com/\"\r\nBUG_REPORT_URL=\"http://bugs.launchpad.net/ubuntu/\"\r\n\r\n######### python -V #########\r\n\r\nPython 2.7.6\r\n\r\n######### pip freeze #########\r\n\r\nDjango==1.10.3\r\nPAM==0.4.2\r\nPillow==2.3.0\r\nTwisted-Core==13.2.0\r\nTwisted-Web==13.2.0\r\nadium-theme-ubuntu==0.3.4\r\napt-xapian-index==0.45\r\nargparse==1.2.1\r\natc-thrift==0.1.6\r\natcd==0.1.6\r\nchardet==2.0.1\r\ncolorama==0.2.5\r\ncommand-not-found==0.3\r\ndaemonize==2.4.7\r\ndebtagshw==0.1\r\ndefer==1.0.6\r\ndirspec==13.10\r\ndjango-atc-api==0.1.6\r\ndjango-atc-demo-ui==0.1.6\r\ndjango-atc-profile-storage==0.1.6\r\ndjango-bootstrap-themes==3.3.6\r\ndjango-static-jquery==1.11.1\r\ndjangorestframework==3.5.3\r\nduplicity==0.6.23\r\nfutures==3.0.5\r\nhtml5lib==0.999\r\nhttplib2==0.8\r\nlockfile==0.8\r\nlxml==3.3.3\r\noauthlib==0.6.1\r\noneconf==0.3.7.14.04.1\r\npexpect==3.1\r\npiston-mini-client==0.7.5\r\npyOpenSSL==0.13\r\npycrypto==2.6.1\r\npycups==1.9.66\r\npygobject==3.12.0\r\npyotp==1.4.1\r\npyroute2==0.3.3\r\npyserial==2.6\r\npysmbc==1.0.14.1\r\npython-apt==0.9.3.5ubuntu2\r\npython-debian==0.1.21-nmu2ubuntu2\r\npyxdg==0.25\r\nreportlab==3.0\r\nrequests==2.2.1\r\nsessioninstaller==0.0.0\r\nsix==1.5.2\r\nsoftware-center-aptd-plugins==0.0.0\r\nsparts==0.7.1\r\nsystem-service==0.1.6\r\nthrift==0.9.3\r\nunity-lens-photos==1.0\r\nurllib3==1.7.1\r\nvirtualenv==1.11.4\r\nwheel==0.24.0\r\nwsgiref==0.1.2\r\nxdiagnose==3.6.3build2\r\nzope.interface==4.0.5\r\n\r\n######### ip r #########\r\n\r\ndefault via 172.xxx.xxx.1 dev eth1  proto static \r\n100.100.100.0/24 dev eth0  proto kernel  scope link  src 100.100.100.1  metric 1 \r\n172.xxx.xxx.0/24 dev eth1  proto kernel  scope link  src 172.xxx.xxx.250  metric 1 \r\n\r\n######### iptables-save #########\r\n\r\n\r\n######### ip r #########\r\n\r\ndefault via 172.xxx.xxx.1 dev eth1  proto static \r\n100.100.100.0/24 dev eth0  proto kernel  scope link  src 100.100.100.1  metric 1 \r\n172.xxx.xxx.0/24 dev eth1  proto kernel  scope link  src 172.xxx.xxx.250  metric 1 \r\n\r\n######### ip a #########\r\n\r\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1\r\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\r\n    inet 127.0.0.1/8 scope host lo\r\n       valid_lft forever preferred_lft forever\r\n    inet6 ::1/128 scope host \r\n       valid_lft forever preferred_lft forever\r\n2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc htb state UP group default qlen 1000\r\n    inet 100.100.100.1/24 brd 100.100.100.255 scope global eth0\r\n       valid_lft forever preferred_lft forever\r\n       valid_lft forever preferred_lft forever\r\n3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc htb state UP group default qlen 1000\r\n    inet 172.xxx.xxx.250/24 brd 172.xxx.xxx.255 scope global eth1\r\n       valid_lft forever preferred_lft forever\r\n       valid_lft forever preferred_lft forever\r\n4: eth2: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc pfifo_fast state DOWN group default qlen 1000\r\n\r\n######### tc qdisc show dev eth1 #########\r\n\r\nqdisc htb 1: root refcnt 2 r2q 10 default 0 direct_packets_stat 109455 direct_qlen 1000\r\nqdisc netem 8009: parent 1:3 limit 1000 delay 1.0s loss 100%\r\n\r\n######### tc class show dev eth1 #########\r\n\r\nclass htb 1:3 root leaf 8009: prio 0 rate 1000Kbit ceil 1000Kbit burst 1600b cburst 1600b \r\n\r\n######### tc filter show dev eth1 #########\r\n\r\nfilter parent 1: protocol ip pref 1 fw \r\nfilter parent 1: protocol ip pref 1 fw handle 0x3 classid 1:3 \r\n\r\n\r\n\r\n\r\n\r\n\r\nAlways thanks for providing useful and helpful programs, and kind answer for questions.\r\nThank you so much, I'll wait your kind answer.", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "chantra": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/270", "title": "empty group not being reaped", "body": "I dont remember exactly how we triggered that, but basically, there were cases when a group was left empty after the members were removed.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/270/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/268", "title": "shaping not deleted when group is reaped", "body": "Repro:\n- create group and join with ipv4\n- join group with v6\n- shape group\n- leave group with v4\n- leave group with v6\n\nGroup is deleted, iptables entry deleted but tc's qdisc, filter and class are still present.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/268/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/267", "title": "panic: runtime error: invalid memory address or nil pointer dereference goroutine 114 [running]:", "body": "Not sure how I go to this.. but the backtrace may help in finding the potential culprit. https://gist.github.com/chantra/a1a69b4b3601f712712aa7b64b91b3ac\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/157", "title": "make syslog support optional", "body": "When running in a container, syslog may not be available and will cause atc to crash as in https://gist.github.com/chantra/2e52410da7e0f48d0eee\n\nWe should detect if syslog can be used and only enable it in that case.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/139", "title": "document atcd requirements", "body": "Many people are opening issues for support for atc but in many cases, they don't have a suitable environment to deploy ATC on.\n\nWe obviously fail at properly documenting the requirements. We should have a page specifically designed to help people meeting those requirements. Some kind of checklist with potential links to external documentation.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/45", "title": "investigate using iptables' CLASSIFY target", "body": "It appears that there is potentially a way to bypass marking packets from iptables and then filtering using the CLASSIFY target:\nhttp://www.at.netfilter.org/patch-o-matic/pom-submitted.html#pom-submitted-CLASSIFY\n\nThat would allow passing the packet directly onto the class that does the throttling.\n\nCurrent we use the policing part of the filter to drop packets when going beyond the allocated bandwidth... I am not sure we can benefit from this with the CLASSIFY target.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/45/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/575720854de4f609b6209028857ec8d81efcf654", "message": "Merge pull request #321 from stasfilin/master\n\nFix build errors"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/919dd8d27c09bfa6e6719dd1eb5d060816b9e3f9", "message": "remove unused docker build"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/8ee7aea1f4d8a0352371553964ad0246c00b7307", "message": "[doc] update to to reflect django 1.10 support and bump to 0.1.6"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/0127c603d8ab168348f3ab01f71861ec3fb94bdd", "message": "Merge pull request #297 from chantra/django_210_gh296\n\n[django] add support for django 1.10"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/8c1e4cf83ab93f2eb829b6fc429ea94b790f79ea", "message": "[doc] update documentation with django 1.10 urls.py changes"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/43a0743c95fa91f8af88d6bc8a6565bfac0ed12f", "message": "[django] add support for django 1.10\n\n* [django.url.conf.urls.patterns is deprecated](https://docs.djangoproject.com/en/1.10/releases/1.10/#features-removed-in-1-10)\n* set up [template\n* engines](https://docs.djangoproject.com/en/1.10/topics/templates/#support-for-template-engines)\n* bump django 1.10 in chef recipe\n\nFixes #296"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/6a9f97d8947dc2f9f7f23fca9fdc3ac414468893", "message": "bump v0.1.5"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/c0400ab81fa2d28a8030441e93c2d5815d48a6ae", "message": "Merge pull request #288 from chantra/fix_287\n\n[atc_profile_storage] convert content to a string as this seems to be"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/f24ca9afaacee504c755210dfe664be44c2d5314", "message": "[atc_profile_storage] convert content to a string as this seems to be\nneeded by drf.\nConfirmed that I could load new profiles using\n./utils/restore-profiles.sh localhost:8080.\nFixes #287"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/3e581f1ef6d51dd5d891b22b2e679a9e4cb7e7cd", "message": "Bump to v0.1.4"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/7f8de468da3f79b08953b88887345fcca97ee187", "message": "Merge pull request #280 from chantra/fix_chef_run_ubuntu\n\nFix chef run on ubuntu by including apt recipe and update django/django-bootstrap-themes"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/514a5cf4c807a508113a5dcedd11c648ff0e97a8", "message": "Bump django to 1.9 and django-bootstrap-themes to 3.3.6"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/8d56f27cfc62665ea9f2b50ebe334b21b439e2a0", "message": "[chef] Fix chef run on ubuntu by including apt recipe.\n\nThis will force an `apt-get update` if cache is too old.\nFixes #279"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/83b51fa0f6c8659fb8eb4f86bf3dccb3eb1167a1", "message": "Add .md extension to ISSUE_TEMPLATE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/356e904abbcd6e33bd32ead00f395f3ed1ee4b19", "message": "Create an issue template.\n\nThis should help people to give us better context and make sure that\nthey run through the checklist or requirements before opening an issue.\n\nhttps://help.github.com/articles/creating-an-issue-template-for-your-repository/\nFixes #241"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/3b3b32405c0627a2acfb6bc0d70b48b7e9363ee5", "message": "[makefile/lint] clean build folders and fix lint"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/ba13477c2af4e0b84d749e4240144511cc17bd6e", "message": "Merge pull request #220 from MiteshShah/patch-2\n\nRelated to #216 & #219"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/f9c6735564f8e22c3f17d0c98a51c1c7dbaf9006", "message": "Release 0.1.3"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/50630cedea6663f3fff72468173b981ebf96f7f7", "message": "update Vagrant images\n\nimages are now under bento/ and not chef/"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/60e38611a535273c887a0a08ff94286ab19ecd9b", "message": "Merge pull request #148 from chantra/fix_drf_32\n\nSupport Django rest framework 3.2"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/71d98610686a2bdc0b5e8e8b0f75aa9dd55b87f8", "message": "Support Django rest framework 3.2\n\nDRF has deprecated/remove request.DATA in favor of request.data\n\nhttp://www.django-rest-framework.org/topics/3.2-announcement/\nFixes #147"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/41c8df21a89aedb1e9bbe642da3adb01340fe8cc", "message": "Merge pull request #142 from zfjagann/master\n\nFix chef on centos6"}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/68809794", "body": "Thanks @zfjagann \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/68809794/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69691160", "body": "Tks @zfjagann I have a diff to land that fixes lint and foodcritic lint. I would prefer to have the diff on top of it and passing 'make lint'\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69691160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69699675", "body": "you can use:\nchef > Chef::Platform::ServiceHelpers.service_resource_providers\n => [:debian, :invokercd, :upstart]\n\nAnd check if upstart/systemd is supported\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69699675/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69699994", "body": "The diff is much bigger than it actually should be. You text editor has replaced the 2 spaces indentations by 4 spaces (ruby lint wants 2 spaces).\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69699994/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69721839", "body": "Also, this should not in the `attributes` file as it is not a configuration which is set, but should be discovered at run time in the recipe.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69721839/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69802328", "body": "I have setup test-kitchen in 0080ba62176e0b368824b4e90e34aa3c20da06a8\nTo test on every platform from scratch, you can run:\n`kitchen test`\n\nto just reprovision without destroying the vm and recreating it:\n`kitchen converge`\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69802328/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69827898", "body": "side effect of this diff is that it should make the cookbook work with centos7 which names the devices like: enp0s3, enp0s8\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69827898/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69843989", "body": "look good to me. I would be tempted to get #6 merged first so we should be able to enable centos7 \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69843989/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73335469", "body": "I am not sure. I cant really reproduce this using master. Using the payload you mentioned and posting that to  http://localhost:8080/api/v1/shape/ , atcd is shaping correctly:\n\n```\nFeb  6 23:52:51 trusty Request startShaping TrafficControl(device=TrafficControlledDevice(controllingIP='10.0.2.2', c\nontrolledIP='10.0.2.2'), timeout=86400, settings=TrafficControlSetting(down=Shaping(loss=Loss(percentage=0.0, correla\ntion=0.0), delay=Delay(delay=0, jitter=0, correlation=0.0), rate=10000, iptables_options=[], corruption=Corruption(pe\nrcentage=0.0, correlation=0.0), reorder=Reorder(percentage=0.0, correlation=0.0, gap=0)), up=Shaping(loss=Loss(percen\ntage=0.0, correlation=0.0), delay=Delay(delay=0, jitter=0, correlation=0.0), rate=10000, iptables_options=[], corrupt\nion=Corruption(percentage=0.0, correlation=0.0), reorder=Reorder(percentage=0.0, correlation=0.0, gap=0))))\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73335469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73335594", "body": "```\n{u'down': OrderedDict([(u'rate', 0), (u'loss', None), (u'delay', None), (u'corruption', None), (u'reorder', None), (u'iptables_options', None)]), u'up': OrderedDict([(u'rate', 0), (u'loss', None), (u'delay', None), (u'corruption', None), (u'reorder', None), (u'iptables_options', None)])}\n```\n\nIsn't this the defaults for the serializer and the it get populated as the payload is de-serialized?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73335594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625045", "body": "doesn't repro by posting the payload:\n\n```\n{\"address\": \"192.168.20.10\", \"down\":{\"rate\":10000,\"loss\":{\"percentage\":0.0,\"correlation\":0.0},\"delay\":{\"delay\":0,\"jitter\":0,\"correlation\":0.0},\"corruption\":{\"percentage\":0.0,\"correlation\":0.0},\"reorder\":{\"percentage\":0.0,\"correlation\":0.0,\"gap\":0},\"iptables_options\":[]},\"up\":{\"rate\":10000,\"loss\":{\"percentage\":0.0,\"correlation\":0.0},\"delay\":{\"delay\":0,\"jitter\":0,\"correlation\":0.0},\"corruption\":{\"percentage\":0.0,\"correlation\":0.0},\"reorder\":{\"percentage\":0.0,\"correlation\":0.0,\"gap\":0},\"iptables_options\":[]}}\n```\n\nto `/api/v1/shape/`\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625045/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625347", "body": "yeah it should be the same. I will see what I can do.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625347/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73632455", "body": "Re-assigning to myself as discussed.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73632455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73633390", "body": "`curl -H \"Content-Type: application/json\" ...`\n\nshould fix your issue....\n\nWe should try to find a saner way to fail though\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73633390/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73634161", "body": "This is due to how _django-rest-framework_ works:\n\nhttp://www.django-rest-framework.org/api-guide/parsers/\n\n```\nNote: When developing client applications always remember to make sure you're setting the Content-Type header when sending data in an HTTP request.\n\nIf you don't set the content type, most clients will default to using 'application/x-www-form-urlencoded', which may not be what you wanted.\n\nAs an example, if you are sending json encoded data using jQuery with the .ajax() method, you should make sure to include the contentType: 'application/json' setting.\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73634161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9253538", "body": "This is definitely not the right place. It is the job of ohai to detect those kind of things, so you may want to make a ohai plugin to discover the init system used by the host.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9253538/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9253545", "body": "Foodcritic lint complains about:\nFC048: Prefer Mixlib::ShellOut: chef/atc/attributes/default.rb:74\nFC048: Prefer Mixlib::ShellOut: chef/atc/attributes/default.rb:75\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9253545/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9253579", "body": "that fails to provision when provisioning trusty:\n\n==> trusty: ================================================================================\n==> trusty: Recipe Compile Error in /tmp/vagrant-chef-2/chef-solo-1/cookbooks/atc/attributes/default.rb\n==> trusty: ================================================================================\n==> trusty:\n==> trusty:\n==> trusty: Errno::ENOENT\n==> trusty: -------------\n==> trusty: No such file or directory - /usr/lib/systemd/systemd\n==> trusty:\n==> trusty:\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9253579/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9270227", "body": "lint :s\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9270227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/17604243", "body": "This is not taking into the case in #270, e.g\n- createGroup {ip}\n- createGroup {ip}\n\nresult: we have 2 groups, 1 empty and the other one with {ip}\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/17604243/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/17619088", "body": "I meant the unit test does not seem to cover the specific flow of create/create and confirm only one group is left.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/17619088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736080", "body": "Let separate this diff from the rest in another PR. Also we should monitor when the upstream version is bumped so we can remove this entry again (and maybe lock to a known stable version).\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736080/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736302", "body": "is this pulling it from vagrantbox? Can we align and just use the ones from opscode's bento:\nhttp://opscode-vm-bento.s3.amazonaws.com/vagrant/virtualbox/opscode_ubuntu-14.04_chef-provisionerless.box\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736410", "body": "let's try to find a naming convention. We should have something along atc_<platform>_<version> .\nBut that can go in another diff.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736410/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736524", "body": "I will just remove this in another diff. It is not worth keeping the 2 types of boxes for the time being.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736524/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736893", "body": "I have mixed feeling here. We should definitely separate permissions for the daemon and for the client. But in a way, we may just consider that the user settings only apply to !atcd in general.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736893/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22737099", "body": "maybe only gate with something along the line:\nunless node['platform_family'] == 'rhel' and node['platform_version'] < '7.0'\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22737099/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22748887", "body": "the namespace is `default['atc']`\n\nso  let say:\n\n```\ndefault['atc']['atcui']['user'] = 'atc'\ndefault['atc']['atcd']['user'] = 'root'\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22748887/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22748971", "body": "tricky....\n\nso let's have recipes for sysvinit, systemd and upstart.\n\nin one of the main recipe, do the filtering you need and include either of the recipes and fallback on sysvinit.\n\nWorth making a helper function for that.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22748971/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22749094", "body": "wrong link?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22749094/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22752730", "body": "On this one we can settle on\nplatformversion\nso\nubuntu1204, centos65, fedora21...\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22752730/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22752818", "body": "So opscode boxen are usually lighter weight (kindda base install + box tools), let's use them as the base.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22752818/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22844714", "body": "if (eth.encapsulation == \"Ethernet\") && (name != wan_iface) \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22844714/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22844722", "body": "you could break as you find a match.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22844722/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22905497", "body": "I agree it is a pain, but we should stick to 80 chars to everything or nothing.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22905497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/24944134", "body": "so this can be changed to the shortname version `chef/ubuntu-12.04` for box, and url can be skipped. See 25672afadac9529b21b3139cc69a2a675ac8e770 for reference.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/24944134/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/24944236", "body": "`box.vm.box = boxinfo[:box]`\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/24944236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/24944249", "body": "this can be deleted\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/24944249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25215167", "body": "css maybe :)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25215167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25215517", "body": "https://github.com/facebook/augmented-traffic-control\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25215517/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25215619", "body": "This is a super long line, can it be wrapped?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25215619/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25216149", "body": "We should try to remove those. I will task this separately.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25216149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "zfjagann": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/186", "title": "Replace shaping instead of delete/create", "body": "We should be smarter about how we manage shaping. If someone calls shape twice the second call shouldn't unshape and re-shape, instead it should be smart and replace only the pieces that have changed.\n\nThis is pretty easy given the rich `tc` API we're using but the `iptables` API isn't as full featured so we'll have to be clever here.\n\nMight depend on #173.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/180", "title": "Bump golang api version to `v2`", "body": "Should be `/api/v2` instead of `/api/v1`\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/124", "title": "Add device whitelist to ATCD config", "body": "Whitelist should contain device addresses which are allowed to shape any and all other devices. (Short-cutting our token 2fac system).\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/53", "title": "Support traffic shaping based on ports", "body": "Primary way of specifying ports to shape should be port-range, such as `1..65535`\n\nWould also be nice to specify discrete list of ports, such as `22, 80, 443, 8080`\n\nProbably need to figure out a good way to allow specifying either of these inputs in a single format.\n\nPerhaps a string input, which is split in the API. E.g. `\"ports\": \"22,80,443,8000..8999\"`\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/53/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/e4eab1fe6a8cf5acdf22e511ebad39f3c5ef5f61", "message": "Merge pull request #252 from chantra/issue_template\n\nCreate an issue template."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/165f7d9cda6dabe3d3e265178f76d1dc1726ae38", "message": "Merge pull request #237 from chantra/fix_lint\n\nFix lint and make clean"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/87b474523108113cccc3a38aadb1e06e33aa9a3c", "message": "Merge pull request #236 from pra85/patch-1\n\nMake ending license year evergreen"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/88302f77ac2bae2b081b797c80cdf7a94bcd0a65", "message": "Fix chef on centos6"}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69381071", "body": "Added an Ubuntu 14.04 vagrant VM, which can be brought up using `vagrant up atctrusty`. Chef will provision it normally, so this VM can be used to test the newest Ubuntu LTS.\n\nChanged the ATCUI init script from sysvinit to upstart. We probably want to write a systemd config for it as well since Fedora/Red Hat/Arch/etc. [have all switched](http://en.wikipedia.org/wiki/Systemd#Adoption_and_reception).\n\nModified ATCUI to run as the unix user `atc`, using the upstart script's `setuid` stanza.\nSince this stanza was added in upstart version 1.4, CentOS (running upstart version 0.6.5) cannot use it. As a result, CentOS will still run ATCUI as `root`.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69381071/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69403447", "body": "Split into #3 and #4.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69403447/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69659938", "body": "Probably want to abstract this logic out into a method. For now it's only used here, though, so I think it's sufficient.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69659938/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69694133", "body": "Sure thing. Push your commits up and I'll rebase mine.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69694133/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69828398", "body": "That is correct. This is primarily to support newer platforms that use static device-based naming schemes (e.g. `enp0s3`), rather than the older kernel naming schemes (e.g. `eth1`).\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69828398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69844058", "body": "I would merge this first since it fixes some compatability issues with the ubuntu machines. I'll rebase and test #6  afterwards.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69844058/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69845419", "body": "Testing with knife now. Will merge if that and lint pass.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69845419/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69847458", "body": "Fixed by #8 \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69847458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69850371", "body": "Kitchen tests and lint all passed. Merging now.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69850371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73326658", "body": "@chantra: Do you have any thoughts about why this is happening?\n\nMy e2e tests depend on being able to reliably post data to the API, so until this is fixed e2e is blocked.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73326658/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73335710", "body": "It's possible I broke something while testing. I'll try to repruduce on master and get back to you.\n\nYes, those are the defaults, but in my posted data, I submitted more detailed information about each field than that. In addition, having `None` values causes ThriftSerializer to fail to serialize the object.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73335710/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625052", "body": "I'm still having this issue on master:\n\nThe changes I made were to add some debugging information to help disagnose an unrelated issue (#11), and didn't cause it.\n\nThe traceback below is a bit obfuscated, but when I looked into it it was because fields were being set to `None` rather than the values provided by the API.\n\nThe traceback I get:\n\n```\nTraceback:\nFile \"/usr/local/atc/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py\" in get_response\n  111.                     response = wrapped_callback(request, *callback_args, **callback_kwargs)\nFile \"/usr/local/atc/venv/local/lib/python2.7/site-packages/django/views/decorators/csrf.py\" in wrapped_view\n  57.         return view_func(*args, **kwargs)\nFile \"/usr/local/atc/venv/local/lib/python2.7/site-packages/django/views/generic/base.py\" in view\n  69.             return self.dispatch(request, *args, **kwargs)\nFile \"/usr/local/atc/venv/local/lib/python2.7/site-packages/rest_framework/views.py\" in dispatch\n  407.             response = self.handle_exception(exc)\nFile \"/usr/local/atc/venv/local/lib/python2.7/site-packages/rest_framework/views.py\" in dispatch\n  404.             response = handler(request, *args, **kwargs)\nFile \"/usr/local/src/atc/atc/django-atc-api/atc_api/views.py\" in decorator\n  39.         return method(cls, request, service, *args, **kwargs)\nFile \"/usr/local/src/atc/atc/django-atc-api/atc_api/views.py\" in post\n  96.         setting = setting_serializer.save()\nFile \"/usr/local/atc/venv/local/lib/python2.7/site-packages/rest_framework/serializers.py\" in save\n  164.             self.instance = self.create(validated_data)\nFile \"/usr/local/src/atc/atc/django-atc-api/atc_api/serializers.py\" in create\n  62.                 args[arg_name] = serializer.create(attrs[f_name])\nFile \"/usr/local/src/atc/atc/django-atc-api/atc_api/serializers.py\" in create\n  62.                 args[arg_name] = serializer.create(attrs[f_name])\nFile \"/usr/local/src/atc/atc/django-atc-api/atc_api/serializers.py\" in create\n  57.             if f_name not in attrs:\n\nException Type: TypeError at /api/v1/shape/\nException Value: argument of type &#39;NoneType&#39; is not iterable\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625052/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625228", "body": "Should posting to `/api/v1/shape/{ip}/` be the same as posting json `{\"address\":\"{ip}\"...`\n\nIs one preferable to the other?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625558", "body": "I was working on fixing this when #10 sprang up. I'm still working on both of them, I'm mostly posting these issues here to keep you updated and so I don't forget about them.\n\nFeel free to steal them from me, but don't feel obligated.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625558/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73798007", "body": "Looks good. I'll tweak my e2e testing VMs before I merge those changes.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73798007/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9265526", "body": "I tested this thoroughly on precise/trusty and centos until it worked. I am surprised to see it not working. I will fix this ASAP.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9265526/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9270428", "body": "8e43f8456a3bedb046e1eb2301ff0604d25f0014\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9270428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/17619041", "body": "How did you reproduce this?\n\n```\n$ atc list\n$ atc create 127.1.0.1\n1: 127.1.0.1\n$ atc create 127.1.0.1\n2: 127.1.0.1\n$ atc list\n2: 127.1.0.1\n$ atc leave 2 127.1.0.1\n$\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/17619041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/17619192", "body": "Correct, I just re-enabled the test I disabled previously.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/17619192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22742717", "body": "The difficulty here is that newer RHEL distros use systemd, not upstart (including CentOS 7.0), so the upstart script won't work at all, and shouldn't be included.\n\nI'm going to write a systemd config for atcui, test it on arch/centos/fedora and submit it in a separate PR. I think for the time being this code is hacky, but sufficient, since it works for `centos 6.5` and `ubuntu 1{2,4}.04`.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22742717/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22742754", "body": "```\ndefault['atcui']['user'] = 'atc'\ndefault['atcd']['user'] = 'root'\n```\n\n?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22742754/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22743150", "body": "For the vagrant boxes, we can drop the `atc_`. If you're interacting with them you must already be in `chef/atc` so it seems redundant.\n\nI would just name them:\n- `centos65` (currently named `atccentos`)\n- `precise` (current named `atcubuntu`)\n- `trusty` (currently named `atctrusty`)\n- `arch`\n- `fedora21`\n- etc...\n\nFor the ubuntu releases, I think using their aliases is sufficient since they are ubiquitiously used to reference a specific release, and no other distro uses such a bizarre naming scheme.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22743150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22743263", "body": "Yes. Hypothetically if you use `vagrant up atctrusty` it should download the box automatically from [hashicorp](http://releases.ubuntu.com/). If it does not you can manually add it with `vagrant box add ubuntu/trusty64` (this is what I did).\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22743263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22743496", "body": "This is actually what I indended to do, but github merged them since the later was a FF from the existing PR. I'll create a PR for this, but we'll need to merge it before I can create the other PR.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22743496/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22744783", "body": "https://github.com/facebook/air-traffic-control/pull/3\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22744783/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22903755", "body": "word-wrapping this line seems superfluous\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22903755/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22905545", "body": "80 characters is probably fine since it's the default. I think more generally 100 is better, but I don't have strong feelings about it.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22905545/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25216963", "body": "Meh, this worked well enough and was legal JSX.\n\nIf you insist, I can move this to CSS, but I don't think it's a big deal.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25216963/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "dtaht": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/60", "title": "you got bufferbloat issues on multiple fronts", "body": "0) Policing is a horrible idea. However it is commonly used in the field. It is impossible to set the burst parameter correctly for any range of RTTs.\n\n1) qdisc netem 8001: parent 1:2 limit 1000 delay 10.0ms loss 1%\n\nthe arbitrary setting of limit 1000 does not match reality. We have seen both much larger and much smaller values in the field. try fiddling with this parameter in your testing.\n\nAlso, setting 3 queues of limit 1000 will do \"interesting things\" if you flood all the queues.\n\n2) you have htb doing stuff to \"direct\" for some reason, not sure if htb \"default 0\" is intentional. For some pithy comments on how to screw up with htb, see: http://www.bufferbloat.net/projects/cerowrt/wiki/Wondershaper_Must_Die\n\n3) I have never really trusted netem in conjunction with other qdiscs.\n\n4) It would be nice to be able to inject cures like fq_codel into the emulations (but see 3)\n\n5) I would love it if you were to try netperf-wrapper (also on github) against your tool, with emulations of cablemodems created with this tool (cable uses byte fifos, not packet fifos, btw), and see if your results line up with what we get from real world examples like \n\nhttp://snapon.lab.bufferbloat.net/~cero2/jimreisert/results.html\n\nhttp://burntchrome.blogspot.com/2014/05/fixing-bufferbloat-on-comcasts-blast.html\n\nWe have plenty of results for wifi as well, perhaps we can find a meeting of the tools that makes sense.\n\nAlways nice to see more network analysis and debugging tools out there!\n\n6) if you wish to discuss further, it is saner to do it on the bloat bufferbloat.net mailing list.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/60/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "abackholm": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/57", "title": "Dormancy timers", "body": "In our testing of networks around the world, we've observed timers that drop dormant tcp sockets as fast as in 2-5 minutes, although 15-20 is more general. Those tend to have significant effect on mechanisms to maintain long-lived tcp sockets. It would be great to be able to simulate that with the tool.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/57/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "stasfilin": {"issues": [], "commits": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/104056c3e40bcfd428cda68d8cb55c2998a7c504", "message": "fix build errors"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "smorad": {"issues": [], "commits": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/7a857165da1980fd94a4b9845990d425bf4f53b1", "message": "Fix issue #275\n\nAdd additional import to python readme"}], "pull_requests": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/316", "title": "Update Setup.md", "body": "Talked a user through setting up atc. Turns out that pip will silently fail to install the atcd binary to /usr/local/bin if they don't have write permission. Add sudo to the guide so they aren't as confused.", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pra85": {"issues": [], "commits": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/d7f4074597ec9fac5c11420d92a169dc1237fbd3", "message": "Make ending license year evergreen"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "MiteshShah": {"issues": [], "commits": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/6631a2a297adfe44df7c2fde1e75338af79e7244", "message": "Related to #216 & #219"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "KeleiAzz": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/352", "title": "Sync with intern", "body": "Sync with intern to resolve merge conflict in shipit", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "ss18": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/347", "title": "Fixed typo: bandwith -> bandwidth", "body": "bandwith -> bandwidth", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sheenobu": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/339", "title": "Add gitignore vendor file, with atc_thrift exception. Add atcd-remote\u2026", "body": "\u2026 file", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "smilexiaoxin888": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544581", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544581/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544582", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544582/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544583", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544584", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544584/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544588", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544588/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544592", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544595", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544597", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544597/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544606", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544606/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544607", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}}}}